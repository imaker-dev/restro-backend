2026-02-03 12:15:53 [INFO]: Database pool created successfully
2026-02-03 12:15:53 [INFO]: Database connected successfully
2026-02-03 12:15:53 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:15:53 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:15:53 [WARN]: Redis connection closed
2026-02-03 12:15:53 [WARN]: Redis connection closed
2026-02-03 12:15:53 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:15:53 [WARN]: Redis connection closed
2026-02-03 12:15:53 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:15:53 [WARN]: Redis connection closed
2026-02-03 12:15:53 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:15:53 [WARN]: Redis connection closed
2026-02-03 12:15:53 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:15:53 [WARN]: Redis connection closed
2026-02-03 12:15:53 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:15:53 [ERROR]: Redis max retries reached
2026-02-03 12:15:53 [WARN]: Redis connection closed
2026-02-03 12:15:53 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:30 [INFO]: Database pool created successfully
2026-02-03 12:18:30 [INFO]: Database connected successfully
2026-02-03 12:18:30 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:30 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:30 [WARN]: Redis connection closed
2026-02-03 12:18:30 [WARN]: Redis connection closed
2026-02-03 12:18:31 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:31 [WARN]: Redis connection closed
2026-02-03 12:18:31 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:31 [WARN]: Redis connection closed
2026-02-03 12:18:31 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:31 [WARN]: Redis connection closed
2026-02-03 12:18:31 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:31 [WARN]: Redis connection closed
2026-02-03 12:18:31 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:31 [ERROR]: Redis max retries reached
2026-02-03 12:18:31 [WARN]: Redis connection closed
2026-02-03 12:18:31 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:31 [ERROR]: Redis max retries reached
2026-02-03 12:18:31 [WARN]: Redis connection closed
2026-02-03 12:18:31 [WARN]: Redis not available - running without cache/pubsub features
2026-02-03 12:18:31 [WARN]: To enable Redis, run: docker-compose -f docker-compose.dev.yml up -d redis
2026-02-03 12:18:31 [INFO]: Redis connected successfully
2026-02-03 12:18:31 [INFO]: WebSocket initialized
2026-02-03 12:18:31 [INFO]: Initialized 6 queues
2026-02-03 12:18:31 [INFO]: Queues initialized
2026-02-03 12:18:31 [INFO]: Started 3 cron jobs
2026-02-03 12:18:31 [INFO]: Cron jobs initialized
2026-02-03 12:18:31 [INFO]: Server running on port 3000 in development mode
2026-02-03 12:18:31 [ERROR]: Queue notification error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:31 [ERROR]: Queue print error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:31 [ERROR]: Queue report error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:31 [ERROR]: Queue email error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:31 [ERROR]: Queue whatsapp error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:31 [ERROR]: Queue inventory error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:32 [ERROR]: Queue inventory error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:32 [ERROR]: Queue whatsapp error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:32 [ERROR]: Queue email error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:32 [ERROR]: Queue report error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:32 [ERROR]: Queue notification error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:32 [ERROR]: Queue print error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:33 [ERROR]: Queue whatsapp error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:33 [ERROR]: Queue inventory error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:33 [ERROR]: Queue print error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:33 [ERROR]: Queue notification error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:33 [ERROR]: Queue report error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:33 [ERROR]: Queue email error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:34 [ERROR]: Queue inventory error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:34 [ERROR]: Queue whatsapp error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:34 [ERROR]: Queue email error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:34 [ERROR]: Queue report error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:34 [ERROR]: Queue notification error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:34 [ERROR]: Queue print error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:35 [ERROR]: Queue whatsapp error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:35 [ERROR]: Queue inventory error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:35 [ERROR]: Queue print error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:35 [ERROR]: Queue notification error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:35 [ERROR]: Queue report error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:35 [ERROR]: Queue email error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:36 [ERROR]: Queue inventory error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:36 [ERROR]: Queue whatsapp error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:36 [ERROR]: Queue email error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:36 [ERROR]: Queue report error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:36 [ERROR]: Queue print error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:36 [ERROR]: Queue notification error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:37 [ERROR]: Queue whatsapp error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:37 [ERROR]: Queue inventory error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:37 [ERROR]: Queue notification error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:37 [ERROR]: Queue print error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:37 [ERROR]: Queue email error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:37 [ERROR]: Queue report error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:38 [ERROR]: Queue whatsapp error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:38 [ERROR]: Queue print error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:38 [ERROR]: Queue inventory error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:38 [ERROR]: Queue notification error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:38 [ERROR]: Queue report error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:38 [ERROR]: Queue email error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:41 [ERROR]: Queue print error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:41 [ERROR]: Queue whatsapp error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:41 [ERROR]: Queue email error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:41 [ERROR]: Queue report error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:41 [ERROR]: Queue notification error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:41 [ERROR]: Queue inventory error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:44 [INFO]: Database pool created successfully
2026-02-03 12:18:44 [INFO]: Database connected successfully
2026-02-03 12:18:44 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:44 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:44 [WARN]: Redis connection closed
2026-02-03 12:18:44 [WARN]: Redis connection closed
2026-02-03 12:18:44 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:44 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:44 [WARN]: Redis connection closed
2026-02-03 12:18:44 [WARN]: Redis connection closed
2026-02-03 12:18:45 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:45 [WARN]: Redis connection closed
2026-02-03 12:18:45 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:45 [WARN]: Redis connection closed
2026-02-03 12:18:45 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:45 [ERROR]: Redis max retries reached
2026-02-03 12:18:45 [WARN]: Redis connection closed
2026-02-03 12:18:45 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:45 [ERROR]: Redis max retries reached
2026-02-03 12:18:45 [WARN]: Redis connection closed
2026-02-03 12:18:45 [WARN]: Redis not available - running without cache/pubsub features
2026-02-03 12:18:45 [WARN]: To enable Redis, run: docker-compose -f docker-compose.dev.yml up -d redis
2026-02-03 12:18:45 [WARN]: Redis not available - caching and pub/sub disabled
2026-02-03 12:18:45 [INFO]: WebSocket initialized
2026-02-03 12:18:45 [INFO]: Initialized 6 queues
2026-02-03 12:18:45 [INFO]: Queues initialized
2026-02-03 12:18:45 [INFO]: Started 3 cron jobs
2026-02-03 12:18:45 [INFO]: Cron jobs initialized
2026-02-03 12:18:45 [INFO]: Server running on port 3000 in development mode
2026-02-03 12:18:45 [ERROR]: Queue print error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:45 [ERROR]: Queue notification error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:45 [ERROR]: Queue email error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:45 [ERROR]: Queue report error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:45 [ERROR]: Queue whatsapp error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:45 [ERROR]: Queue inventory error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:46 [ERROR]: Queue inventory error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:46 [ERROR]: Queue whatsapp error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:46 [ERROR]: Queue report error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:46 [ERROR]: Queue email error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:46 [ERROR]: Queue notification error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:46 [ERROR]: Queue print error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:47 [ERROR]: Queue whatsapp error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:47 [ERROR]: Queue inventory error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:47 [ERROR]: Queue print error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:47 [ERROR]: Queue notification error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:47 [ERROR]: Queue email error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:47 [ERROR]: Queue report error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:48 [ERROR]: Queue email error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:48 [ERROR]: Queue whatsapp error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:48 [ERROR]: Queue notification error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:48 [ERROR]: Queue print error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:48 [ERROR]: Queue inventory error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:48 [ERROR]: Queue report error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:49 [ERROR]: Queue email error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:49 [ERROR]: Queue print error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:49 [ERROR]: Queue whatsapp error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:49 [ERROR]: Queue notification error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:49 [ERROR]: Queue report error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:49 [ERROR]: Queue inventory error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:50 [ERROR]: Queue email error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:50 [ERROR]: Queue print error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:50 [ERROR]: Queue inventory error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:50 [ERROR]: Queue report error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:50 [ERROR]: Queue notification error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:50 [ERROR]: Queue whatsapp error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:51 [ERROR]: Queue print error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:51 [ERROR]: Queue email error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:51 [ERROR]: Queue whatsapp error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:51 [ERROR]: Queue notification error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:51 [ERROR]: Queue report error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:51 [ERROR]: Queue inventory error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:52 [ERROR]: Queue print error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:52 [ERROR]: Queue notification error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:52 [ERROR]: Queue whatsapp error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:52 [ERROR]: Queue email error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:52 [ERROR]: Queue inventory error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:52 [ERROR]: Queue report error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:55 [ERROR]: Queue notification error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:55 [ERROR]: Queue print error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:55 [ERROR]: Queue whatsapp error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:55 [ERROR]: Queue email error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:55 [ERROR]: Queue report error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:18:55 [ERROR]: Queue inventory error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:19:03 [ERROR]: Queue print error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:19:03 [ERROR]: Queue notification error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:19:03 [ERROR]: Queue inventory error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:19:03 [ERROR]: Queue report error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:19:03 [ERROR]: Queue email error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:19:03 [ERROR]: Queue whatsapp error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:19:11 [INFO]: Database pool created successfully
2026-02-03 12:19:11 [INFO]: Database connected successfully
2026-02-03 12:19:11 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:19:11 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:19:11 [WARN]: Redis connection closed
2026-02-03 12:19:11 [WARN]: Redis connection closed
2026-02-03 12:19:11 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:19:11 [WARN]: Redis connection closed
2026-02-03 12:19:11 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:19:11 [WARN]: Redis connection closed
2026-02-03 12:19:11 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:19:11 [WARN]: Redis connection closed
2026-02-03 12:19:11 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:19:11 [WARN]: Redis connection closed
2026-02-03 12:19:11 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:19:11 [ERROR]: Redis max retries reached
2026-02-03 12:19:11 [WARN]: Redis connection closed
2026-02-03 12:19:11 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:19:11 [ERROR]: Redis max retries reached
2026-02-03 12:19:11 [WARN]: Redis connection closed
2026-02-03 12:19:11 [WARN]: Redis not available - running without cache/pubsub features
2026-02-03 12:19:11 [WARN]: To enable Redis, run: docker-compose -f docker-compose.dev.yml up -d redis
2026-02-03 12:19:11 [WARN]: Redis not available - caching and pub/sub disabled
2026-02-03 12:19:11 [INFO]: WebSocket initialized
2026-02-03 12:19:11 [WARN]: Queues disabled - Redis not available
2026-02-03 12:19:11 [WARN]: Background jobs (printing, notifications, reports) will not work
2026-02-03 12:19:11 [INFO]: Queues initialized
2026-02-03 12:19:11 [INFO]: Started 3 cron jobs
2026-02-03 12:19:11 [INFO]: Cron jobs initialized
2026-02-03 12:19:11 [INFO]: Server running on port 3000 in development mode
2026-02-03 12:19:19 [INFO]: Database pool created successfully
2026-02-03 12:19:19 [INFO]: Database connected successfully
2026-02-03 12:19:19 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:19:19 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:19:19 [WARN]: Redis connection closed
2026-02-03 12:19:19 [WARN]: Redis connection closed
2026-02-03 12:19:19 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:19:19 [WARN]: Redis connection closed
2026-02-03 12:19:19 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:19:19 [WARN]: Redis connection closed
2026-02-03 12:19:20 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:19:20 [WARN]: Redis connection closed
2026-02-03 12:19:20 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:19:20 [WARN]: Redis connection closed
2026-02-03 12:19:20 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:19:20 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:19:20 [ERROR]: Redis max retries reached
2026-02-03 12:19:20 [WARN]: Redis connection closed
2026-02-03 12:19:20 [WARN]: Redis not available - running without cache/pubsub features
2026-02-03 12:19:20 [WARN]: To enable Redis, run: docker-compose -f docker-compose.dev.yml up -d redis
2026-02-03 12:19:20 [WARN]: Redis not available - caching and pub/sub disabled
2026-02-03 12:19:20 [INFO]: WebSocket initialized
2026-02-03 12:19:20 [WARN]: Queues disabled - Redis not available
2026-02-03 12:19:20 [WARN]: Background jobs (printing, notifications, reports) will not work
2026-02-03 12:19:20 [INFO]: Queues initialized
2026-02-03 12:19:20 [INFO]: Started 3 cron jobs
2026-02-03 12:19:20 [INFO]: Cron jobs initialized
2026-02-03 12:19:20 [INFO]: Server running on port 3000 in development mode
2026-02-03 12:19:20 [ERROR]: Redis max retries reached
2026-02-03 12:19:20 [WARN]: Redis connection closed
2026-02-03 12:19:28 [INFO]: Database pool created successfully
2026-02-03 12:19:28 [INFO]: Database connected successfully
2026-02-03 12:19:28 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:19:28 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:19:28 [WARN]: Redis connection closed
2026-02-03 12:19:28 [WARN]: Redis connection closed
2026-02-03 12:19:28 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:19:28 [WARN]: Redis connection closed
2026-02-03 12:19:28 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:19:28 [WARN]: Redis connection closed
2026-02-03 12:19:28 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:19:28 [WARN]: Redis connection closed
2026-02-03 12:19:28 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:19:28 [WARN]: Redis connection closed
2026-02-03 12:19:29 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:19:29 [ERROR]: Redis max retries reached
2026-02-03 12:19:29 [WARN]: Redis connection closed
2026-02-03 12:19:29 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:19:29 [ERROR]: Redis max retries reached
2026-02-03 12:19:29 [WARN]: Redis connection closed
2026-02-03 12:19:29 [WARN]: Redis not available - running without cache/pubsub features
2026-02-03 12:19:29 [WARN]: To enable Redis, run: docker-compose -f docker-compose.dev.yml up -d redis
2026-02-03 12:19:29 [WARN]: Redis not available - caching and pub/sub disabled
2026-02-03 12:19:29 [WARN]: Socket.IO running without Redis pub/sub - multi-instance sync disabled
2026-02-03 12:19:29 [INFO]: WebSocket initialized
2026-02-03 12:19:29 [WARN]: Queues disabled - Redis not available
2026-02-03 12:19:29 [WARN]: Background jobs (printing, notifications, reports) will not work
2026-02-03 12:19:29 [INFO]: Queues initialized
2026-02-03 12:19:29 [INFO]: Started 3 cron jobs
2026-02-03 12:19:29 [INFO]: Cron jobs initialized
2026-02-03 12:19:29 [INFO]: Server running on port 3000 in development mode
2026-02-03 12:20:00 [INFO]: Running report aggregation cron job
2026-02-03 12:20:00 [WARN]: Cannot add job aggregate-reports - queue report not available
2026-02-03 12:20:19 [INFO]: SIGINT received. Starting graceful shutdown...
2026-02-03 12:20:21 [INFO]: Database pool created successfully
2026-02-03 12:20:21 [INFO]: Database connected successfully
2026-02-03 12:20:21 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:20:21 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:20:21 [WARN]: Redis connection closed
2026-02-03 12:20:21 [WARN]: Redis connection closed
2026-02-03 12:20:22 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:20:22 [WARN]: Redis connection closed
2026-02-03 12:20:22 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:20:22 [WARN]: Redis connection closed
2026-02-03 12:20:22 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:20:22 [WARN]: Redis connection closed
2026-02-03 12:20:22 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:20:22 [WARN]: Redis connection closed
2026-02-03 12:20:22 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:20:22 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:20:22 [ERROR]: Redis max retries reached
2026-02-03 12:20:22 [WARN]: Redis connection closed
2026-02-03 12:20:22 [WARN]: Redis not available - running without cache/pubsub features
2026-02-03 12:20:22 [WARN]: To enable Redis, run: docker-compose -f docker-compose.dev.yml up -d redis
2026-02-03 12:20:22 [WARN]: Redis not available - caching and pub/sub disabled
2026-02-03 12:20:22 [WARN]: Socket.IO running without Redis pub/sub - multi-instance sync disabled
2026-02-03 12:20:22 [INFO]: WebSocket initialized
2026-02-03 12:20:22 [WARN]: Queues disabled - Redis not available
2026-02-03 12:20:22 [WARN]: Background jobs (printing, notifications, reports) will not work
2026-02-03 12:20:22 [INFO]: Queues initialized
2026-02-03 12:20:22 [INFO]: Started 3 cron jobs
2026-02-03 12:20:22 [INFO]: Cron jobs initialized
2026-02-03 12:20:22 [INFO]: Server running on port 3000 in development mode
2026-02-03 12:20:22 [ERROR]: Redis max retries reached
2026-02-03 12:20:22 [WARN]: Redis connection closed
2026-02-03 12:23:40 [INFO]: Database pool created successfully
2026-02-03 12:23:40 [INFO]: Database connected successfully
2026-02-03 12:23:40 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:23:40 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:23:40 [WARN]: Redis connection closed
2026-02-03 12:23:40 [WARN]: Redis connection closed
2026-02-03 12:23:40 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:23:40 [WARN]: Redis connection closed
2026-02-03 12:23:40 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:23:40 [WARN]: Redis connection closed
2026-02-03 12:23:41 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:23:41 [WARN]: Redis connection closed
2026-02-03 12:23:41 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:23:41 [WARN]: Redis connection closed
2026-02-03 12:23:41 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:23:41 [ERROR]: Redis max retries reached
2026-02-03 12:23:41 [WARN]: Redis connection closed
2026-02-03 12:23:41 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:23:41 [ERROR]: Redis max retries reached
2026-02-03 12:23:41 [WARN]: Redis connection closed
2026-02-03 12:23:41 [WARN]: Redis not available - running without cache/pubsub features
2026-02-03 12:23:41 [WARN]: To enable Redis, run: docker-compose -f docker-compose.dev.yml up -d redis
2026-02-03 12:23:41 [WARN]: Redis not available - caching and pub/sub disabled
2026-02-03 12:23:41 [WARN]: Socket.IO running without Redis pub/sub - multi-instance sync disabled
2026-02-03 12:23:41 [INFO]: WebSocket initialized
2026-02-03 12:23:41 [WARN]: Queues disabled - Redis not available
2026-02-03 12:23:41 [WARN]: Background jobs (printing, notifications, reports) will not work
2026-02-03 12:23:41 [INFO]: Queues initialized
2026-02-03 12:23:41 [INFO]: Started 3 cron jobs
2026-02-03 12:23:41 [INFO]: Cron jobs initialized
2026-02-03 12:23:41 [INFO]: Server running on port 3000 in development mode
2026-02-03 12:24:22 [INFO]: SIGINT received. Starting graceful shutdown...
2026-02-03 12:24:29 [INFO]: Database pool created successfully
2026-02-03 12:24:29 [INFO]: Database connected successfully
2026-02-03 12:24:29 [INFO]: Redis connected
2026-02-03 12:24:29 [INFO]: Redis connected
2026-02-03 12:24:29 [INFO]: Redis connected successfully
2026-02-03 12:24:29 [INFO]: WebSocket initialized
2026-02-03 12:24:29 [INFO]: Initialized 6 queues
2026-02-03 12:24:29 [INFO]: Queues initialized
2026-02-03 12:24:29 [INFO]: Started 3 cron jobs
2026-02-03 12:24:29 [INFO]: Cron jobs initialized
2026-02-03 12:24:29 [INFO]: Server running on port 3000 in development mode
2026-02-03 12:25:00 [INFO]: Running report aggregation cron job
2026-02-03 12:25:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 1
2026-02-03 12:28:53 [INFO]: SIGINT received. Starting graceful shutdown...
2026-02-03 12:38:45 [INFO]: Database pool created successfully
2026-02-03 12:38:45 [INFO]: Database connected successfully
2026-02-03 12:38:45 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:38:45 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:38:45 [WARN]: Redis connection closed
2026-02-03 12:38:45 [WARN]: Redis connection closed
2026-02-03 12:38:45 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:38:45 [WARN]: Redis connection closed
2026-02-03 12:38:45 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:38:45 [WARN]: Redis connection closed
2026-02-03 12:38:45 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:38:45 [WARN]: Redis connection closed
2026-02-03 12:38:45 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:38:45 [WARN]: Redis connection closed
2026-02-03 12:38:46 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:38:46 [ERROR]: Redis max retries reached
2026-02-03 12:38:46 [WARN]: Redis connection closed
2026-02-03 12:38:46 [ERROR]: Redis error: {"code":"ECONNREFUSED"}
AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1139:18)
    at afterConnectMultiple (node:net:1712:7)
2026-02-03 12:38:46 [ERROR]: Redis max retries reached
2026-02-03 12:38:46 [WARN]: Redis connection closed
2026-02-03 12:38:46 [WARN]: Redis not available - running without cache/pubsub features
2026-02-03 12:38:46 [WARN]: To enable Redis, run: docker-compose -f docker-compose.dev.yml up -d redis
2026-02-03 12:38:46 [WARN]: Redis not available - caching and pub/sub disabled
2026-02-03 12:38:46 [WARN]: Socket.IO running without Redis pub/sub - multi-instance sync disabled
2026-02-03 12:38:46 [INFO]: WebSocket initialized
2026-02-03 12:38:46 [WARN]: Queues disabled - Redis not available
2026-02-03 12:38:46 [WARN]: Background jobs (printing, notifications, reports) will not work
2026-02-03 12:38:46 [INFO]: Queues initialized
2026-02-03 12:38:46 [INFO]: Started 3 cron jobs
2026-02-03 12:38:46 [INFO]: Cron jobs initialized
2026-02-03 12:38:46 [INFO]: Server running on port 3000 in development mode
2026-02-03 12:40:00 [INFO]: Running report aggregation cron job
2026-02-03 12:40:00 [WARN]: Cannot add job aggregate-reports - queue report not available
2026-02-03 12:42:15 [INFO]: SIGINT received. Starting graceful shutdown...
2026-02-03 12:42:20 [INFO]: Database pool created successfully
2026-02-03 12:42:20 [INFO]: Database connected successfully
2026-02-03 12:42:20 [INFO]: Redis connected
2026-02-03 12:42:20 [INFO]: Redis connected
2026-02-03 12:42:20 [INFO]: Redis connected successfully
2026-02-03 12:42:20 [INFO]: WebSocket initialized
2026-02-03 12:42:20 [INFO]: Initialized 6 queues
2026-02-03 12:42:20 [INFO]: Queues initialized
2026-02-03 12:42:20 [INFO]: Started 3 cron jobs
2026-02-03 12:42:20 [INFO]: Cron jobs initialized
2026-02-03 12:42:20 [INFO]: Server running on port 3000 in development mode
2026-02-03 12:45:00 [INFO]: Running report aggregation cron job
2026-02-03 12:45:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 1
2026-02-03 12:48:51 [INFO]: Database pool created successfully
2026-02-03 12:48:51 [INFO]: Database connected successfully
2026-02-03 12:48:51 [INFO]: Redis connected
2026-02-03 12:48:51 [INFO]: Redis connected
2026-02-03 12:48:51 [INFO]: Redis connected successfully
2026-02-03 12:48:51 [INFO]: WebSocket initialized
2026-02-03 12:48:51 [INFO]: Initialized 6 queues
2026-02-03 12:48:51 [INFO]: Queues initialized
2026-02-03 12:48:51 [INFO]: Started 3 cron jobs
2026-02-03 12:48:51 [INFO]: Cron jobs initialized
2026-02-03 12:48:51 [INFO]: Server running on port 3000 in development mode
2026-02-03 12:49:07 [INFO]: Database pool created successfully
2026-02-03 12:49:07 [INFO]: Database connected successfully
2026-02-03 12:49:07 [INFO]: Redis connected
2026-02-03 12:49:07 [INFO]: Redis connected
2026-02-03 12:49:07 [INFO]: Redis connected successfully
2026-02-03 12:49:07 [INFO]: WebSocket initialized
2026-02-03 12:49:07 [INFO]: Initialized 6 queues
2026-02-03 12:49:07 [INFO]: Queues initialized
2026-02-03 12:49:07 [INFO]: Started 3 cron jobs
2026-02-03 12:49:07 [INFO]: Cron jobs initialized
2026-02-03 12:49:07 [INFO]: Server running on port 3000 in development mode
2026-02-03 12:49:33 [INFO]: Database pool created successfully
2026-02-03 12:49:33 [INFO]: Database connected successfully
2026-02-03 12:49:33 [INFO]: Redis connected
2026-02-03 12:49:33 [INFO]: Redis connected
2026-02-03 12:49:33 [INFO]: Redis connected successfully
2026-02-03 12:49:33 [INFO]: WebSocket initialized
2026-02-03 12:49:33 [INFO]: Initialized 6 queues
2026-02-03 12:49:33 [INFO]: Queues initialized
2026-02-03 12:49:33 [INFO]: Started 3 cron jobs
2026-02-03 12:49:33 [INFO]: Cron jobs initialized
2026-02-03 12:49:33 [INFO]: Server running on port 3000 in development mode
2026-02-03 12:50:00 [INFO]: Running report aggregation cron job
2026-02-03 12:50:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 2
2026-02-03 12:50:02 [INFO]: Database pool created successfully
2026-02-03 12:50:02 [INFO]: Database connected successfully
2026-02-03 12:50:02 [INFO]: Redis connected
2026-02-03 12:50:02 [INFO]: Redis connected
2026-02-03 12:50:02 [INFO]: Redis connected successfully
2026-02-03 12:50:02 [INFO]: WebSocket initialized
2026-02-03 12:50:02 [INFO]: Initialized 6 queues
2026-02-03 12:50:02 [INFO]: Queues initialized
2026-02-03 12:50:02 [INFO]: Started 3 cron jobs
2026-02-03 12:50:02 [INFO]: Cron jobs initialized
2026-02-03 12:50:02 [INFO]: Server running on port 3000 in development mode
2026-02-03 12:50:16 [INFO]: Database pool created successfully
2026-02-03 12:50:16 [INFO]: Database connected successfully
2026-02-03 12:50:16 [INFO]: Redis connected
2026-02-03 12:50:16 [INFO]: Redis connected
2026-02-03 12:50:16 [INFO]: Redis connected successfully
2026-02-03 12:50:16 [INFO]: WebSocket initialized
2026-02-03 12:50:16 [INFO]: Initialized 6 queues
2026-02-03 12:50:16 [INFO]: Queues initialized
2026-02-03 12:50:16 [INFO]: Started 3 cron jobs
2026-02-03 12:50:16 [INFO]: Cron jobs initialized
2026-02-03 12:50:16 [INFO]: Server running on port 3000 in development mode
2026-02-03 12:50:28 [INFO]: Database pool created successfully
2026-02-03 12:50:28 [INFO]: Database connected successfully
2026-02-03 12:50:28 [INFO]: Redis connected
2026-02-03 12:50:28 [INFO]: Redis connected
2026-02-03 12:50:28 [INFO]: Redis connected successfully
2026-02-03 12:50:28 [INFO]: WebSocket initialized
2026-02-03 12:50:28 [INFO]: Initialized 6 queues
2026-02-03 12:50:28 [INFO]: Queues initialized
2026-02-03 12:50:28 [INFO]: Started 3 cron jobs
2026-02-03 12:50:28 [INFO]: Cron jobs initialized
2026-02-03 12:50:28 [INFO]: Server running on port 3000 in development mode
2026-02-03 12:51:37 [INFO]: Database pool created successfully
2026-02-03 12:51:37 [INFO]: Database connected successfully
2026-02-03 12:51:37 [INFO]: Redis connected
2026-02-03 12:51:37 [INFO]: Redis connected
2026-02-03 12:51:37 [INFO]: Redis connected successfully
2026-02-03 12:51:37 [INFO]: WebSocket initialized
2026-02-03 12:51:37 [INFO]: Initialized 6 queues
2026-02-03 12:51:37 [INFO]: Queues initialized
2026-02-03 12:51:37 [INFO]: Started 3 cron jobs
2026-02-03 12:51:37 [INFO]: Cron jobs initialized
2026-02-03 12:51:37 [INFO]: Server running on port 3000 in development mode
2026-02-03 12:51:56 [INFO]: Database pool created successfully
2026-02-03 12:51:56 [INFO]: Database connected successfully
2026-02-03 12:51:56 [INFO]: Redis connected
2026-02-03 12:51:56 [INFO]: Redis connected
2026-02-03 12:51:56 [INFO]: Redis connected successfully
2026-02-03 12:51:56 [INFO]: WebSocket initialized
2026-02-03 12:51:56 [INFO]: Initialized 6 queues
2026-02-03 12:51:56 [INFO]: Queues initialized
2026-02-03 12:51:56 [INFO]: Started 3 cron jobs
2026-02-03 12:51:56 [INFO]: Cron jobs initialized
2026-02-03 12:51:56 [INFO]: Server running on port 3000 in development mode
2026-02-03 12:52:20 [INFO]: Database pool created successfully
2026-02-03 12:52:20 [INFO]: Database connected successfully
2026-02-03 12:52:20 [INFO]: Redis connected
2026-02-03 12:52:20 [INFO]: Redis connected
2026-02-03 12:52:20 [INFO]: Redis connected successfully
2026-02-03 12:52:20 [INFO]: WebSocket initialized
2026-02-03 12:52:20 [INFO]: Initialized 6 queues
2026-02-03 12:52:20 [INFO]: Queues initialized
2026-02-03 12:52:20 [INFO]: Started 3 cron jobs
2026-02-03 12:52:20 [INFO]: Cron jobs initialized
2026-02-03 12:52:20 [INFO]: Server running on port 3000 in development mode
2026-02-03 12:52:35 [INFO]: Database pool created successfully
2026-02-03 12:52:35 [INFO]: Database connected successfully
2026-02-03 12:52:35 [INFO]: Redis connected
2026-02-03 12:52:35 [INFO]: Redis connected
2026-02-03 12:52:35 [INFO]: Redis connected successfully
2026-02-03 12:52:35 [INFO]: WebSocket initialized
2026-02-03 12:52:35 [INFO]: Initialized 6 queues
2026-02-03 12:52:35 [INFO]: Queues initialized
2026-02-03 12:52:35 [INFO]: Started 3 cron jobs
2026-02-03 12:52:35 [INFO]: Cron jobs initialized
2026-02-03 12:52:35 [INFO]: Server running on port 3000 in development mode
2026-02-03 12:52:46 [INFO]: Database pool created successfully
2026-02-03 12:52:46 [INFO]: Database connected successfully
2026-02-03 12:52:46 [INFO]: Redis connected
2026-02-03 12:52:46 [INFO]: Redis connected
2026-02-03 12:52:46 [INFO]: Redis connected successfully
2026-02-03 12:52:46 [INFO]: WebSocket initialized
2026-02-03 12:52:46 [INFO]: Initialized 6 queues
2026-02-03 12:52:46 [INFO]: Queues initialized
2026-02-03 12:52:46 [INFO]: Started 3 cron jobs
2026-02-03 12:52:46 [INFO]: Cron jobs initialized
2026-02-03 12:52:46 [INFO]: Server running on port 3000 in development mode
2026-02-03 12:53:54 [INFO]: Database pool created successfully
2026-02-03 12:55:07 [INFO]: Database pool created successfully
2026-02-03 12:55:07 [INFO]: Database connected successfully
2026-02-03 12:55:07 [INFO]: Redis connected
2026-02-03 12:55:07 [INFO]: Redis connected
2026-02-03 12:55:07 [INFO]: Redis connected successfully
2026-02-03 12:55:07 [INFO]: WebSocket initialized
2026-02-03 12:55:07 [INFO]: Initialized 6 queues
2026-02-03 12:55:07 [INFO]: Queues initialized
2026-02-03 12:55:07 [INFO]: Started 3 cron jobs
2026-02-03 12:55:07 [INFO]: Cron jobs initialized
2026-02-03 12:55:07 [INFO]: Server running on port 3000 in development mode
2026-02-03 12:55:28 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:07:25:28 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 820 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 12:55:36 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:07:25:36 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 12:55:36 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:07:25:36 +0000] "GET /api/v1/auth/me HTTP/1.1" 200 557 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 12:55:46 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:07:25:46 +0000] "POST /api/v1/auth/login/pin HTTP/1.1" 200 817 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 12:56:05 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:07:26:05 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 12:56:05 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:07:26:05 +0000] "GET /api/v1/users HTTP/1.1" 200 2220 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 12:56:38 [INFO]: SIGINT received. Starting graceful shutdown...
2026-02-03 12:56:48 [INFO]: Database pool created successfully
2026-02-03 12:56:48 [INFO]: Database connected successfully
2026-02-03 12:56:48 [INFO]: Redis connected
2026-02-03 12:56:48 [INFO]: Redis connected
2026-02-03 12:56:48 [INFO]: Redis connected successfully
2026-02-03 12:56:48 [INFO]: WebSocket initialized
2026-02-03 12:56:48 [INFO]: Initialized 6 queues
2026-02-03 12:56:48 [INFO]: Queues initialized
2026-02-03 12:56:48 [INFO]: Started 3 cron jobs
2026-02-03 12:56:48 [INFO]: Cron jobs initialized
2026-02-03 12:56:48 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:00:00 [INFO]: Running report aggregation cron job
2026-02-03 13:00:00 [INFO]: Running inventory check cron job
2026-02-03 13:00:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 3
2026-02-03 13:00:00 [DEBUG]: Added job check-low-stock to queue inventory, jobId: 1
2026-02-03 13:02:30 [INFO]: Database pool created successfully
2026-02-03 13:02:30 [INFO]: Database connected successfully
2026-02-03 13:02:30 [INFO]: Redis connected
2026-02-03 13:02:30 [INFO]: Redis connected
2026-02-03 13:02:30 [INFO]: Redis connected successfully
2026-02-03 13:02:30 [INFO]: WebSocket initialized
2026-02-03 13:02:30 [INFO]: Initialized 6 queues
2026-02-03 13:02:30 [INFO]: Queues initialized
2026-02-03 13:02:30 [INFO]: Started 3 cron jobs
2026-02-03 13:02:30 [INFO]: Cron jobs initialized
2026-02-03 13:02:30 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:03:00 [INFO]: Database pool created successfully
2026-02-03 13:03:00 [INFO]: Database connected successfully
2026-02-03 13:03:00 [INFO]: Redis connected
2026-02-03 13:03:00 [INFO]: Redis connected
2026-02-03 13:03:00 [INFO]: Redis connected successfully
2026-02-03 13:03:00 [INFO]: WebSocket initialized
2026-02-03 13:03:00 [INFO]: Initialized 6 queues
2026-02-03 13:03:00 [INFO]: Queues initialized
2026-02-03 13:03:00 [INFO]: Started 3 cron jobs
2026-02-03 13:03:00 [INFO]: Cron jobs initialized
2026-02-03 13:03:00 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:03:21 [INFO]: Database pool created successfully
2026-02-03 13:03:21 [INFO]: Database connected successfully
2026-02-03 13:03:21 [INFO]: Redis connected
2026-02-03 13:03:21 [INFO]: Redis connected
2026-02-03 13:03:21 [INFO]: Redis connected successfully
2026-02-03 13:03:21 [INFO]: WebSocket initialized
2026-02-03 13:03:21 [INFO]: Initialized 6 queues
2026-02-03 13:03:21 [INFO]: Queues initialized
2026-02-03 13:03:21 [INFO]: Started 3 cron jobs
2026-02-03 13:03:21 [INFO]: Cron jobs initialized
2026-02-03 13:03:21 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:05:00 [INFO]: Running report aggregation cron job
2026-02-03 13:05:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 4
2026-02-03 13:05:12 [INFO]: Database pool created successfully
2026-02-03 13:05:12 [INFO]: Database connected successfully
2026-02-03 13:05:12 [INFO]: Redis connected
2026-02-03 13:05:12 [INFO]: Redis connected
2026-02-03 13:05:12 [INFO]: Redis connected successfully
2026-02-03 13:05:12 [INFO]: WebSocket initialized
2026-02-03 13:05:12 [INFO]: Initialized 6 queues
2026-02-03 13:05:12 [INFO]: Queues initialized
2026-02-03 13:05:12 [INFO]: Started 3 cron jobs
2026-02-03 13:05:12 [INFO]: Cron jobs initialized
2026-02-03 13:05:12 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:05:45 [INFO]: Database pool created successfully
2026-02-03 13:05:45 [INFO]: Database connected successfully
2026-02-03 13:05:45 [INFO]: Redis connected
2026-02-03 13:05:45 [INFO]: Redis connected
2026-02-03 13:05:45 [INFO]: Redis connected successfully
2026-02-03 13:05:45 [INFO]: WebSocket initialized
2026-02-03 13:05:45 [INFO]: Initialized 6 queues
2026-02-03 13:05:45 [INFO]: Queues initialized
2026-02-03 13:05:45 [INFO]: Started 3 cron jobs
2026-02-03 13:05:45 [INFO]: Cron jobs initialized
2026-02-03 13:05:45 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:06:13 [INFO]: Database pool created successfully
2026-02-03 13:06:13 [INFO]: Database connected successfully
2026-02-03 13:06:13 [INFO]: Redis connected
2026-02-03 13:06:13 [INFO]: Redis connected
2026-02-03 13:06:13 [INFO]: Redis connected successfully
2026-02-03 13:06:13 [INFO]: WebSocket initialized
2026-02-03 13:06:13 [INFO]: Initialized 6 queues
2026-02-03 13:06:13 [INFO]: Queues initialized
2026-02-03 13:06:13 [INFO]: Started 3 cron jobs
2026-02-03 13:06:13 [INFO]: Cron jobs initialized
2026-02-03 13:06:13 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:06:43 [INFO]: Database pool created successfully
2026-02-03 13:06:43 [INFO]: Database connected successfully
2026-02-03 13:06:43 [INFO]: Redis connected
2026-02-03 13:06:43 [INFO]: Redis connected
2026-02-03 13:06:43 [INFO]: Redis connected successfully
2026-02-03 13:06:43 [INFO]: WebSocket initialized
2026-02-03 13:06:43 [INFO]: Initialized 6 queues
2026-02-03 13:06:43 [INFO]: Queues initialized
2026-02-03 13:06:43 [INFO]: Started 3 cron jobs
2026-02-03 13:06:43 [INFO]: Cron jobs initialized
2026-02-03 13:06:43 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:07:07 [INFO]: Database pool created successfully
2026-02-03 13:07:07 [INFO]: Database connected successfully
2026-02-03 13:07:07 [INFO]: Redis connected
2026-02-03 13:07:07 [INFO]: Redis connected
2026-02-03 13:07:08 [INFO]: Redis connected successfully
2026-02-03 13:07:08 [INFO]: WebSocket initialized
2026-02-03 13:07:08 [INFO]: Initialized 6 queues
2026-02-03 13:07:08 [INFO]: Queues initialized
2026-02-03 13:07:08 [INFO]: Started 3 cron jobs
2026-02-03 13:07:08 [INFO]: Cron jobs initialized
2026-02-03 13:07:08 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:07:31 [INFO]: Database pool created successfully
2026-02-03 13:07:31 [INFO]: Database connected successfully
2026-02-03 13:07:31 [INFO]: Redis connected
2026-02-03 13:07:31 [INFO]: Redis connected
2026-02-03 13:07:31 [INFO]: Redis connected successfully
2026-02-03 13:07:31 [INFO]: WebSocket initialized
2026-02-03 13:07:31 [INFO]: Initialized 6 queues
2026-02-03 13:07:31 [INFO]: Queues initialized
2026-02-03 13:07:31 [INFO]: Started 3 cron jobs
2026-02-03 13:07:31 [INFO]: Cron jobs initialized
2026-02-03 13:07:31 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:07:42 [INFO]: Database pool created successfully
2026-02-03 13:07:42 [INFO]: Database connected successfully
2026-02-03 13:07:42 [INFO]: Redis connected
2026-02-03 13:07:42 [INFO]: Redis connected
2026-02-03 13:07:42 [INFO]: Redis connected successfully
2026-02-03 13:07:42 [INFO]: WebSocket initialized
2026-02-03 13:07:42 [INFO]: Initialized 6 queues
2026-02-03 13:07:42 [INFO]: Queues initialized
2026-02-03 13:07:42 [INFO]: Started 3 cron jobs
2026-02-03 13:07:42 [INFO]: Cron jobs initialized
2026-02-03 13:07:42 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:08:29 [INFO]: Database pool created successfully
2026-02-03 13:08:29 [INFO]: Database connected successfully
2026-02-03 13:08:29 [INFO]: Redis connected
2026-02-03 13:08:29 [INFO]: Redis connected
2026-02-03 13:08:29 [INFO]: Redis connected successfully
2026-02-03 13:08:29 [INFO]: WebSocket initialized
2026-02-03 13:08:29 [INFO]: Initialized 6 queues
2026-02-03 13:08:29 [INFO]: Queues initialized
2026-02-03 13:08:29 [INFO]: Started 3 cron jobs
2026-02-03 13:08:29 [INFO]: Cron jobs initialized
2026-02-03 13:08:29 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:08:37 [INFO]: Database pool created successfully
2026-02-03 13:08:37 [INFO]: Database connected successfully
2026-02-03 13:08:37 [INFO]: Redis connected
2026-02-03 13:08:37 [INFO]: Redis connected
2026-02-03 13:08:37 [INFO]: Redis connected successfully
2026-02-03 13:08:37 [INFO]: WebSocket initialized
2026-02-03 13:08:37 [INFO]: Initialized 6 queues
2026-02-03 13:08:37 [INFO]: Queues initialized
2026-02-03 13:08:37 [INFO]: Started 3 cron jobs
2026-02-03 13:08:37 [INFO]: Cron jobs initialized
2026-02-03 13:08:37 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:09:14 [INFO]: Database pool created successfully
2026-02-03 13:09:28 [INFO]: Database pool created successfully
2026-02-03 13:09:28 [INFO]: Database connected successfully
2026-02-03 13:09:28 [INFO]: Redis connected
2026-02-03 13:09:28 [INFO]: Redis connected
2026-02-03 13:09:28 [INFO]: Redis connected successfully
2026-02-03 13:09:28 [INFO]: SIGINT received. Starting graceful shutdown...
2026-02-03 13:10:22 [INFO]: Database pool created successfully
2026-02-03 13:10:22 [INFO]: Database connected successfully
2026-02-03 13:10:22 [INFO]: Redis connected
2026-02-03 13:10:22 [INFO]: Redis connected
2026-02-03 13:10:22 [INFO]: Redis connected successfully
2026-02-03 13:10:22 [INFO]: WebSocket initialized
2026-02-03 13:10:22 [INFO]: Initialized 6 queues
2026-02-03 13:10:22 [INFO]: Queues initialized
2026-02-03 13:10:22 [INFO]: Started 3 cron jobs
2026-02-03 13:10:22 [INFO]: Cron jobs initialized
2026-02-03 13:10:22 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:10:40 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:07:40:40 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 13:10:40 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:07:40:40 +0000] "GET /api/v1/outlets HTTP/1.1" 200 1651 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 13:10:51 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:07:40:51 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 13:10:51 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:07:40:51 +0000] "GET /api/v1/outlets/4/floors HTTP/1.1" 200 769 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 13:11:13 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:07:41:13 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 13:11:13 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:07:41:13 +0000] "GET /api/v1/tables/floor/1 HTTP/1.1" 200 5597 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 13:11:21 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:07:41:21 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 13:11:21 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:07:41:21 +0000] "GET /api/v1/tables/realtime/4 HTTP/1.1" 200 5111 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 13:11:31 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:07:41:31 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 13:11:31 [ERROR]: Unhandled error: cache.delete is not a function
TypeError: cache.delete is not a function
    at Object.invalidateCache (E:\restro-backend\src\services\table.service.js:879:23)
    at Object.startSession (E:\restro-backend\src\services\table.service.js:387:18)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async startSession (E:\restro-backend\src\controllers\table.controller.js:140:22)
2026-02-03 13:11:31 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:07:41:31 +0000] "POST /api/v1/tables/1/session HTTP/1.1" 500 471 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 13:11:43 [INFO]: Database pool created successfully
2026-02-03 13:11:43 [INFO]: Database connected successfully
2026-02-03 13:11:43 [INFO]: Redis connected
2026-02-03 13:11:43 [INFO]: Redis connected
2026-02-03 13:11:43 [INFO]: Redis connected successfully
2026-02-03 13:11:43 [INFO]: WebSocket initialized
2026-02-03 13:11:43 [INFO]: Initialized 6 queues
2026-02-03 13:11:43 [INFO]: Queues initialized
2026-02-03 13:11:43 [INFO]: Started 3 cron jobs
2026-02-03 13:11:43 [INFO]: Cron jobs initialized
2026-02-03 13:11:43 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:11:59 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:07:41:59 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 13:11:59 [ERROR]: Unhandled error: Table is currently occupied
Error: Table is currently occupied
    at Object.startSession (E:\restro-backend\src\services\table.service.js:350:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async startSession (E:\restro-backend\src\controllers\table.controller.js:140:22)
2026-02-03 13:11:59 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:07:41:59 +0000] "POST /api/v1/tables/1/session HTTP/1.1" 500 369 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 13:12:10 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:07:42:10 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 13:12:10 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:07:42:10 +0000] "POST /api/v1/tables/2/session HTTP/1.1" 201 571 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 13:12:19 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:07:42:19 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 13:12:19 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:07:42:19 +0000] "GET /api/v1/tables/2/session HTTP/1.1" 200 370 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 13:12:27 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:07:42:27 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 13:12:27 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:07:42:27 +0000] "POST /api/v1/tables/2/merge HTTP/1.1" 200 450 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 13:15:00 [INFO]: Running report aggregation cron job
2026-02-03 13:15:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 5
2026-02-03 13:19:54 [INFO]: Database pool created successfully
2026-02-03 13:19:54 [INFO]: Database connected successfully
2026-02-03 13:19:54 [INFO]: Redis connected
2026-02-03 13:19:54 [INFO]: Redis connected
2026-02-03 13:19:54 [INFO]: Redis connected successfully
2026-02-03 13:19:54 [INFO]: WebSocket initialized
2026-02-03 13:19:54 [INFO]: Initialized 6 queues
2026-02-03 13:19:54 [INFO]: Queues initialized
2026-02-03 13:19:54 [INFO]: Started 3 cron jobs
2026-02-03 13:19:54 [INFO]: Cron jobs initialized
2026-02-03 13:19:54 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:20:00 [INFO]: Running report aggregation cron job
2026-02-03 13:20:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 6
2026-02-03 13:20:24 [INFO]: Database pool created successfully
2026-02-03 13:20:24 [INFO]: Database connected successfully
2026-02-03 13:20:24 [INFO]: Redis connected
2026-02-03 13:20:24 [INFO]: Redis connected
2026-02-03 13:20:24 [INFO]: Redis connected successfully
2026-02-03 13:20:24 [INFO]: WebSocket initialized
2026-02-03 13:20:24 [INFO]: Initialized 6 queues
2026-02-03 13:20:24 [INFO]: Queues initialized
2026-02-03 13:20:24 [INFO]: Started 3 cron jobs
2026-02-03 13:20:24 [INFO]: Cron jobs initialized
2026-02-03 13:20:24 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:21:00 [INFO]: Database pool created successfully
2026-02-03 13:21:00 [INFO]: Database connected successfully
2026-02-03 13:21:00 [INFO]: Redis connected
2026-02-03 13:21:00 [INFO]: Redis connected
2026-02-03 13:21:00 [INFO]: Redis connected successfully
2026-02-03 13:21:00 [INFO]: WebSocket initialized
2026-02-03 13:21:00 [INFO]: Initialized 6 queues
2026-02-03 13:21:00 [INFO]: Queues initialized
2026-02-03 13:21:00 [INFO]: Started 3 cron jobs
2026-02-03 13:21:00 [INFO]: Cron jobs initialized
2026-02-03 13:21:00 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:21:54 [INFO]: Database pool created successfully
2026-02-03 13:21:54 [INFO]: Database connected successfully
2026-02-03 13:21:54 [INFO]: Redis connected
2026-02-03 13:21:54 [INFO]: Redis connected
2026-02-03 13:21:54 [INFO]: Redis connected successfully
2026-02-03 13:21:54 [INFO]: WebSocket initialized
2026-02-03 13:21:54 [INFO]: Initialized 6 queues
2026-02-03 13:21:54 [INFO]: Queues initialized
2026-02-03 13:21:54 [INFO]: Started 3 cron jobs
2026-02-03 13:21:54 [INFO]: Cron jobs initialized
2026-02-03 13:21:54 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:23:21 [INFO]: Database pool created successfully
2026-02-03 13:23:21 [INFO]: Database connected successfully
2026-02-03 13:23:21 [INFO]: Redis connected
2026-02-03 13:23:21 [INFO]: Redis connected
2026-02-03 13:23:21 [INFO]: Redis connected successfully
2026-02-03 13:23:21 [INFO]: WebSocket initialized
2026-02-03 13:23:21 [INFO]: Initialized 6 queues
2026-02-03 13:23:21 [INFO]: Queues initialized
2026-02-03 13:23:21 [INFO]: Started 3 cron jobs
2026-02-03 13:23:21 [INFO]: Cron jobs initialized
2026-02-03 13:23:21 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:24:00 [INFO]: Database pool created successfully
2026-02-03 13:24:00 [INFO]: Database connected successfully
2026-02-03 13:24:00 [INFO]: Redis connected
2026-02-03 13:24:00 [INFO]: Redis connected
2026-02-03 13:24:00 [INFO]: Redis connected successfully
2026-02-03 13:24:00 [INFO]: WebSocket initialized
2026-02-03 13:24:00 [INFO]: Initialized 6 queues
2026-02-03 13:24:00 [INFO]: Queues initialized
2026-02-03 13:24:00 [INFO]: Started 3 cron jobs
2026-02-03 13:24:00 [INFO]: Cron jobs initialized
2026-02-03 13:24:00 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:24:50 [INFO]: Database pool created successfully
2026-02-03 13:24:50 [INFO]: Database connected successfully
2026-02-03 13:24:50 [INFO]: Redis connected
2026-02-03 13:24:50 [INFO]: Redis connected
2026-02-03 13:24:50 [INFO]: Redis connected successfully
2026-02-03 13:24:50 [INFO]: WebSocket initialized
2026-02-03 13:24:50 [INFO]: Initialized 6 queues
2026-02-03 13:24:50 [INFO]: Queues initialized
2026-02-03 13:24:50 [INFO]: Started 3 cron jobs
2026-02-03 13:24:50 [INFO]: Cron jobs initialized
2026-02-03 13:24:50 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:25:00 [INFO]: Running report aggregation cron job
2026-02-03 13:25:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 7
2026-02-03 13:25:57 [INFO]: Database pool created successfully
2026-02-03 13:25:57 [INFO]: Database connected successfully
2026-02-03 13:25:57 [INFO]: Redis connected
2026-02-03 13:25:57 [INFO]: Redis connected
2026-02-03 13:25:57 [INFO]: Redis connected successfully
2026-02-03 13:25:57 [INFO]: WebSocket initialized
2026-02-03 13:25:57 [INFO]: Initialized 6 queues
2026-02-03 13:25:57 [INFO]: Queues initialized
2026-02-03 13:25:57 [INFO]: Started 3 cron jobs
2026-02-03 13:25:57 [INFO]: Cron jobs initialized
2026-02-03 13:25:57 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:27:18 [INFO]: Database pool created successfully
2026-02-03 13:27:18 [INFO]: Database connected successfully
2026-02-03 13:27:18 [INFO]: Redis connected
2026-02-03 13:27:18 [INFO]: Redis connected
2026-02-03 13:27:18 [INFO]: Redis connected successfully
2026-02-03 13:27:18 [INFO]: WebSocket initialized
2026-02-03 13:27:18 [INFO]: Initialized 6 queues
2026-02-03 13:27:18 [INFO]: Queues initialized
2026-02-03 13:27:18 [INFO]: Started 3 cron jobs
2026-02-03 13:27:18 [INFO]: Cron jobs initialized
2026-02-03 13:27:18 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:28:26 [INFO]: Database pool created successfully
2026-02-03 13:28:26 [INFO]: Database connected successfully
2026-02-03 13:28:26 [INFO]: Redis connected
2026-02-03 13:28:26 [INFO]: Redis connected
2026-02-03 13:28:26 [INFO]: Redis connected successfully
2026-02-03 13:28:26 [INFO]: WebSocket initialized
2026-02-03 13:28:26 [INFO]: Initialized 6 queues
2026-02-03 13:28:26 [INFO]: Queues initialized
2026-02-03 13:28:26 [INFO]: Started 3 cron jobs
2026-02-03 13:28:26 [INFO]: Cron jobs initialized
2026-02-03 13:28:26 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:29:26 [INFO]: Database pool created successfully
2026-02-03 13:29:26 [INFO]: Database connected successfully
2026-02-03 13:29:26 [INFO]: Redis connected
2026-02-03 13:29:26 [INFO]: Redis connected
2026-02-03 13:29:26 [INFO]: Redis connected successfully
2026-02-03 13:29:26 [INFO]: WebSocket initialized
2026-02-03 13:29:26 [INFO]: Initialized 6 queues
2026-02-03 13:29:26 [INFO]: Queues initialized
2026-02-03 13:29:26 [INFO]: Started 3 cron jobs
2026-02-03 13:29:26 [INFO]: Cron jobs initialized
2026-02-03 13:29:26 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:30:00 [INFO]: Running report aggregation cron job
2026-02-03 13:30:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 8
2026-02-03 13:30:05 [INFO]: Database pool created successfully
2026-02-03 13:30:05 [INFO]: Database connected successfully
2026-02-03 13:30:05 [INFO]: Redis connected
2026-02-03 13:30:05 [INFO]: Redis connected
2026-02-03 13:30:05 [INFO]: Redis connected successfully
2026-02-03 13:30:05 [INFO]: WebSocket initialized
2026-02-03 13:30:05 [INFO]: Initialized 6 queues
2026-02-03 13:30:05 [INFO]: Queues initialized
2026-02-03 13:30:05 [INFO]: Started 3 cron jobs
2026-02-03 13:30:05 [INFO]: Cron jobs initialized
2026-02-03 13:30:05 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:30:44 [INFO]: Database pool created successfully
2026-02-03 13:30:44 [INFO]: Database connected successfully
2026-02-03 13:30:44 [INFO]: Redis connected
2026-02-03 13:30:44 [INFO]: Redis connected
2026-02-03 13:30:44 [INFO]: Redis connected successfully
2026-02-03 13:30:44 [INFO]: WebSocket initialized
2026-02-03 13:30:44 [INFO]: Initialized 6 queues
2026-02-03 13:30:44 [INFO]: Queues initialized
2026-02-03 13:30:44 [INFO]: Started 3 cron jobs
2026-02-03 13:30:44 [INFO]: Cron jobs initialized
2026-02-03 13:30:44 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:30:51 [INFO]: Database pool created successfully
2026-02-03 13:30:51 [INFO]: Database connected successfully
2026-02-03 13:30:51 [INFO]: Redis connected
2026-02-03 13:30:51 [INFO]: Redis connected
2026-02-03 13:30:51 [INFO]: Redis connected successfully
2026-02-03 13:30:51 [INFO]: WebSocket initialized
2026-02-03 13:30:51 [INFO]: Initialized 6 queues
2026-02-03 13:30:51 [INFO]: Queues initialized
2026-02-03 13:30:51 [INFO]: Started 3 cron jobs
2026-02-03 13:30:51 [INFO]: Cron jobs initialized
2026-02-03 13:30:51 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:33:24 [INFO]: Database pool created successfully
2026-02-03 13:33:24 [INFO]: Database connected successfully
2026-02-03 13:33:24 [INFO]: Redis connected
2026-02-03 13:33:24 [INFO]: Redis connected
2026-02-03 13:33:24 [INFO]: Redis connected successfully
2026-02-03 13:33:24 [INFO]: WebSocket initialized
2026-02-03 13:33:24 [INFO]: Initialized 6 queues
2026-02-03 13:33:24 [INFO]: Queues initialized
2026-02-03 13:33:24 [INFO]: Started 3 cron jobs
2026-02-03 13:33:24 [INFO]: Cron jobs initialized
2026-02-03 13:33:24 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:33:33 [INFO]: Database pool created successfully
2026-02-03 13:33:33 [INFO]: Database connected successfully
2026-02-03 13:33:33 [INFO]: Redis connected
2026-02-03 13:33:33 [INFO]: Redis connected
2026-02-03 13:33:33 [INFO]: Redis connected successfully
2026-02-03 13:33:33 [INFO]: WebSocket initialized
2026-02-03 13:33:33 [INFO]: Initialized 6 queues
2026-02-03 13:33:33 [INFO]: Queues initialized
2026-02-03 13:33:33 [INFO]: Started 3 cron jobs
2026-02-03 13:33:33 [INFO]: Cron jobs initialized
2026-02-03 13:33:33 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:33:46 [INFO]: Database pool created successfully
2026-02-03 13:34:02 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:08:04:02 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 13:34:02 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:08:04:02 +0000] "GET /api/v1/menu/4 HTTP/1.1" 200 26653 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 13:34:11 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:08:04:11 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 13:34:11 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:08:04:11 +0000] "GET /api/v1/menu/4/captain HTTP/1.1" 200 8640 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 13:34:20 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:08:04:20 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 13:34:20 [ERROR]: Get tax groups error: FUNCTION restro.JSON_ARRAYAGG does not exist {"code":"ER_SP_DOES_NOT_EXIST","errno":1305,"sql":"\n      SELECT tg.*,\n        (SELECT JSON_ARRAYAGG(JSON_OBJECT(\n          'id', tc.id,\n          'name', tc.name,\n          'code', tc.code,\n          'rate', tc.rate\n        ))\n        FROM tax_group_components tgc\n        JOIN tax_components tc ON tgc.tax_component_id = tc.id\n        WHERE tgc.tax_group_id = tg.id AND tgc.is_active = 1\n        ) as components\n      FROM tax_groups tg\n      WHERE tg.is_active = 1\n     ORDER BY tg.is_default DESC, tg.name","sqlState":"42000","sqlMessage":"FUNCTION restro.JSON_ARRAYAGG does not exist"}
Error: FUNCTION restro.JSON_ARRAYAGG does not exist
    at PromisePool.query (E:\restro-backend\node_modules\mysql2\lib\promise\pool.js:36:22)
    at Object.getTaxGroups (E:\restro-backend\src\services\tax.service.js:238:33)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async getTaxGroups (E:\restro-backend\src\controllers\tax.controller.js:105:22)
2026-02-03 13:34:20 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:08:04:20 +0000] "GET /api/v1/tax/groups HTTP/1.1" 500 74 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 13:34:36 [INFO]: Database pool created successfully
2026-02-03 13:34:36 [INFO]: Database connected successfully
2026-02-03 13:34:36 [INFO]: Redis connected
2026-02-03 13:34:36 [INFO]: Redis connected
2026-02-03 13:34:36 [INFO]: Redis connected successfully
2026-02-03 13:34:36 [INFO]: WebSocket initialized
2026-02-03 13:34:36 [INFO]: Initialized 6 queues
2026-02-03 13:34:36 [INFO]: Queues initialized
2026-02-03 13:34:36 [INFO]: Started 3 cron jobs
2026-02-03 13:34:36 [INFO]: Cron jobs initialized
2026-02-03 13:34:36 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:34:47 [INFO]: Database pool created successfully
2026-02-03 13:34:47 [INFO]: Database connected successfully
2026-02-03 13:34:47 [INFO]: Redis connected
2026-02-03 13:34:47 [INFO]: Redis connected
2026-02-03 13:34:47 [INFO]: Redis connected successfully
2026-02-03 13:34:47 [INFO]: WebSocket initialized
2026-02-03 13:34:47 [INFO]: Initialized 6 queues
2026-02-03 13:34:47 [INFO]: Queues initialized
2026-02-03 13:34:47 [INFO]: Started 3 cron jobs
2026-02-03 13:34:47 [INFO]: Cron jobs initialized
2026-02-03 13:34:47 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:35:00 [INFO]: Running report aggregation cron job
2026-02-03 13:35:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 9
2026-02-03 13:35:08 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:08:05:08 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 13:35:08 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:08:05:08 +0000] "GET /api/v1/tax/groups HTTP/1.1" 200 1040 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 13:35:16 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:08:05:16 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 13:35:16 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:08:05:16 +0000] "GET /api/v1/tax/time-slots/4 HTTP/1.1" 200 1818 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 13:35:24 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:08:05:24 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 13:35:24 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:08:05:24 +0000] "GET /api/v1/menu/categories/outlet/4 HTTP/1.1" 200 3590 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 13:35:33 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:08:05:33 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 13:35:33 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:08:05:33 +0000] "GET /api/v1/menu/4/search?query=chicken HTTP/1.1" 200 2814 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 13:37:05 [INFO]: Database pool created successfully
2026-02-03 13:37:07 [INFO]: Database pool created successfully
2026-02-03 13:37:13 [INFO]: Database pool created successfully
2026-02-03 13:37:13 [INFO]: Database connected successfully
2026-02-03 13:37:13 [INFO]: Redis connected
2026-02-03 13:37:13 [INFO]: Redis connected
2026-02-03 13:37:13 [INFO]: Redis connected successfully
2026-02-03 13:38:23 [INFO]: Database pool created successfully
2026-02-03 13:38:23 [INFO]: Database connected successfully
2026-02-03 13:38:23 [INFO]: Redis connected
2026-02-03 13:38:23 [INFO]: Redis connected
2026-02-03 13:38:23 [INFO]: Redis connected successfully
2026-02-03 13:38:23 [INFO]: WebSocket initialized
2026-02-03 13:38:23 [INFO]: Initialized 6 queues
2026-02-03 13:38:23 [INFO]: Queues initialized
2026-02-03 13:38:23 [INFO]: Started 3 cron jobs
2026-02-03 13:38:23 [INFO]: Cron jobs initialized
2026-02-03 13:38:23 [INFO]: Server running on port 3000 in development mode
2026-02-03 13:40:00 [INFO]: Running report aggregation cron job
2026-02-03 13:40:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 10
2026-02-03 13:45:00 [INFO]: Running report aggregation cron job
2026-02-03 13:45:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 11
2026-02-03 13:50:00 [INFO]: Running report aggregation cron job
2026-02-03 13:50:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 12
2026-02-03 13:55:00 [INFO]: Running report aggregation cron job
2026-02-03 13:55:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 13
2026-02-03 14:00:00 [INFO]: Running report aggregation cron job
2026-02-03 14:00:00 [INFO]: Running inventory check cron job
2026-02-03 14:00:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 14
2026-02-03 14:00:00 [DEBUG]: Added job check-low-stock to queue inventory, jobId: 2
2026-02-03 14:05:00 [INFO]: Running report aggregation cron job
2026-02-03 14:05:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 15
2026-02-03 14:10:00 [INFO]: Running report aggregation cron job
2026-02-03 14:10:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 16
2026-02-03 14:15:00 [INFO]: Running report aggregation cron job
2026-02-03 14:15:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 17
2026-02-03 14:20:00 [INFO]: Running report aggregation cron job
2026-02-03 14:20:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 18
2026-02-03 14:24:06 [INFO]: Database pool created successfully
2026-02-03 14:24:06 [INFO]: Database connected successfully
2026-02-03 14:24:06 [INFO]: Redis connected
2026-02-03 14:24:06 [INFO]: Redis connected
2026-02-03 14:24:06 [INFO]: Redis connected successfully
2026-02-03 14:24:06 [INFO]: WebSocket initialized
2026-02-03 14:24:06 [INFO]: Initialized 6 queues
2026-02-03 14:24:06 [INFO]: Queues initialized
2026-02-03 14:24:06 [INFO]: Started 3 cron jobs
2026-02-03 14:24:06 [INFO]: Cron jobs initialized
2026-02-03 14:24:06 [INFO]: Server running on port 3000 in development mode
2026-02-03 14:25:00 [INFO]: Running report aggregation cron job
2026-02-03 14:25:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 19
2026-02-03 14:25:32 [INFO]: Database pool created successfully
2026-02-03 14:25:32 [INFO]: Database connected successfully
2026-02-03 14:25:32 [INFO]: Redis connected
2026-02-03 14:25:32 [INFO]: Redis connected
2026-02-03 14:25:32 [INFO]: Redis connected successfully
2026-02-03 14:25:32 [INFO]: WebSocket initialized
2026-02-03 14:25:32 [INFO]: Initialized 6 queues
2026-02-03 14:25:32 [INFO]: Queues initialized
2026-02-03 14:25:32 [INFO]: Started 3 cron jobs
2026-02-03 14:25:32 [INFO]: Cron jobs initialized
2026-02-03 14:25:32 [INFO]: Server running on port 3000 in development mode
2026-02-03 14:26:56 [INFO]: Database pool created successfully
2026-02-03 14:26:56 [INFO]: Database connected successfully
2026-02-03 14:26:56 [INFO]: Redis connected
2026-02-03 14:26:56 [INFO]: Redis connected
2026-02-03 14:26:56 [INFO]: Redis connected successfully
2026-02-03 14:26:56 [INFO]: WebSocket initialized
2026-02-03 14:26:56 [INFO]: Initialized 6 queues
2026-02-03 14:26:56 [INFO]: Queues initialized
2026-02-03 14:26:56 [INFO]: Started 3 cron jobs
2026-02-03 14:26:56 [INFO]: Cron jobs initialized
2026-02-03 14:26:56 [INFO]: Server running on port 3000 in development mode
2026-02-03 14:28:23 [INFO]: Database pool created successfully
2026-02-03 14:28:23 [INFO]: Database connected successfully
2026-02-03 14:28:23 [INFO]: Redis connected
2026-02-03 14:28:23 [INFO]: Redis connected
2026-02-03 14:28:23 [INFO]: Redis connected successfully
2026-02-03 14:28:23 [INFO]: WebSocket initialized
2026-02-03 14:28:23 [INFO]: Initialized 6 queues
2026-02-03 14:28:23 [INFO]: Queues initialized
2026-02-03 14:28:23 [INFO]: Started 3 cron jobs
2026-02-03 14:28:23 [INFO]: Cron jobs initialized
2026-02-03 14:28:23 [INFO]: Server running on port 3000 in development mode
2026-02-03 14:30:02 [INFO]: Database pool created successfully
2026-02-03 14:30:02 [INFO]: Database connected successfully
2026-02-03 14:30:02 [INFO]: Redis connected
2026-02-03 14:30:02 [INFO]: Redis connected
2026-02-03 14:30:02 [INFO]: Redis connected successfully
2026-02-03 14:30:02 [INFO]: WebSocket initialized
2026-02-03 14:30:02 [INFO]: Initialized 6 queues
2026-02-03 14:30:02 [INFO]: Queues initialized
2026-02-03 14:30:02 [INFO]: Started 3 cron jobs
2026-02-03 14:30:02 [INFO]: Cron jobs initialized
2026-02-03 14:30:02 [INFO]: Server running on port 3000 in development mode
2026-02-03 14:30:39 [INFO]: Database pool created successfully
2026-02-03 14:30:39 [INFO]: Database connected successfully
2026-02-03 14:30:39 [INFO]: Redis connected
2026-02-03 14:30:39 [INFO]: Redis connected
2026-02-03 14:30:39 [INFO]: Redis connected successfully
2026-02-03 14:30:39 [INFO]: WebSocket initialized
2026-02-03 14:30:39 [INFO]: Initialized 6 queues
2026-02-03 14:30:39 [INFO]: Queues initialized
2026-02-03 14:30:39 [INFO]: Started 3 cron jobs
2026-02-03 14:30:39 [INFO]: Cron jobs initialized
2026-02-03 14:30:39 [INFO]: Server running on port 3000 in development mode
2026-02-03 14:32:19 [INFO]: Database pool created successfully
2026-02-03 14:32:19 [INFO]: Database connected successfully
2026-02-03 14:32:19 [INFO]: Redis connected
2026-02-03 14:32:19 [INFO]: Redis connected
2026-02-03 14:32:19 [INFO]: Redis connected successfully
2026-02-03 14:32:19 [INFO]: WebSocket initialized
2026-02-03 14:32:19 [INFO]: Initialized 6 queues
2026-02-03 14:32:19 [INFO]: Queues initialized
2026-02-03 14:32:19 [INFO]: Started 3 cron jobs
2026-02-03 14:32:19 [INFO]: Cron jobs initialized
2026-02-03 14:32:19 [INFO]: Server running on port 3000 in development mode
2026-02-03 14:33:13 [INFO]: Database pool created successfully
2026-02-03 14:33:13 [INFO]: Database connected successfully
2026-02-03 14:33:13 [INFO]: Redis connected
2026-02-03 14:33:13 [INFO]: Redis connected
2026-02-03 14:33:13 [INFO]: Redis connected successfully
2026-02-03 14:33:13 [INFO]: WebSocket initialized
2026-02-03 14:33:13 [INFO]: Initialized 6 queues
2026-02-03 14:33:13 [INFO]: Queues initialized
2026-02-03 14:33:13 [INFO]: Started 3 cron jobs
2026-02-03 14:33:13 [INFO]: Cron jobs initialized
2026-02-03 14:33:13 [INFO]: Server running on port 3000 in development mode
2026-02-03 14:33:21 [INFO]: Database pool created successfully
2026-02-03 14:33:21 [INFO]: Database connected successfully
2026-02-03 14:33:21 [INFO]: Redis connected
2026-02-03 14:33:21 [INFO]: Redis connected
2026-02-03 14:33:21 [INFO]: Redis connected successfully
2026-02-03 14:33:21 [INFO]: WebSocket initialized
2026-02-03 14:33:21 [INFO]: Initialized 6 queues
2026-02-03 14:33:21 [INFO]: Queues initialized
2026-02-03 14:33:22 [INFO]: Started 3 cron jobs
2026-02-03 14:33:22 [INFO]: Cron jobs initialized
2026-02-03 14:33:22 [INFO]: Server running on port 3000 in development mode
2026-02-03 14:33:47 [INFO]: Database pool created successfully
2026-02-03 14:33:47 [INFO]: Database connected successfully
2026-02-03 14:33:47 [INFO]: Redis connected
2026-02-03 14:33:47 [INFO]: Redis connected
2026-02-03 14:33:47 [INFO]: Redis connected successfully
2026-02-03 14:33:47 [INFO]: WebSocket initialized
2026-02-03 14:33:47 [INFO]: Initialized 6 queues
2026-02-03 14:33:47 [INFO]: Queues initialized
2026-02-03 14:33:47 [INFO]: Started 3 cron jobs
2026-02-03 14:33:47 [INFO]: Cron jobs initialized
2026-02-03 14:33:47 [INFO]: Server running on port 3000 in development mode
2026-02-03 14:34:05 [INFO]: Database pool created successfully
2026-02-03 14:34:05 [INFO]: Database connected successfully
2026-02-03 14:34:05 [INFO]: Redis connected
2026-02-03 14:34:05 [INFO]: Redis connected
2026-02-03 14:34:05 [INFO]: Redis connected successfully
2026-02-03 14:34:05 [INFO]: WebSocket initialized
2026-02-03 14:34:05 [INFO]: Initialized 6 queues
2026-02-03 14:34:05 [INFO]: Queues initialized
2026-02-03 14:34:05 [INFO]: Started 3 cron jobs
2026-02-03 14:34:05 [INFO]: Cron jobs initialized
2026-02-03 14:34:05 [INFO]: Server running on port 3000 in development mode
2026-02-03 14:35:00 [INFO]: Running report aggregation cron job
2026-02-03 14:35:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 20
2026-02-03 14:36:11 [INFO]: Database pool created successfully
2026-02-03 14:36:11 [INFO]: Database connected successfully
2026-02-03 14:36:11 [INFO]: Redis connected
2026-02-03 14:36:11 [INFO]: Redis connected
2026-02-03 14:36:11 [INFO]: Redis connected successfully
2026-02-03 14:36:11 [INFO]: WebSocket initialized
2026-02-03 14:36:11 [INFO]: Initialized 6 queues
2026-02-03 14:36:11 [INFO]: Queues initialized
2026-02-03 14:36:11 [INFO]: Started 3 cron jobs
2026-02-03 14:36:11 [INFO]: Cron jobs initialized
2026-02-03 14:36:11 [INFO]: Server running on port 3000 in development mode
2026-02-03 14:36:20 [INFO]: Database pool created successfully
2026-02-03 14:36:20 [INFO]: Database connected successfully
2026-02-03 14:36:20 [INFO]: Redis connected
2026-02-03 14:36:20 [INFO]: Redis connected
2026-02-03 14:36:20 [INFO]: Redis connected successfully
2026-02-03 14:36:20 [INFO]: WebSocket initialized
2026-02-03 14:36:20 [INFO]: Initialized 6 queues
2026-02-03 14:36:20 [INFO]: Queues initialized
2026-02-03 14:36:20 [INFO]: Started 3 cron jobs
2026-02-03 14:36:20 [INFO]: Cron jobs initialized
2026-02-03 14:36:20 [INFO]: Server running on port 3000 in development mode
2026-02-03 14:36:30 [INFO]: Database pool created successfully
2026-02-03 14:36:42 [INFO]: Database pool created successfully
2026-02-03 14:36:42 [INFO]: Database connected successfully
2026-02-03 14:36:42 [INFO]: Redis connected
2026-02-03 14:36:42 [INFO]: Redis connected
2026-02-03 14:36:42 [INFO]: Redis connected successfully
2026-02-03 14:36:42 [INFO]: WebSocket initialized
2026-02-03 14:36:42 [INFO]: Initialized 6 queues
2026-02-03 14:36:42 [INFO]: Queues initialized
2026-02-03 14:36:42 [INFO]: Started 3 cron jobs
2026-02-03 14:36:42 [INFO]: Cron jobs initialized
2026-02-03 14:36:42 [INFO]: Server running on port 3000 in development mode
2026-02-03 14:36:50 [INFO]: Database pool created successfully
2026-02-03 14:37:03 [INFO]: Database pool created successfully
2026-02-03 14:37:03 [INFO]: Database connected successfully
2026-02-03 14:37:03 [INFO]: Redis connected
2026-02-03 14:37:03 [INFO]: Redis connected
2026-02-03 14:37:03 [INFO]: Redis connected successfully
2026-02-03 14:37:03 [INFO]: WebSocket initialized
2026-02-03 14:37:03 [INFO]: Initialized 6 queues
2026-02-03 14:37:03 [INFO]: Queues initialized
2026-02-03 14:37:03 [INFO]: Started 3 cron jobs
2026-02-03 14:37:03 [INFO]: Cron jobs initialized
2026-02-03 14:37:03 [INFO]: Server running on port 3000 in development mode
2026-02-03 14:37:11 [INFO]: Database pool created successfully
2026-02-03 14:37:22 [INFO]: Database pool created successfully
2026-02-03 14:37:22 [INFO]: Database connected successfully
2026-02-03 14:37:22 [INFO]: Redis connected
2026-02-03 14:37:22 [INFO]: Redis connected
2026-02-03 14:37:22 [INFO]: Redis connected successfully
2026-02-03 14:37:22 [INFO]: WebSocket initialized
2026-02-03 14:37:22 [INFO]: Initialized 6 queues
2026-02-03 14:37:22 [INFO]: Queues initialized
2026-02-03 14:37:22 [INFO]: Started 3 cron jobs
2026-02-03 14:37:22 [INFO]: Cron jobs initialized
2026-02-03 14:37:22 [INFO]: Server running on port 3000 in development mode
2026-02-03 14:37:31 [INFO]: Database pool created successfully
2026-02-03 14:37:51 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:07:51 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 14:37:51 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:07:51 +0000] "GET /api/v1/orders/active/4 HTTP/1.1" 200 6268 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 14:38:03 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:08:03 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 14:38:03 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:08:03 +0000] "GET /api/v1/orders/kot/active/4?station=kitchen HTTP/1.1" 200 26 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 14:38:13 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:08:13 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 14:38:13 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:08:13 +0000] "GET /api/v1/orders/reports/4/dashboard HTTP/1.1" 200 245 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.26100.7462"
2026-02-03 14:40:00 [INFO]: Running report aggregation cron job
2026-02-03 14:40:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 21
2026-02-03 14:45:00 [INFO]: Running report aggregation cron job
2026-02-03 14:45:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 22
2026-02-03 14:48:17 [INFO]: Database pool created successfully
2026-02-03 14:48:17 [INFO]: Database connected successfully
2026-02-03 14:48:17 [INFO]: Redis connected
2026-02-03 14:48:17 [INFO]: Redis connected
2026-02-03 14:48:17 [INFO]: Redis connected successfully
2026-02-03 14:48:17 [INFO]: WebSocket initialized
2026-02-03 14:48:17 [INFO]: Initialized 6 queues
2026-02-03 14:48:17 [INFO]: Queues initialized
2026-02-03 14:48:17 [INFO]: Started 3 cron jobs
2026-02-03 14:48:17 [INFO]: Cron jobs initialized
2026-02-03 14:48:17 [INFO]: Server running on port 3000 in development mode
2026-02-03 14:49:02 [INFO]: Database pool created successfully
2026-02-03 14:49:02 [INFO]: Database connected successfully
2026-02-03 14:49:03 [INFO]: Redis connected
2026-02-03 14:49:03 [INFO]: Redis connected
2026-02-03 14:49:03 [INFO]: Redis connected successfully
2026-02-03 14:49:03 [INFO]: WebSocket initialized
2026-02-03 14:49:03 [INFO]: Initialized 6 queues
2026-02-03 14:49:03 [INFO]: Queues initialized
2026-02-03 14:49:03 [INFO]: Started 3 cron jobs
2026-02-03 14:49:03 [INFO]: Cron jobs initialized
2026-02-03 14:49:03 [INFO]: Server running on port 3000 in development mode
2026-02-03 14:49:30 [INFO]: Database pool created successfully
2026-02-03 14:49:30 [INFO]: Database connected successfully
2026-02-03 14:49:30 [INFO]: Redis connected
2026-02-03 14:49:30 [INFO]: Redis connected
2026-02-03 14:49:30 [INFO]: Redis connected successfully
2026-02-03 14:49:30 [INFO]: WebSocket initialized
2026-02-03 14:49:30 [INFO]: Initialized 6 queues
2026-02-03 14:49:30 [INFO]: Queues initialized
2026-02-03 14:49:30 [INFO]: Started 3 cron jobs
2026-02-03 14:49:30 [INFO]: Cron jobs initialized
2026-02-03 14:49:30 [INFO]: Server running on port 3000 in development mode
2026-02-03 14:49:39 [INFO]: Database pool created successfully
2026-02-03 14:49:39 [INFO]: Database connected successfully
2026-02-03 14:49:39 [INFO]: Redis connected
2026-02-03 14:49:39 [INFO]: Redis connected
2026-02-03 14:49:39 [INFO]: Redis connected successfully
2026-02-03 14:49:39 [INFO]: WebSocket initialized
2026-02-03 14:49:39 [INFO]: Initialized 6 queues
2026-02-03 14:49:39 [INFO]: Queues initialized
2026-02-03 14:49:39 [INFO]: Started 3 cron jobs
2026-02-03 14:49:39 [INFO]: Cron jobs initialized
2026-02-03 14:49:39 [INFO]: Server running on port 3000 in development mode
2026-02-03 14:49:56 [INFO]: Database pool created successfully
2026-02-03 14:49:56 [INFO]: Database connected successfully
2026-02-03 14:49:56 [INFO]: Redis connected
2026-02-03 14:49:56 [INFO]: Redis connected
2026-02-03 14:49:56 [INFO]: Redis connected successfully
2026-02-03 14:49:56 [INFO]: WebSocket initialized
2026-02-03 14:49:56 [INFO]: Initialized 6 queues
2026-02-03 14:49:56 [INFO]: Queues initialized
2026-02-03 14:49:56 [INFO]: Started 3 cron jobs
2026-02-03 14:49:56 [INFO]: Cron jobs initialized
2026-02-03 14:49:56 [INFO]: Server running on port 3000 in development mode
2026-02-03 14:50:00 [INFO]: Running report aggregation cron job
2026-02-03 14:50:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 23
2026-02-03 14:50:09 [INFO]: Database pool created successfully
2026-02-03 14:50:09 [INFO]: Database connected successfully
2026-02-03 14:50:09 [INFO]: Redis connected
2026-02-03 14:50:09 [INFO]: Redis connected
2026-02-03 14:50:09 [INFO]: Redis connected successfully
2026-02-03 14:50:09 [INFO]: WebSocket initialized
2026-02-03 14:50:09 [INFO]: Initialized 6 queues
2026-02-03 14:50:09 [INFO]: Queues initialized
2026-02-03 14:50:09 [INFO]: Started 3 cron jobs
2026-02-03 14:50:09 [INFO]: Cron jobs initialized
2026-02-03 14:50:09 [INFO]: Server running on port 3000 in development mode
2026-02-03 14:50:27 [INFO]: Database pool created successfully
2026-02-03 14:50:27 [INFO]: Database connected successfully
2026-02-03 14:50:27 [INFO]: Redis connected
2026-02-03 14:50:27 [INFO]: Redis connected
2026-02-03 14:50:27 [INFO]: Redis connected successfully
2026-02-03 14:50:27 [INFO]: WebSocket initialized
2026-02-03 14:50:27 [INFO]: Initialized 6 queues
2026-02-03 14:50:27 [INFO]: Queues initialized
2026-02-03 14:50:27 [INFO]: Started 3 cron jobs
2026-02-03 14:50:27 [INFO]: Cron jobs initialized
2026-02-03 14:50:27 [INFO]: Server running on port 3000 in development mode
2026-02-03 14:50:44 [INFO]: Database pool created successfully
2026-02-03 14:50:44 [INFO]: Database connected successfully
2026-02-03 14:50:44 [INFO]: Redis connected
2026-02-03 14:50:44 [INFO]: Redis connected
2026-02-03 14:50:44 [INFO]: Redis connected successfully
2026-02-03 14:50:44 [INFO]: WebSocket initialized
2026-02-03 14:50:44 [INFO]: Initialized 6 queues
2026-02-03 14:50:44 [INFO]: Queues initialized
2026-02-03 14:50:44 [INFO]: Started 3 cron jobs
2026-02-03 14:50:44 [INFO]: Cron jobs initialized
2026-02-03 14:50:44 [INFO]: Server running on port 3000 in development mode
2026-02-03 14:51:36 [INFO]: Database pool created successfully
2026-02-03 14:51:36 [INFO]: Database connected successfully
2026-02-03 14:51:36 [INFO]: Redis connected
2026-02-03 14:51:36 [INFO]: Redis connected
2026-02-03 14:51:36 [INFO]: Redis connected successfully
2026-02-03 14:51:36 [INFO]: WebSocket initialized
2026-02-03 14:51:36 [INFO]: Initialized 6 queues
2026-02-03 14:51:36 [INFO]: Queues initialized
2026-02-03 14:51:36 [INFO]: Started 3 cron jobs
2026-02-03 14:51:36 [INFO]: Cron jobs initialized
2026-02-03 14:51:36 [INFO]: Server running on port 3000 in development mode
2026-02-03 14:53:00 [INFO]: SIGINT received. Starting graceful shutdown...
2026-02-03 15:06:31 [INFO]: Database pool created successfully
2026-02-03 15:06:31 [INFO]: Database connected successfully
2026-02-03 15:06:31 [INFO]: Redis connected
2026-02-03 15:06:31 [INFO]: Redis connected
2026-02-03 15:06:31 [INFO]: Redis connected successfully
2026-02-03 15:06:31 [INFO]: WebSocket initialized
2026-02-03 15:06:31 [INFO]: Initialized 6 queues
2026-02-03 15:06:31 [INFO]: Queues initialized
2026-02-03 15:06:31 [INFO]: Started 3 cron jobs
2026-02-03 15:06:31 [INFO]: Cron jobs initialized
2026-02-03 15:06:31 [INFO]: Server running on port 3000 in development mode
2026-02-03 15:07:16 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:37:16 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "axios/1.13.4"
2026-02-03 15:07:16 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:37:16 +0000] "GET /api/v1/outlets HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:07:16 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:37:16 +0000] "GET /api/v1/tables/outlet/4 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:07:16 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:37:16 +0000] "GET /api/v1/menu/items/outlet/4?limit=10 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:07:16 [ERROR]: Create order error: Column 'created_by' cannot be null {"code":"ER_BAD_NULL_ERROR","errno":1048,"sql":"INSERT INTO orders (\n          uuid, outlet_id, order_number, order_type,\n          table_id, table_session_id, floor_id, section_id,\n          customer_id, customer_name, customer_phone, guest_count,\n          status, payment_status, special_instructions, created_by\n        ) VALUES ('83cac48f-ed7e-42e0-8852-687359a4828e', 4, 'ORD2602030009', 'dine_in', 7, 3, NULL, NULL, NULL, 'Test Customer', '9876543210', 1, 'pending', 'pending', 'Test order for lifecycle verification', NULL)","sqlState":"23000","sqlMessage":"Column 'created_by' cannot be null"}
Error: Column 'created_by' cannot be null
    at PromisePoolConnection.query (E:\restro-backend\node_modules\mysql2\lib\promise\connection.js:29:22)
    at Object.createOrder (E:\restro-backend\src\services\order.service.js:98:41)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async createOrder (E:\restro-backend\src\controllers\order.controller.js:20:21)
2026-02-03 15:07:16 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:37:16 +0000] "POST /api/v1/orders HTTP/1.1" 500 64 "-" "axios/1.13.4"
2026-02-03 15:07:16 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:37:16 +0000] "POST /api/v1/orders/null/kot/send HTTP/1.1" 404 48 "-" "axios/1.13.4"
2026-02-03 15:07:16 [ERROR]: Add items error: Unknown column 'u.full_name' in 'field list' {"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT o.*, t.table_number, t.name as table_name,\n        f.name as floor_name, s.name as section_name,\n        u.full_name as created_by_name\n       FROM orders o\n       LEFT JOIN tables t ON o.table_id = t.id\n       LEFT JOIN floors f ON o.floor_id = f.id\n       LEFT JOIN sections s ON o.section_id = s.id\n       LEFT JOIN users u ON o.created_by = u.id\n       WHERE o.id = 'null'","sqlState":"42S22","sqlMessage":"Unknown column 'u.full_name' in 'field list'"}
Error: Unknown column 'u.full_name' in 'field list'
    at PromisePool.query (E:\restro-backend\node_modules\mysql2\lib\promise\pool.js:36:22)
    at Object.getById (E:\restro-backend\src\services\order.service.js:316:31)
    at Object.addItems (E:\restro-backend\src\services\order.service.js:144:32)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async addItems (E:\restro-backend\src\controllers\order.controller.js:73:22)
2026-02-03 15:07:16 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:37:16 +0000] "POST /api/v1/orders/null/items HTTP/1.1" 500 74 "-" "axios/1.13.4"
2026-02-03 15:07:16 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:37:16 +0000] "GET /api/v1/orders/null/kot HTTP/1.1" 404 48 "-" "axios/1.13.4"
2026-02-03 15:07:16 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:37:16 +0000] "GET /api/v1/orders/null/kot HTTP/1.1" 404 48 "-" "axios/1.13.4"
2026-02-03 15:07:17 [ERROR]: Generate bill error: Unknown column 'u.full_name' in 'field list' {"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT o.*, t.table_number, t.name as table_name,\n        f.name as floor_name, s.name as section_name,\n        u.full_name as created_by_name\n       FROM orders o\n       LEFT JOIN tables t ON o.table_id = t.id\n       LEFT JOIN floors f ON o.floor_id = f.id\n       LEFT JOIN sections s ON o.section_id = s.id\n       LEFT JOIN users u ON o.created_by = u.id\n       WHERE o.id = 'null'","sqlState":"42S22","sqlMessage":"Unknown column 'u.full_name' in 'field list'"}
Error: Unknown column 'u.full_name' in 'field list'
    at PromisePool.query (E:\restro-backend\node_modules\mysql2\lib\promise\pool.js:36:22)
    at Object.getById (E:\restro-backend\src\services\order.service.js:316:31)
    at Object.getOrderWithItems (E:\restro-backend\src\services\order.service.js:338:30)
    at Object.generateBill (E:\restro-backend\src\services\billing.service.js:51:40)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async generateBill (E:\restro-backend\src\controllers\order.controller.js:293:23)
2026-02-03 15:07:17 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:37:17 +0000] "POST /api/v1/orders/null/bill HTTP/1.1" 500 74 "-" "axios/1.13.4"
2026-02-03 15:07:17 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:37:17 +0000] "GET /api/v1/orders/null/bill HTTP/1.1" 404 48 "-" "axios/1.13.4"
2026-02-03 15:07:17 [ERROR]: Get order error: Unknown column 'u.full_name' in 'field list' {"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT o.*, t.table_number, t.name as table_name,\n        f.name as floor_name, s.name as section_name,\n        u.full_name as created_by_name\n       FROM orders o\n       LEFT JOIN tables t ON o.table_id = t.id\n       LEFT JOIN floors f ON o.floor_id = f.id\n       LEFT JOIN sections s ON o.section_id = s.id\n       LEFT JOIN users u ON o.created_by = u.id\n       WHERE o.id = 'null'","sqlState":"42S22","sqlMessage":"Unknown column 'u.full_name' in 'field list'"}
Error: Unknown column 'u.full_name' in 'field list'
    at PromisePool.query (E:\restro-backend\node_modules\mysql2\lib\promise\pool.js:36:22)
    at Object.getById (E:\restro-backend\src\services\order.service.js:316:31)
    at Object.getOrderWithItems (E:\restro-backend\src\services\order.service.js:338:30)
    at getOrder (E:\restro-backend\src\controllers\order.controller.js:33:40)
    at Layer.handle [as handle_request] (E:\restro-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (E:\restro-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (E:\restro-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (E:\restro-backend\node_modules\express\lib\router\layer.js:95:5)
    at E:\restro-backend\node_modules\express\lib\router\index.js:284:15
    at param (E:\restro-backend\node_modules\express\lib\router\index.js:365:14)
2026-02-03 15:07:17 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:37:17 +0000] "GET /api/v1/orders/null HTTP/1.1" 500 74 "-" "axios/1.13.4"
2026-02-03 15:07:58 [INFO]: Database pool created successfully
2026-02-03 15:07:58 [INFO]: Database connected successfully
2026-02-03 15:07:58 [INFO]: Redis connected
2026-02-03 15:07:58 [INFO]: Redis connected
2026-02-03 15:07:58 [INFO]: Redis connected successfully
2026-02-03 15:07:58 [INFO]: WebSocket initialized
2026-02-03 15:07:58 [INFO]: Initialized 6 queues
2026-02-03 15:07:58 [INFO]: Queues initialized
2026-02-03 15:07:58 [INFO]: Started 3 cron jobs
2026-02-03 15:07:58 [INFO]: Cron jobs initialized
2026-02-03 15:07:58 [INFO]: Server running on port 3000 in development mode
2026-02-03 15:08:01 [INFO]: Database pool created successfully
2026-02-03 15:08:01 [INFO]: Database connected successfully
2026-02-03 15:08:01 [INFO]: Redis connected
2026-02-03 15:08:01 [INFO]: Redis connected
2026-02-03 15:08:01 [INFO]: Redis connected successfully
2026-02-03 15:08:01 [INFO]: WebSocket initialized
2026-02-03 15:08:01 [INFO]: Initialized 6 queues
2026-02-03 15:08:01 [INFO]: Queues initialized
2026-02-03 15:08:01 [INFO]: Started 3 cron jobs
2026-02-03 15:08:01 [INFO]: Cron jobs initialized
2026-02-03 15:08:01 [INFO]: Server running on port 3000 in development mode
2026-02-03 15:08:08 [INFO]: Database pool created successfully
2026-02-03 15:08:08 [INFO]: Database connected successfully
2026-02-03 15:08:08 [INFO]: Redis connected
2026-02-03 15:08:08 [INFO]: Redis connected
2026-02-03 15:08:08 [INFO]: Redis connected successfully
2026-02-03 15:08:08 [INFO]: WebSocket initialized
2026-02-03 15:08:08 [INFO]: Initialized 6 queues
2026-02-03 15:08:08 [INFO]: Queues initialized
2026-02-03 15:08:08 [INFO]: Started 3 cron jobs
2026-02-03 15:08:08 [INFO]: Cron jobs initialized
2026-02-03 15:08:08 [INFO]: Server running on port 3000 in development mode
2026-02-03 15:08:11 [INFO]: Database pool created successfully
2026-02-03 15:08:11 [INFO]: Database connected successfully
2026-02-03 15:08:11 [INFO]: Redis connected
2026-02-03 15:08:11 [INFO]: Redis connected
2026-02-03 15:08:11 [INFO]: Redis connected successfully
2026-02-03 15:08:11 [INFO]: WebSocket initialized
2026-02-03 15:08:11 [INFO]: Initialized 6 queues
2026-02-03 15:08:11 [INFO]: Queues initialized
2026-02-03 15:08:11 [INFO]: Started 3 cron jobs
2026-02-03 15:08:11 [INFO]: Cron jobs initialized
2026-02-03 15:08:11 [INFO]: Server running on port 3000 in development mode
2026-02-03 15:08:14 [INFO]: Database pool created successfully
2026-02-03 15:08:14 [INFO]: Database connected successfully
2026-02-03 15:08:14 [INFO]: Redis connected
2026-02-03 15:08:14 [INFO]: Redis connected
2026-02-03 15:08:14 [INFO]: Redis connected successfully
2026-02-03 15:08:14 [INFO]: WebSocket initialized
2026-02-03 15:08:14 [INFO]: Initialized 6 queues
2026-02-03 15:08:14 [INFO]: Queues initialized
2026-02-03 15:08:14 [INFO]: Started 3 cron jobs
2026-02-03 15:08:14 [INFO]: Cron jobs initialized
2026-02-03 15:08:14 [INFO]: Server running on port 3000 in development mode
2026-02-03 15:08:25 [INFO]: Database pool created successfully
2026-02-03 15:08:25 [INFO]: Database connected successfully
2026-02-03 15:08:25 [INFO]: Redis connected
2026-02-03 15:08:25 [INFO]: Redis connected
2026-02-03 15:08:25 [INFO]: Redis connected successfully
2026-02-03 15:08:25 [INFO]: WebSocket initialized
2026-02-03 15:08:25 [INFO]: Initialized 6 queues
2026-02-03 15:08:25 [INFO]: Queues initialized
2026-02-03 15:08:25 [INFO]: Started 3 cron jobs
2026-02-03 15:08:25 [INFO]: Cron jobs initialized
2026-02-03 15:08:25 [INFO]: Server running on port 3000 in development mode
2026-02-03 15:09:16 [INFO]: Database pool created successfully
2026-02-03 15:09:16 [INFO]: Database connected successfully
2026-02-03 15:09:16 [INFO]: Redis connected
2026-02-03 15:09:16 [INFO]: Redis connected
2026-02-03 15:09:16 [INFO]: Redis connected successfully
2026-02-03 15:09:16 [INFO]: WebSocket initialized
2026-02-03 15:09:16 [INFO]: Initialized 6 queues
2026-02-03 15:09:16 [INFO]: Queues initialized
2026-02-03 15:09:16 [INFO]: Started 3 cron jobs
2026-02-03 15:09:16 [INFO]: Cron jobs initialized
2026-02-03 15:09:16 [INFO]: Server running on port 3000 in development mode
2026-02-03 15:09:25 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:39:25 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "axios/1.13.4"
2026-02-03 15:09:25 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:39:25 +0000] "GET /api/v1/outlets HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:09:25 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:39:25 +0000] "GET /api/v1/tables/outlet/4 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:09:25 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:39:25 +0000] "GET /api/v1/menu/items/outlet/4?limit=10 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:09:25 [ERROR]: Create order error: Column 'created_by' cannot be null {"code":"ER_BAD_NULL_ERROR","errno":1048,"sql":"INSERT INTO orders (\n          uuid, outlet_id, order_number, order_type,\n          table_id, table_session_id, floor_id, section_id,\n          customer_id, customer_name, customer_phone, guest_count,\n          status, payment_status, special_instructions, created_by\n        ) VALUES ('8a632d3a-e7eb-4d45-b5d4-d9aba04715fd', 4, 'ORD2602030009', 'dine_in', 8, 4, NULL, NULL, NULL, 'Test Customer', '9876543210', 2, 'pending', 'pending', 'Test order for lifecycle verification', NULL)","sqlState":"23000","sqlMessage":"Column 'created_by' cannot be null"}
Error: Column 'created_by' cannot be null
    at PromisePoolConnection.query (E:\restro-backend\node_modules\mysql2\lib\promise\connection.js:29:22)
    at Object.createOrder (E:\restro-backend\src\services\order.service.js:98:41)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async createOrder (E:\restro-backend\src\controllers\order.controller.js:20:21)
2026-02-03 15:09:25 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:39:25 +0000] "POST /api/v1/orders HTTP/1.1" 500 64 "-" "axios/1.13.4"
2026-02-03 15:09:25 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:39:25 +0000] "POST /api/v1/orders/null/kot/send HTTP/1.1" 404 48 "-" "axios/1.13.4"
2026-02-03 15:09:25 [ERROR]: Add items error: Order not found
Error: Order not found
    at Object.addItems (E:\restro-backend\src\services\order.service.js:145:25)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async addItems (E:\restro-backend\src\controllers\order.controller.js:73:22)
2026-02-03 15:09:25 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:39:25 +0000] "POST /api/v1/orders/null/items HTTP/1.1" 500 45 "-" "axios/1.13.4"
2026-02-03 15:09:25 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:39:25 +0000] "GET /api/v1/orders/null/kot HTTP/1.1" 404 48 "-" "axios/1.13.4"
2026-02-03 15:09:25 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:39:25 +0000] "GET /api/v1/orders/null/kot HTTP/1.1" 404 48 "-" "axios/1.13.4"
2026-02-03 15:09:25 [ERROR]: Generate bill error: Order not found
Error: Order not found
    at Object.generateBill (E:\restro-backend\src\services\billing.service.js:52:25)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async generateBill (E:\restro-backend\src\controllers\order.controller.js:293:23)
2026-02-03 15:09:25 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:39:25 +0000] "POST /api/v1/orders/null/bill HTTP/1.1" 500 45 "-" "axios/1.13.4"
2026-02-03 15:09:25 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:39:25 +0000] "GET /api/v1/orders/null/bill HTTP/1.1" 404 48 "-" "axios/1.13.4"
2026-02-03 15:09:26 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:39:26 +0000] "GET /api/v1/orders/null HTTP/1.1" 404 45 "-" "axios/1.13.4"
2026-02-03 15:09:51 [INFO]: Database pool created successfully
2026-02-03 15:09:51 [INFO]: Database connected successfully
2026-02-03 15:09:52 [INFO]: Redis connected
2026-02-03 15:09:52 [INFO]: Redis connected
2026-02-03 15:09:52 [INFO]: Redis connected successfully
2026-02-03 15:09:52 [INFO]: WebSocket initialized
2026-02-03 15:09:52 [INFO]: Initialized 6 queues
2026-02-03 15:09:52 [INFO]: Queues initialized
2026-02-03 15:09:52 [INFO]: Started 3 cron jobs
2026-02-03 15:09:52 [INFO]: Cron jobs initialized
2026-02-03 15:09:52 [INFO]: Server running on port 3000 in development mode
2026-02-03 15:09:55 [INFO]: Database pool created successfully
2026-02-03 15:09:55 [INFO]: Database connected successfully
2026-02-03 15:09:55 [INFO]: Redis connected
2026-02-03 15:09:55 [INFO]: Redis connected
2026-02-03 15:09:55 [INFO]: Redis connected successfully
2026-02-03 15:09:55 [INFO]: WebSocket initialized
2026-02-03 15:09:55 [INFO]: Initialized 6 queues
2026-02-03 15:09:55 [INFO]: Queues initialized
2026-02-03 15:09:55 [INFO]: Started 3 cron jobs
2026-02-03 15:09:55 [INFO]: Cron jobs initialized
2026-02-03 15:09:55 [INFO]: Server running on port 3000 in development mode
2026-02-03 15:10:00 [INFO]: Running report aggregation cron job
2026-02-03 15:10:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 24
2026-02-03 15:10:05 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:05 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "axios/1.13.4"
2026-02-03 15:10:05 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:05 +0000] "GET /api/v1/outlets HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:10:05 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:05 +0000] "GET /api/v1/tables/outlet/4 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:10:05 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:05 +0000] "GET /api/v1/menu/items/outlet/4?limit=10 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:10:05 [ERROR]: Failed to emit order update: publishMessage is not a function
TypeError: publishMessage is not a function
    at Object.emitOrderUpdate (E:\restro-backend\src\services\order.service.js:741:13)
    at Object.createOrder (E:\restro-backend\src\services\order.service.js:118:18)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async createOrder (E:\restro-backend\src\controllers\order.controller.js:20:21)
2026-02-03 15:10:05 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:05 +0000] "POST /api/v1/orders HTTP/1.1" 201 - "-" "axios/1.13.4"
2026-02-03 15:10:05 [ERROR]: Failed to emit order update: publishMessage is not a function
TypeError: publishMessage is not a function
    at Object.emitOrderUpdate (E:\restro-backend\src\services\order.service.js:741:13)
    at Object.addItems (E:\restro-backend\src\services\order.service.js:263:18)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async addItems (E:\restro-backend\src\controllers\order.controller.js:73:22)
2026-02-03 15:10:05 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:05 +0000] "POST /api/v1/orders/9/items HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:10:05 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:05 +0000] "POST /api/v1/orders/9/kot/send HTTP/1.1" 404 48 "-" "axios/1.13.4"
2026-02-03 15:10:05 [ERROR]: Failed to emit order update: publishMessage is not a function
TypeError: publishMessage is not a function
    at Object.emitOrderUpdate (E:\restro-backend\src\services\order.service.js:741:13)
    at Object.addItems (E:\restro-backend\src\services\order.service.js:263:18)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async addItems (E:\restro-backend\src\controllers\order.controller.js:73:22)
2026-02-03 15:10:05 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:05 +0000] "POST /api/v1/orders/9/items HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:10:05 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:05 +0000] "POST /api/v1/orders/9/kot/send HTTP/1.1" 404 48 "-" "axios/1.13.4"
2026-02-03 15:10:05 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:05 +0000] "GET /api/v1/orders/9/kot HTTP/1.1" 404 48 "-" "axios/1.13.4"
2026-02-03 15:10:05 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:05 +0000] "GET /api/v1/orders/9/kot HTTP/1.1" 404 48 "-" "axios/1.13.4"
2026-02-03 15:10:05 [ERROR]: Generate bill error: Cannot read properties of undefined (reading 'includes')
TypeError: Cannot read properties of undefined (reading 'includes')
    at Object.calculateBillDetails (E:\restro-backend\src\services\billing.service.js:224:25)
    at Object.generateBill (E:\restro-backend\src\services\billing.service.js:77:38)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async generateBill (E:\restro-backend\src\controllers\order.controller.js:293:23)
2026-02-03 15:10:05 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:05 +0000] "POST /api/v1/orders/9/bill HTTP/1.1" 500 86 "-" "axios/1.13.4"
2026-02-03 15:10:05 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:05 +0000] "GET /api/v1/orders/9/bill HTTP/1.1" 404 48 "-" "axios/1.13.4"
2026-02-03 15:10:05 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:05 +0000] "GET /api/v1/orders/9 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:10:05 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:05 +0000] "GET /api/v1/tables/9 HTTP/1.1" 200 505 "-" "axios/1.13.4"
2026-02-03 15:10:24 [INFO]: Database pool created successfully
2026-02-03 15:10:24 [INFO]: Database connected successfully
2026-02-03 15:10:24 [INFO]: Redis connected
2026-02-03 15:10:24 [INFO]: Redis connected
2026-02-03 15:10:24 [INFO]: Redis connected successfully
2026-02-03 15:10:24 [INFO]: WebSocket initialized
2026-02-03 15:10:24 [INFO]: Initialized 6 queues
2026-02-03 15:10:24 [INFO]: Queues initialized
2026-02-03 15:10:24 [INFO]: Started 3 cron jobs
2026-02-03 15:10:24 [INFO]: Cron jobs initialized
2026-02-03 15:10:24 [INFO]: Server running on port 3000 in development mode
2026-02-03 15:10:26 [INFO]: Database pool created successfully
2026-02-03 15:10:26 [INFO]: Database connected successfully
2026-02-03 15:10:26 [INFO]: Redis connected
2026-02-03 15:10:26 [INFO]: Redis connected
2026-02-03 15:10:26 [INFO]: Redis connected successfully
2026-02-03 15:10:26 [INFO]: WebSocket initialized
2026-02-03 15:10:26 [INFO]: Initialized 6 queues
2026-02-03 15:10:26 [INFO]: Queues initialized
2026-02-03 15:10:26 [INFO]: Started 3 cron jobs
2026-02-03 15:10:26 [INFO]: Cron jobs initialized
2026-02-03 15:10:26 [INFO]: Server running on port 3000 in development mode
2026-02-03 15:10:36 [INFO]: Database pool created successfully
2026-02-03 15:10:36 [INFO]: Database connected successfully
2026-02-03 15:10:36 [INFO]: Redis connected
2026-02-03 15:10:36 [INFO]: Redis connected
2026-02-03 15:10:36 [INFO]: Redis connected successfully
2026-02-03 15:10:36 [INFO]: WebSocket initialized
2026-02-03 15:10:36 [INFO]: Initialized 6 queues
2026-02-03 15:10:36 [INFO]: Queues initialized
2026-02-03 15:10:36 [INFO]: Started 3 cron jobs
2026-02-03 15:10:36 [INFO]: Cron jobs initialized
2026-02-03 15:10:36 [INFO]: Server running on port 3000 in development mode
2026-02-03 15:10:37 [INFO]: Database pool created successfully
2026-02-03 15:10:37 [INFO]: Database connected successfully
2026-02-03 15:10:37 [INFO]: Redis connected
2026-02-03 15:10:37 [INFO]: Redis connected
2026-02-03 15:10:37 [INFO]: Redis connected successfully
2026-02-03 15:10:37 [INFO]: WebSocket initialized
2026-02-03 15:10:37 [INFO]: Initialized 6 queues
2026-02-03 15:10:37 [INFO]: Queues initialized
2026-02-03 15:10:37 [INFO]: Started 3 cron jobs
2026-02-03 15:10:37 [INFO]: Cron jobs initialized
2026-02-03 15:10:37 [INFO]: Server running on port 3000 in development mode
2026-02-03 15:10:49 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:49 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "axios/1.13.4"
2026-02-03 15:10:49 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:49 +0000] "GET /api/v1/outlets HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:10:49 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:49 +0000] "GET /api/v1/tables/outlet/4 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:10:49 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:49 +0000] "GET /api/v1/menu/items/outlet/4?limit=10 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:10:49 [ERROR]: Failed to emit order update: publishMessage is not a function
TypeError: publishMessage is not a function
    at Object.emitOrderUpdate (E:\restro-backend\src\services\order.service.js:741:13)
    at Object.createOrder (E:\restro-backend\src\services\order.service.js:118:18)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async createOrder (E:\restro-backend\src\controllers\order.controller.js:20:21)
2026-02-03 15:10:49 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:49 +0000] "POST /api/v1/orders HTTP/1.1" 201 - "-" "axios/1.13.4"
2026-02-03 15:10:49 [ERROR]: Failed to emit order update: publishMessage is not a function
TypeError: publishMessage is not a function
    at Object.emitOrderUpdate (E:\restro-backend\src\services\order.service.js:741:13)
    at Object.addItems (E:\restro-backend\src\services\order.service.js:263:18)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async addItems (E:\restro-backend\src\controllers\order.controller.js:73:22)
2026-02-03 15:10:49 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:49 +0000] "POST /api/v1/orders/10/items HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:10:49 [ERROR]: Failed to emit KOT update: publishMessage is not a function
TypeError: publishMessage is not a function
    at Object.emitKotUpdate (E:\restro-backend\src\services\kot.service.js:679:13)
    at Object.sendKot (E:\restro-backend\src\services\kot.service.js:170:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async sendKot (E:\restro-backend\src\controllers\order.controller.js:173:22)
2026-02-03 15:10:49 [INFO]: Print job created: 07afbd44-fc72-4e57-a607-ab7b8f14ee05 for bar
2026-02-03 15:10:49 [ERROR]: Failed to emit KOT update: publishMessage is not a function
TypeError: publishMessage is not a function
    at Object.emitKotUpdate (E:\restro-backend\src\services\kot.service.js:679:13)
    at Object.sendKot (E:\restro-backend\src\services\kot.service.js:170:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async sendKot (E:\restro-backend\src\controllers\order.controller.js:173:22)
2026-02-03 15:10:49 [INFO]: Print job created: d38bfe6c-3be9-4e3a-b230-fa8181d05b75 for kitchen
2026-02-03 15:10:49 [ERROR]: Send KOT error: publishMessage is not a function
TypeError: publishMessage is not a function
    at Object.sendKot (E:\restro-backend\src\services\kot.service.js:196:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async sendKot (E:\restro-backend\src\controllers\order.controller.js:173:22)
2026-02-03 15:10:49 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:49 +0000] "POST /api/v1/orders/10/kot HTTP/1.1" 500 62 "-" "axios/1.13.4"
2026-02-03 15:10:49 [ERROR]: Failed to emit order update: publishMessage is not a function
TypeError: publishMessage is not a function
    at Object.emitOrderUpdate (E:\restro-backend\src\services\order.service.js:741:13)
    at Object.addItems (E:\restro-backend\src\services\order.service.js:263:18)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async addItems (E:\restro-backend\src\controllers\order.controller.js:73:22)
2026-02-03 15:10:49 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:49 +0000] "POST /api/v1/orders/10/items HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:10:49 [ERROR]: Failed to emit KOT update: publishMessage is not a function
TypeError: publishMessage is not a function
    at Object.emitKotUpdate (E:\restro-backend\src\services\kot.service.js:679:13)
    at Object.sendKot (E:\restro-backend\src\services\kot.service.js:170:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async sendKot (E:\restro-backend\src\controllers\order.controller.js:173:22)
2026-02-03 15:10:49 [INFO]: Print job created: 61862a7c-f788-444a-a52b-c53999d6014a for kitchen
2026-02-03 15:10:49 [ERROR]: Send KOT error: publishMessage is not a function
TypeError: publishMessage is not a function
    at Object.sendKot (E:\restro-backend\src\services\kot.service.js:196:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async sendKot (E:\restro-backend\src\controllers\order.controller.js:173:22)
2026-02-03 15:10:49 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:49 +0000] "POST /api/v1/orders/10/kot HTTP/1.1" 500 62 "-" "axios/1.13.4"
2026-02-03 15:10:49 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:49 +0000] "GET /api/v1/orders/10/kots HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:10:49 [ERROR]: Failed to emit KOT update: publishMessage is not a function
TypeError: publishMessage is not a function
    at Object.emitKotUpdate (E:\restro-backend\src\services\kot.service.js:679:13)
    at Object.acceptKot (E:\restro-backend\src\services\kot.service.js:274:16)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async acceptKot (E:\restro-backend\src\controllers\order.controller.js:218:19)
2026-02-03 15:10:49 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:49 +0000] "POST /api/v1/orders/kot/15/accept HTTP/1.1" 200 978 "-" "axios/1.13.4"
2026-02-03 15:10:49 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:49 +0000] "POST /api/v1/orders/kot/15/prepare HTTP/1.1" 404 48 "-" "axios/1.13.4"
2026-02-03 15:10:49 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:49 +0000] "GET /api/v1/orders/10/kots HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:10:49 [ERROR]: Failed to emit KOT update: publishMessage is not a function
TypeError: publishMessage is not a function
    at Object.emitKotUpdate (E:\restro-backend\src\services\kot.service.js:679:13)
    at Object.markKotServed (E:\restro-backend\src\services\kot.service.js:487:18)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async markKotServed (E:\restro-backend\src\controllers\order.controller.js:258:19)
2026-02-03 15:10:49 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:49 +0000] "POST /api/v1/orders/kot/15/served HTTP/1.1" 200 986 "-" "axios/1.13.4"
2026-02-03 15:10:49 [ERROR]: Failed to emit KOT update: publishMessage is not a function
TypeError: publishMessage is not a function
    at Object.emitKotUpdate (E:\restro-backend\src\services\kot.service.js:679:13)
    at Object.markKotServed (E:\restro-backend\src\services\kot.service.js:487:18)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async markKotServed (E:\restro-backend\src\controllers\order.controller.js:258:19)
2026-02-03 15:10:49 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:49 +0000] "POST /api/v1/orders/kot/16/served HTTP/1.1" 200 766 "-" "axios/1.13.4"
2026-02-03 15:10:49 [ERROR]: Failed to emit KOT update: publishMessage is not a function
TypeError: publishMessage is not a function
    at Object.emitKotUpdate (E:\restro-backend\src\services\kot.service.js:679:13)
    at Object.markKotServed (E:\restro-backend\src\services\kot.service.js:487:18)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async markKotServed (E:\restro-backend\src\controllers\order.controller.js:258:19)
2026-02-03 15:10:49 [ERROR]: Mark KOT served error: publishMessage is not a function
TypeError: publishMessage is not a function
    at Object.checkOrderServedStatus (E:\restro-backend\src\services\kot.service.js:548:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Object.markKotServed (E:\restro-backend\src\services\kot.service.js:490:7)
    at async markKotServed (E:\restro-backend\src\controllers\order.controller.js:258:19)
2026-02-03 15:10:49 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:49 +0000] "POST /api/v1/orders/kot/17/served HTTP/1.1" 500 62 "-" "axios/1.13.4"
2026-02-03 15:10:49 [ERROR]: Generate bill error: Cannot read properties of undefined (reading 'includes')
TypeError: Cannot read properties of undefined (reading 'includes')
    at Object.calculateBillDetails (E:\restro-backend\src\services\billing.service.js:224:25)
    at Object.generateBill (E:\restro-backend\src\services\billing.service.js:77:38)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async generateBill (E:\restro-backend\src\controllers\order.controller.js:293:23)
2026-02-03 15:10:49 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:49 +0000] "POST /api/v1/orders/10/bill HTTP/1.1" 500 86 "-" "axios/1.13.4"
2026-02-03 15:10:49 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:49 +0000] "GET /api/v1/orders/10/bill HTTP/1.1" 404 48 "-" "axios/1.13.4"
2026-02-03 15:10:49 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:49 +0000] "GET /api/v1/orders/10 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:10:49 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:40:49 +0000] "GET /api/v1/tables/16 HTTP/1.1" 200 504 "-" "axios/1.13.4"
2026-02-03 15:11:25 [INFO]: Database pool created successfully
2026-02-03 15:11:25 [INFO]: Database connected successfully
2026-02-03 15:11:25 [INFO]: Redis connected
2026-02-03 15:11:25 [INFO]: Redis connected
2026-02-03 15:11:25 [INFO]: Redis connected successfully
2026-02-03 15:11:25 [INFO]: WebSocket initialized
2026-02-03 15:11:25 [INFO]: Initialized 6 queues
2026-02-03 15:11:25 [INFO]: Queues initialized
2026-02-03 15:11:25 [INFO]: Started 3 cron jobs
2026-02-03 15:11:25 [INFO]: Cron jobs initialized
2026-02-03 15:11:25 [INFO]: Server running on port 3000 in development mode
2026-02-03 15:11:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:41:37 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "axios/1.13.4"
2026-02-03 15:11:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:41:37 +0000] "GET /api/v1/outlets HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:11:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:41:37 +0000] "GET /api/v1/tables/outlet/4 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:11:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:41:37 +0000] "GET /api/v1/menu/items/outlet/4?limit=10 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:11:38 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:41:38 +0000] "POST /api/v1/orders HTTP/1.1" 201 - "-" "axios/1.13.4"
2026-02-03 15:11:38 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:41:38 +0000] "POST /api/v1/orders/11/items HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:11:38 [INFO]: Print job created: f0d75e6a-d54b-4003-a412-36ddb9939434 for bar
2026-02-03 15:11:38 [INFO]: Print job created: c8baad6f-9be2-4c71-8a22-084a38099637 for kitchen
2026-02-03 15:11:38 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:41:38 +0000] "POST /api/v1/orders/11/kot HTTP/1.1" 200 474 "-" "axios/1.13.4"
2026-02-03 15:11:38 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:41:38 +0000] "POST /api/v1/orders/11/items HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:11:38 [INFO]: Print job created: 979e8432-2a09-455f-8151-1612342e3114 for kitchen
2026-02-03 15:11:38 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:41:38 +0000] "POST /api/v1/orders/11/kot HTTP/1.1" 200 266 "-" "axios/1.13.4"
2026-02-03 15:11:38 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:41:38 +0000] "GET /api/v1/orders/11/kots HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:11:38 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:41:38 +0000] "POST /api/v1/orders/kot/18/accept HTTP/1.1" 200 978 "-" "axios/1.13.4"
2026-02-03 15:11:38 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:41:38 +0000] "POST /api/v1/orders/kot/18/prepare HTTP/1.1" 404 48 "-" "axios/1.13.4"
2026-02-03 15:11:38 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:41:38 +0000] "GET /api/v1/orders/11/kots HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:11:38 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:41:38 +0000] "POST /api/v1/orders/kot/18/served HTTP/1.1" 200 986 "-" "axios/1.13.4"
2026-02-03 15:11:38 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:41:38 +0000] "POST /api/v1/orders/kot/19/served HTTP/1.1" 200 766 "-" "axios/1.13.4"
2026-02-03 15:11:38 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:41:38 +0000] "POST /api/v1/orders/kot/20/served HTTP/1.1" 200 786 "-" "axios/1.13.4"
2026-02-03 15:11:38 [ERROR]: Generate bill error: Cannot read properties of undefined (reading 'includes')
TypeError: Cannot read properties of undefined (reading 'includes')
    at Object.calculateBillDetails (E:\restro-backend\src\services\billing.service.js:224:25)
    at Object.generateBill (E:\restro-backend\src\services\billing.service.js:77:38)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async generateBill (E:\restro-backend\src\controllers\order.controller.js:293:23)
2026-02-03 15:11:38 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:41:38 +0000] "POST /api/v1/orders/11/bill HTTP/1.1" 500 86 "-" "axios/1.13.4"
2026-02-03 15:11:38 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:41:38 +0000] "GET /api/v1/orders/11/bill HTTP/1.1" 404 48 "-" "axios/1.13.4"
2026-02-03 15:11:38 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:41:38 +0000] "GET /api/v1/orders/11 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:11:38 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:41:38 +0000] "GET /api/v1/tables/17 HTTP/1.1" 200 505 "-" "axios/1.13.4"
2026-02-03 15:15:00 [INFO]: Running report aggregation cron job
2026-02-03 15:15:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 25
2026-02-03 15:24:29 [INFO]: Database pool created successfully
2026-02-03 15:24:29 [INFO]: Database connected successfully
2026-02-03 15:24:30 [INFO]: Redis connected
2026-02-03 15:24:30 [INFO]: Redis connected
2026-02-03 15:24:30 [INFO]: Redis connected successfully
2026-02-03 15:24:30 [INFO]: WebSocket initialized
2026-02-03 15:24:30 [INFO]: Initialized 6 queues
2026-02-03 15:24:30 [INFO]: Queues initialized
2026-02-03 15:24:30 [INFO]: Started 3 cron jobs
2026-02-03 15:24:30 [INFO]: Cron jobs initialized
2026-02-03 15:24:30 [INFO]: Server running on port 3000 in development mode
2026-02-03 15:24:45 [INFO]: Database pool created successfully
2026-02-03 15:24:45 [INFO]: Database connected successfully
2026-02-03 15:24:45 [INFO]: Redis connected
2026-02-03 15:24:45 [INFO]: Redis connected
2026-02-03 15:24:45 [INFO]: Redis connected successfully
2026-02-03 15:24:45 [INFO]: WebSocket initialized
2026-02-03 15:24:45 [INFO]: Initialized 6 queues
2026-02-03 15:24:45 [INFO]: Queues initialized
2026-02-03 15:24:45 [INFO]: Started 3 cron jobs
2026-02-03 15:24:45 [INFO]: Cron jobs initialized
2026-02-03 15:24:45 [INFO]: Server running on port 3000 in development mode
2026-02-03 15:25:00 [INFO]: Running report aggregation cron job
2026-02-03 15:25:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 26
2026-02-03 15:25:19 [INFO]: Database pool created successfully
2026-02-03 15:25:19 [INFO]: Database connected successfully
2026-02-03 15:25:19 [INFO]: Redis connected
2026-02-03 15:25:19 [INFO]: Redis connected
2026-02-03 15:25:19 [INFO]: Redis connected successfully
2026-02-03 15:25:19 [INFO]: WebSocket initialized
2026-02-03 15:25:19 [INFO]: Initialized 6 queues
2026-02-03 15:25:19 [INFO]: Queues initialized
2026-02-03 15:25:19 [INFO]: Started 3 cron jobs
2026-02-03 15:25:19 [INFO]: Cron jobs initialized
2026-02-03 15:25:19 [INFO]: Server running on port 3000 in development mode
2026-02-03 15:25:34 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:55:34 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "axios/1.13.4"
2026-02-03 15:25:34 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:55:34 +0000] "GET /api/v1/outlets HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:25:34 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:55:34 +0000] "GET /api/v1/tables/outlet/4 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:25:34 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:55:34 +0000] "GET /api/v1/menu/items/outlet/4?limit=10 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:25:34 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:55:34 +0000] "POST /api/v1/orders HTTP/1.1" 201 - "-" "axios/1.13.4"
2026-02-03 15:25:35 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:55:35 +0000] "POST /api/v1/orders/12/items HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:25:35 [INFO]: Print job created: d4377e7f-2dec-4a97-9d63-f085487674bb for bar
2026-02-03 15:25:35 [INFO]: Print job created: df62828b-989a-4da8-8e11-f7a771608712 for kitchen
2026-02-03 15:25:35 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:55:35 +0000] "POST /api/v1/orders/12/kot HTTP/1.1" 200 474 "-" "axios/1.13.4"
2026-02-03 15:25:35 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:55:35 +0000] "POST /api/v1/orders/12/items HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:25:35 [INFO]: Print job created: 32ec0d0a-78f6-43a8-a4b4-bb476e3205b8 for kitchen
2026-02-03 15:25:35 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:55:35 +0000] "POST /api/v1/orders/12/kot HTTP/1.1" 200 266 "-" "axios/1.13.4"
2026-02-03 15:25:35 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:55:35 +0000] "GET /api/v1/orders/12/kots HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:25:35 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:55:35 +0000] "POST /api/v1/orders/kot/21/accept HTTP/1.1" 200 978 "-" "axios/1.13.4"
2026-02-03 15:25:35 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:55:35 +0000] "POST /api/v1/orders/kot/21/preparing HTTP/1.1" 200 988 "-" "axios/1.13.4"
2026-02-03 15:25:35 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:55:35 +0000] "POST /api/v1/orders/kot/21/ready HTTP/1.1" 200 985 "-" "axios/1.13.4"
2026-02-03 15:25:35 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:55:35 +0000] "POST /api/v1/orders/kot/22/accept HTTP/1.1" 200 771 "-" "axios/1.13.4"
2026-02-03 15:25:35 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:55:35 +0000] "POST /api/v1/orders/kot/22/preparing HTTP/1.1" 200 779 "-" "axios/1.13.4"
2026-02-03 15:25:35 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:55:35 +0000] "POST /api/v1/orders/kot/22/ready HTTP/1.1" 200 780 "-" "axios/1.13.4"
2026-02-03 15:25:35 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:55:35 +0000] "POST /api/v1/orders/kot/23/accept HTTP/1.1" 200 791 "-" "axios/1.13.4"
2026-02-03 15:25:35 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:55:35 +0000] "POST /api/v1/orders/kot/23/preparing HTTP/1.1" 200 799 "-" "axios/1.13.4"
2026-02-03 15:25:35 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:55:35 +0000] "POST /api/v1/orders/kot/23/ready HTTP/1.1" 200 800 "-" "axios/1.13.4"
2026-02-03 15:25:35 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:55:35 +0000] "GET /api/v1/orders/12/kots HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:25:35 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:55:35 +0000] "POST /api/v1/orders/kot/21/served HTTP/1.1" 200 1003 "-" "axios/1.13.4"
2026-02-03 15:25:35 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:55:35 +0000] "POST /api/v1/orders/kot/22/served HTTP/1.1" 200 797 "-" "axios/1.13.4"
2026-02-03 15:25:35 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:55:35 +0000] "POST /api/v1/orders/kot/23/served HTTP/1.1" 200 817 "-" "axios/1.13.4"
2026-02-03 15:25:35 [ERROR]: Failed to create print job for invoice INV/2526/000003: object is not iterable (cannot read property Symbol(Symbol.iterator))
TypeError: object is not iterable (cannot read property Symbol(Symbol.iterator))
    at Object.formatBillContent (E:\restro-backend\src\services\printer.service.js:432:32)
    at Object.printBill (E:\restro-backend\src\services\printer.service.js:541:26)
    at Object.generateBill (E:\restro-backend\src\services\billing.service.js:141:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async generateBill (E:\restro-backend\src\controllers\order.controller.js:293:23)
2026-02-03 15:25:35 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:55:35 +0000] "POST /api/v1/orders/12/bill HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:25:35 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:55:35 +0000] "GET /api/v1/orders/12 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:25:35 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:55:35 +0000] "GET /api/v1/orders/12/bill HTTP/1.1" 404 48 "-" "axios/1.13.4"
2026-02-03 15:25:35 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:55:35 +0000] "GET /api/v1/orders/12 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:25:35 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:55:35 +0000] "GET /api/v1/tables/18 HTTP/1.1" 200 505 "-" "axios/1.13.4"
2026-02-03 15:26:51 [INFO]: Database pool created successfully
2026-02-03 15:26:51 [INFO]: Database connected successfully
2026-02-03 15:26:51 [INFO]: Redis connected
2026-02-03 15:26:51 [INFO]: Redis connected
2026-02-03 15:26:51 [INFO]: Redis connected successfully
2026-02-03 15:26:51 [INFO]: WebSocket initialized
2026-02-03 15:26:51 [INFO]: Initialized 6 queues
2026-02-03 15:26:51 [INFO]: Queues initialized
2026-02-03 15:26:51 [INFO]: Started 3 cron jobs
2026-02-03 15:26:51 [INFO]: Cron jobs initialized
2026-02-03 15:26:51 [INFO]: Server running on port 3000 in development mode
2026-02-03 15:27:23 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:57:23 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "axios/1.13.4"
2026-02-03 15:27:23 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:57:23 +0000] "GET /api/v1/outlets HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:27:23 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:57:23 +0000] "GET /api/v1/tables/outlet/4 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:27:23 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:57:23 +0000] "GET /api/v1/menu/items/outlet/4?limit=10 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:27:23 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:57:23 +0000] "POST /api/v1/orders HTTP/1.1" 201 - "-" "axios/1.13.4"
2026-02-03 15:27:23 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:57:23 +0000] "POST /api/v1/orders/13/items HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:27:23 [INFO]: Print job created: ef10c1c1-119d-4ff7-8880-e7e7193be67e for bar
2026-02-03 15:27:23 [INFO]: Print job created: d4f48b4f-a912-46b7-a1f2-6aae7b1edf0f for kitchen
2026-02-03 15:27:23 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:57:23 +0000] "POST /api/v1/orders/13/kot HTTP/1.1" 200 474 "-" "axios/1.13.4"
2026-02-03 15:27:24 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:57:24 +0000] "POST /api/v1/orders/13/items HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:27:24 [INFO]: Print job created: 5d8ef803-49f1-488b-bdae-54b112924fb8 for kitchen
2026-02-03 15:27:24 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:57:24 +0000] "POST /api/v1/orders/13/kot HTTP/1.1" 200 266 "-" "axios/1.13.4"
2026-02-03 15:27:24 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:57:24 +0000] "GET /api/v1/orders/13/kots HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:27:24 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:57:24 +0000] "POST /api/v1/orders/kot/24/accept HTTP/1.1" 200 978 "-" "axios/1.13.4"
2026-02-03 15:27:24 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:57:24 +0000] "POST /api/v1/orders/kot/24/preparing HTTP/1.1" 200 988 "-" "axios/1.13.4"
2026-02-03 15:27:24 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:57:24 +0000] "POST /api/v1/orders/kot/24/ready HTTP/1.1" 200 985 "-" "axios/1.13.4"
2026-02-03 15:27:24 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:57:24 +0000] "POST /api/v1/orders/kot/25/accept HTTP/1.1" 200 771 "-" "axios/1.13.4"
2026-02-03 15:27:24 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:57:24 +0000] "POST /api/v1/orders/kot/25/preparing HTTP/1.1" 200 779 "-" "axios/1.13.4"
2026-02-03 15:27:24 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:57:24 +0000] "POST /api/v1/orders/kot/25/ready HTTP/1.1" 200 780 "-" "axios/1.13.4"
2026-02-03 15:27:24 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:57:24 +0000] "POST /api/v1/orders/kot/26/accept HTTP/1.1" 200 791 "-" "axios/1.13.4"
2026-02-03 15:27:24 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:57:24 +0000] "POST /api/v1/orders/kot/26/preparing HTTP/1.1" 200 799 "-" "axios/1.13.4"
2026-02-03 15:27:24 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:57:24 +0000] "POST /api/v1/orders/kot/26/ready HTTP/1.1" 200 800 "-" "axios/1.13.4"
2026-02-03 15:27:24 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:57:24 +0000] "GET /api/v1/orders/13/kots HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:27:24 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:57:24 +0000] "POST /api/v1/orders/kot/24/served HTTP/1.1" 200 1003 "-" "axios/1.13.4"
2026-02-03 15:27:24 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:57:24 +0000] "POST /api/v1/orders/kot/25/served HTTP/1.1" 200 797 "-" "axios/1.13.4"
2026-02-03 15:27:24 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:57:24 +0000] "POST /api/v1/orders/kot/26/served HTTP/1.1" 200 817 "-" "axios/1.13.4"
2026-02-03 15:27:24 [ERROR]: Failed to create print job for invoice INV/2526/000004: object is not iterable (cannot read property Symbol(Symbol.iterator))
TypeError: object is not iterable (cannot read property Symbol(Symbol.iterator))
    at Object.formatBillContent (E:\restro-backend\src\services\printer.service.js:432:32)
    at Object.printBill (E:\restro-backend\src\services\printer.service.js:541:26)
    at Object.generateBill (E:\restro-backend\src\services\billing.service.js:141:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async generateBill (E:\restro-backend\src\controllers\order.controller.js:293:23)
2026-02-03 15:27:24 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:57:24 +0000] "POST /api/v1/orders/13/bill HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:27:24 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:57:24 +0000] "GET /api/v1/orders/13 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:27:24 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:57:24 +0000] "GET /api/v1/orders/13/bill HTTP/1.1" 404 48 "-" "axios/1.13.4"
2026-02-03 15:27:24 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:57:24 +0000] "GET /api/v1/orders/13 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:27:24 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:57:24 +0000] "GET /api/v1/tables/19 HTTP/1.1" 200 509 "-" "axios/1.13.4"
2026-02-03 15:28:22 [INFO]: Database pool created successfully
2026-02-03 15:28:22 [INFO]: Database connected successfully
2026-02-03 15:28:22 [INFO]: Redis connected
2026-02-03 15:28:22 [INFO]: Redis connected
2026-02-03 15:28:22 [INFO]: Redis connected successfully
2026-02-03 15:28:22 [INFO]: WebSocket initialized
2026-02-03 15:28:22 [INFO]: Initialized 6 queues
2026-02-03 15:28:22 [INFO]: Queues initialized
2026-02-03 15:28:22 [INFO]: Started 3 cron jobs
2026-02-03 15:28:22 [INFO]: Cron jobs initialized
2026-02-03 15:28:22 [INFO]: Server running on port 3000 in development mode
2026-02-03 15:28:38 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:58:38 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "axios/1.13.4"
2026-02-03 15:28:38 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:58:38 +0000] "GET /api/v1/outlets HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:28:38 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:58:38 +0000] "GET /api/v1/tables/outlet/4 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:28:38 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:58:38 +0000] "GET /api/v1/menu/items/outlet/4?limit=10 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:28:38 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:58:38 +0000] "POST /api/v1/orders HTTP/1.1" 201 - "-" "axios/1.13.4"
2026-02-03 15:28:38 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:58:38 +0000] "POST /api/v1/orders/14/items HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:28:39 [INFO]: Print job created: 9df88a43-802b-4942-8bb4-b987d2011db7 for bar
2026-02-03 15:28:39 [INFO]: Print job created: 252c4823-4c5d-4b48-bf4f-3fee59f0b479 for kitchen
2026-02-03 15:28:39 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:58:39 +0000] "POST /api/v1/orders/14/kot HTTP/1.1" 200 475 "-" "axios/1.13.4"
2026-02-03 15:28:39 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:58:39 +0000] "POST /api/v1/orders/14/items HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:28:39 [INFO]: Print job created: d57803b4-e94c-404c-a3b5-469bcd520051 for kitchen
2026-02-03 15:28:39 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:58:39 +0000] "POST /api/v1/orders/14/kot HTTP/1.1" 200 267 "-" "axios/1.13.4"
2026-02-03 15:28:39 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:58:39 +0000] "GET /api/v1/orders/14/kots HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:28:39 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:58:39 +0000] "POST /api/v1/orders/kot/27/accept HTTP/1.1" 200 979 "-" "axios/1.13.4"
2026-02-03 15:28:39 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:58:39 +0000] "POST /api/v1/orders/kot/27/preparing HTTP/1.1" 200 989 "-" "axios/1.13.4"
2026-02-03 15:28:39 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:58:39 +0000] "POST /api/v1/orders/kot/27/ready HTTP/1.1" 200 986 "-" "axios/1.13.4"
2026-02-03 15:28:39 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:58:39 +0000] "POST /api/v1/orders/kot/28/accept HTTP/1.1" 200 772 "-" "axios/1.13.4"
2026-02-03 15:28:39 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:58:39 +0000] "POST /api/v1/orders/kot/28/preparing HTTP/1.1" 200 780 "-" "axios/1.13.4"
2026-02-03 15:28:39 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:58:39 +0000] "POST /api/v1/orders/kot/28/ready HTTP/1.1" 200 781 "-" "axios/1.13.4"
2026-02-03 15:28:39 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:58:39 +0000] "POST /api/v1/orders/kot/29/accept HTTP/1.1" 200 792 "-" "axios/1.13.4"
2026-02-03 15:28:39 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:58:39 +0000] "POST /api/v1/orders/kot/29/preparing HTTP/1.1" 200 800 "-" "axios/1.13.4"
2026-02-03 15:28:39 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:58:39 +0000] "POST /api/v1/orders/kot/29/ready HTTP/1.1" 200 801 "-" "axios/1.13.4"
2026-02-03 15:28:39 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:58:39 +0000] "GET /api/v1/orders/14/kots HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:28:39 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:58:39 +0000] "POST /api/v1/orders/kot/27/served HTTP/1.1" 200 1004 "-" "axios/1.13.4"
2026-02-03 15:28:39 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:58:39 +0000] "POST /api/v1/orders/kot/28/served HTTP/1.1" 200 798 "-" "axios/1.13.4"
2026-02-03 15:28:39 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:58:39 +0000] "POST /api/v1/orders/kot/29/served HTTP/1.1" 200 818 "-" "axios/1.13.4"
2026-02-03 15:28:39 [ERROR]: Failed to create print job for invoice INV/2526/000005: object is not iterable (cannot read property Symbol(Symbol.iterator))
TypeError: object is not iterable (cannot read property Symbol(Symbol.iterator))
    at Object.formatBillContent (E:\restro-backend\src\services\printer.service.js:432:32)
    at Object.printBill (E:\restro-backend\src\services\printer.service.js:541:26)
    at Object.generateBill (E:\restro-backend\src\services\billing.service.js:141:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async generateBill (E:\restro-backend\src\controllers\order.controller.js:293:23)
2026-02-03 15:28:39 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:58:39 +0000] "POST /api/v1/orders/14/bill HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:28:39 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:58:39 +0000] "GET /api/v1/orders/14 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:28:39 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:58:39 +0000] "GET /api/v1/orders/14/bill HTTP/1.1" 404 48 "-" "axios/1.13.4"
2026-02-03 15:28:39 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:58:39 +0000] "GET /api/v1/orders/14 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:28:39 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:58:39 +0000] "GET /api/v1/tables/20 HTTP/1.1" 200 498 "-" "axios/1.13.4"
2026-02-03 15:28:52 [INFO]: Database pool created successfully
2026-02-03 15:28:52 [INFO]: Database connected successfully
2026-02-03 15:28:52 [INFO]: Redis connected
2026-02-03 15:28:52 [INFO]: Redis connected
2026-02-03 15:28:52 [INFO]: Redis connected successfully
2026-02-03 15:28:52 [INFO]: WebSocket initialized
2026-02-03 15:28:52 [INFO]: Initialized 6 queues
2026-02-03 15:28:52 [INFO]: Queues initialized
2026-02-03 15:28:52 [INFO]: Started 3 cron jobs
2026-02-03 15:28:52 [INFO]: Cron jobs initialized
2026-02-03 15:28:52 [INFO]: Server running on port 3000 in development mode
2026-02-03 15:29:06 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:06 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "axios/1.13.4"
2026-02-03 15:29:06 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:06 +0000] "GET /api/v1/outlets HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:07 +0000] "GET /api/v1/tables/outlet/4 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:07 +0000] "GET /api/v1/menu/items/outlet/4?limit=10 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:07 +0000] "POST /api/v1/orders HTTP/1.1" 201 - "-" "axios/1.13.4"
2026-02-03 15:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:07 +0000] "POST /api/v1/orders/15/items HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:29:07 [INFO]: Print job created: 97cd5f03-fe73-4573-96a5-f2e41276eaac for bar
2026-02-03 15:29:07 [INFO]: Print job created: 0a285cf6-3d16-40c6-8d08-9e5f753fdf29 for kitchen
2026-02-03 15:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:07 +0000] "POST /api/v1/orders/15/kot HTTP/1.1" 200 475 "-" "axios/1.13.4"
2026-02-03 15:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:07 +0000] "POST /api/v1/orders/15/items HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:29:07 [INFO]: Print job created: 82320599-8c8e-46f2-8b17-0513967db438 for kitchen
2026-02-03 15:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:07 +0000] "POST /api/v1/orders/15/kot HTTP/1.1" 200 267 "-" "axios/1.13.4"
2026-02-03 15:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:07 +0000] "GET /api/v1/orders/15/kots HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:07 +0000] "POST /api/v1/orders/kot/30/accept HTTP/1.1" 200 979 "-" "axios/1.13.4"
2026-02-03 15:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:07 +0000] "POST /api/v1/orders/kot/30/preparing HTTP/1.1" 200 989 "-" "axios/1.13.4"
2026-02-03 15:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:07 +0000] "POST /api/v1/orders/kot/30/ready HTTP/1.1" 200 986 "-" "axios/1.13.4"
2026-02-03 15:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:07 +0000] "POST /api/v1/orders/kot/31/accept HTTP/1.1" 200 772 "-" "axios/1.13.4"
2026-02-03 15:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:07 +0000] "POST /api/v1/orders/kot/31/preparing HTTP/1.1" 200 780 "-" "axios/1.13.4"
2026-02-03 15:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:07 +0000] "POST /api/v1/orders/kot/31/ready HTTP/1.1" 200 781 "-" "axios/1.13.4"
2026-02-03 15:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:07 +0000] "POST /api/v1/orders/kot/32/accept HTTP/1.1" 200 792 "-" "axios/1.13.4"
2026-02-03 15:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:07 +0000] "POST /api/v1/orders/kot/32/preparing HTTP/1.1" 200 800 "-" "axios/1.13.4"
2026-02-03 15:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:07 +0000] "POST /api/v1/orders/kot/32/ready HTTP/1.1" 200 801 "-" "axios/1.13.4"
2026-02-03 15:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:07 +0000] "GET /api/v1/orders/15/kots HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:07 +0000] "POST /api/v1/orders/kot/30/served HTTP/1.1" 200 1004 "-" "axios/1.13.4"
2026-02-03 15:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:07 +0000] "POST /api/v1/orders/kot/31/served HTTP/1.1" 200 798 "-" "axios/1.13.4"
2026-02-03 15:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:07 +0000] "POST /api/v1/orders/kot/32/served HTTP/1.1" 200 818 "-" "axios/1.13.4"
2026-02-03 15:29:07 [ERROR]: Failed to create print job for invoice INV/2526/000006: object is not iterable (cannot read property Symbol(Symbol.iterator))
TypeError: object is not iterable (cannot read property Symbol(Symbol.iterator))
    at Object.formatBillContent (E:\restro-backend\src\services\printer.service.js:432:32)
    at Object.printBill (E:\restro-backend\src\services\printer.service.js:541:26)
    at Object.generateBill (E:\restro-backend\src\services\billing.service.js:141:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async generateBill (E:\restro-backend\src\controllers\order.controller.js:293:23)
2026-02-03 15:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:07 +0000] "POST /api/v1/orders/15/bill HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:07 +0000] "GET /api/v1/orders/15 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:07 +0000] "GET /api/v1/orders/15/invoice HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:29:07 [ERROR]: Process payment error: Column 'outlet_id' cannot be null {"code":"ER_BAD_NULL_ERROR","errno":1048,"sql":"INSERT INTO payments (\n          uuid, outlet_id, order_id, invoice_id, payment_number,\n          payment_mode, amount, tip_amount, total_amount, status,\n          transaction_id, reference_number,\n          card_last_four, card_type, upi_id, wallet_name, bank_name,\n          notes, received_by\n        ) VALUES ('1fae1d48-c051-4cc2-af35-54b897b728bd', NULL, 15, 6, 'PAY2602030001', 'cash', 2541, 0, 2541, 'completed', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 1)","sqlState":"23000","sqlMessage":"Column 'outlet_id' cannot be null"}
Error: Column 'outlet_id' cannot be null
    at PromisePoolConnection.query (E:\restro-backend\node_modules\mysql2\lib\promise\connection.js:29:22)
    at Object.processPayment (E:\restro-backend\src\services\payment.service.js:90:41)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async processPayment (E:\restro-backend\src\controllers\order.controller.js:392:23)
2026-02-03 15:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:07 +0000] "POST /api/v1/orders/payment HTTP/1.1" 500 63 "-" "axios/1.13.4"
2026-02-03 15:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:07 +0000] "GET /api/v1/orders/15 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:07 +0000] "GET /api/v1/tables/21 HTTP/1.1" 200 503 "-" "axios/1.13.4"
2026-02-03 15:29:24 [INFO]: Database pool created successfully
2026-02-03 15:29:24 [INFO]: Database connected successfully
2026-02-03 15:29:24 [INFO]: Redis connected
2026-02-03 15:29:24 [INFO]: Redis connected
2026-02-03 15:29:24 [INFO]: Redis connected successfully
2026-02-03 15:29:24 [INFO]: WebSocket initialized
2026-02-03 15:29:24 [INFO]: Initialized 6 queues
2026-02-03 15:29:24 [INFO]: Queues initialized
2026-02-03 15:29:24 [INFO]: Started 3 cron jobs
2026-02-03 15:29:24 [INFO]: Cron jobs initialized
2026-02-03 15:29:24 [INFO]: Server running on port 3000 in development mode
2026-02-03 15:29:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:37 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "axios/1.13.4"
2026-02-03 15:29:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:37 +0000] "GET /api/v1/outlets HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:29:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:37 +0000] "GET /api/v1/tables/outlet/4 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:29:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:37 +0000] "GET /api/v1/menu/items/outlet/4?limit=10 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:29:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:37 +0000] "POST /api/v1/orders HTTP/1.1" 201 - "-" "axios/1.13.4"
2026-02-03 15:29:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:37 +0000] "POST /api/v1/orders/16/items HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:29:37 [INFO]: Print job created: 09432273-2152-4821-971b-c29c27d574ee for bar
2026-02-03 15:29:37 [INFO]: Print job created: 0d1d798a-3d1e-482d-9b9c-f7499318045c for kitchen
2026-02-03 15:29:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:37 +0000] "POST /api/v1/orders/16/kot HTTP/1.1" 200 474 "-" "axios/1.13.4"
2026-02-03 15:29:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:37 +0000] "POST /api/v1/orders/16/items HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:29:37 [INFO]: Print job created: a7b9823e-0acb-4b34-a18b-817aa272a339 for kitchen
2026-02-03 15:29:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:37 +0000] "POST /api/v1/orders/16/kot HTTP/1.1" 200 266 "-" "axios/1.13.4"
2026-02-03 15:29:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:37 +0000] "GET /api/v1/orders/16/kots HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:29:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:37 +0000] "POST /api/v1/orders/kot/33/accept HTTP/1.1" 200 978 "-" "axios/1.13.4"
2026-02-03 15:29:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:37 +0000] "POST /api/v1/orders/kot/33/preparing HTTP/1.1" 200 988 "-" "axios/1.13.4"
2026-02-03 15:29:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:37 +0000] "POST /api/v1/orders/kot/33/ready HTTP/1.1" 200 985 "-" "axios/1.13.4"
2026-02-03 15:29:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:37 +0000] "POST /api/v1/orders/kot/34/accept HTTP/1.1" 200 771 "-" "axios/1.13.4"
2026-02-03 15:29:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:37 +0000] "POST /api/v1/orders/kot/34/preparing HTTP/1.1" 200 779 "-" "axios/1.13.4"
2026-02-03 15:29:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:37 +0000] "POST /api/v1/orders/kot/34/ready HTTP/1.1" 200 780 "-" "axios/1.13.4"
2026-02-03 15:29:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:37 +0000] "POST /api/v1/orders/kot/35/accept HTTP/1.1" 200 791 "-" "axios/1.13.4"
2026-02-03 15:29:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:37 +0000] "POST /api/v1/orders/kot/35/preparing HTTP/1.1" 200 799 "-" "axios/1.13.4"
2026-02-03 15:29:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:37 +0000] "POST /api/v1/orders/kot/35/ready HTTP/1.1" 200 800 "-" "axios/1.13.4"
2026-02-03 15:29:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:37 +0000] "GET /api/v1/orders/16/kots HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:29:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:37 +0000] "POST /api/v1/orders/kot/33/served HTTP/1.1" 200 1003 "-" "axios/1.13.4"
2026-02-03 15:29:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:37 +0000] "POST /api/v1/orders/kot/34/served HTTP/1.1" 200 797 "-" "axios/1.13.4"
2026-02-03 15:29:38 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:38 +0000] "POST /api/v1/orders/kot/35/served HTTP/1.1" 200 817 "-" "axios/1.13.4"
2026-02-03 15:29:38 [ERROR]: Failed to create print job for invoice INV/2526/000007: object is not iterable (cannot read property Symbol(Symbol.iterator))
TypeError: object is not iterable (cannot read property Symbol(Symbol.iterator))
    at Object.formatBillContent (E:\restro-backend\src\services\printer.service.js:432:32)
    at Object.printBill (E:\restro-backend\src\services\printer.service.js:541:26)
    at Object.generateBill (E:\restro-backend\src\services\billing.service.js:141:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async generateBill (E:\restro-backend\src\controllers\order.controller.js:293:23)
2026-02-03 15:29:38 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:38 +0000] "POST /api/v1/orders/16/bill HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:29:38 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:38 +0000] "GET /api/v1/orders/16 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:29:38 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:38 +0000] "GET /api/v1/orders/16/invoice HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:29:38 [ERROR]: Process payment error: Column 'outlet_id' cannot be null {"code":"ER_BAD_NULL_ERROR","errno":1048,"sql":"INSERT INTO payments (\n          uuid, outlet_id, order_id, invoice_id, payment_number,\n          payment_mode, amount, tip_amount, total_amount, status,\n          transaction_id, reference_number,\n          card_last_four, card_type, upi_id, wallet_name, bank_name,\n          notes, received_by\n        ) VALUES ('a70eabce-0dd5-4e4e-8c9d-6091be489a69', NULL, 16, 7, 'PAY2602030001', 'cash', 2541, 0, 2541, 'completed', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 1)","sqlState":"23000","sqlMessage":"Column 'outlet_id' cannot be null"}
Error: Column 'outlet_id' cannot be null
    at PromisePoolConnection.query (E:\restro-backend\node_modules\mysql2\lib\promise\connection.js:29:22)
    at Object.processPayment (E:\restro-backend\src\services\payment.service.js:90:41)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async processPayment (E:\restro-backend\src\controllers\order.controller.js:392:23)
2026-02-03 15:29:38 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:38 +0000] "POST /api/v1/orders/payment HTTP/1.1" 500 63 "-" "axios/1.13.4"
2026-02-03 15:29:38 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:38 +0000] "GET /api/v1/orders/16 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 15:29:38 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:09:59:38 +0000] "GET /api/v1/tables/5 HTTP/1.1" 200 512 "-" "axios/1.13.4"
2026-02-03 15:30:05 [INFO]: Database pool created successfully
2026-02-03 15:30:05 [INFO]: Database connected successfully
2026-02-03 15:30:05 [INFO]: Redis connected
2026-02-03 15:30:05 [INFO]: Redis connected
2026-02-03 15:30:05 [INFO]: Redis connected successfully
2026-02-03 15:30:05 [INFO]: WebSocket initialized
2026-02-03 15:30:05 [INFO]: Initialized 6 queues
2026-02-03 15:30:05 [INFO]: Queues initialized
2026-02-03 15:30:05 [INFO]: Started 3 cron jobs
2026-02-03 15:30:05 [INFO]: Cron jobs initialized
2026-02-03 15:30:05 [INFO]: Server running on port 3000 in development mode
2026-02-03 15:35:00 [INFO]: Running report aggregation cron job
2026-02-03 15:35:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 27
2026-02-03 15:40:00 [INFO]: Running report aggregation cron job
2026-02-03 15:40:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 28
2026-02-03 15:45:00 [INFO]: Running report aggregation cron job
2026-02-03 15:45:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 29
2026-02-03 15:50:00 [INFO]: Running report aggregation cron job
2026-02-03 15:50:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 30
2026-02-03 15:55:00 [INFO]: Running report aggregation cron job
2026-02-03 15:55:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 31
2026-02-03 16:00:00 [INFO]: Running report aggregation cron job
2026-02-03 16:00:00 [INFO]: Running inventory check cron job
2026-02-03 16:00:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 32
2026-02-03 16:00:00 [DEBUG]: Added job check-low-stock to queue inventory, jobId: 3
2026-02-03 16:05:00 [INFO]: Running report aggregation cron job
2026-02-03 16:05:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 33
2026-02-03 16:05:02 [INFO]: SIGINT received. Starting graceful shutdown...
2026-02-03 16:18:18 [INFO]: Database pool created successfully
2026-02-03 16:18:18 [INFO]: Database connected successfully
2026-02-03 16:18:18 [INFO]: Redis connected
2026-02-03 16:18:18 [INFO]: Redis connected
2026-02-03 16:18:18 [INFO]: Redis connected successfully
2026-02-03 16:18:18 [INFO]: WebSocket initialized
2026-02-03 16:18:18 [INFO]: Initialized 6 queues
2026-02-03 16:18:18 [INFO]: Queues initialized
2026-02-03 16:18:18 [INFO]: Started 3 cron jobs
2026-02-03 16:18:18 [INFO]: Cron jobs initialized
2026-02-03 16:18:18 [INFO]: Server running on port 3000 in development mode
2026-02-03 16:20:00 [INFO]: Running report aggregation cron job
2026-02-03 16:20:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 34
2026-02-03 16:20:18 [INFO]: SIGINT received. Starting graceful shutdown...
2026-02-03 16:20:24 [INFO]: Database pool created successfully
2026-02-03 16:20:24 [INFO]: Database connected successfully
2026-02-03 16:20:24 [INFO]: Redis connected
2026-02-03 16:20:24 [INFO]: Redis connected
2026-02-03 16:20:24 [INFO]: Redis connected successfully
2026-02-03 16:20:24 [INFO]: WebSocket initialized
2026-02-03 16:20:24 [INFO]: Initialized 6 queues
2026-02-03 16:20:24 [INFO]: Queues initialized
2026-02-03 16:20:24 [INFO]: Started 3 cron jobs
2026-02-03 16:20:24 [INFO]: Cron jobs initialized
2026-02-03 16:20:24 [INFO]: Server running on port 3000 in development mode
2026-02-03 16:25:00 [INFO]: Running report aggregation cron job
2026-02-03 16:25:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 35
2026-02-03 16:30:00 [INFO]: Running report aggregation cron job
2026-02-03 16:30:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 36
2026-02-03 16:35:00 [INFO]: Running report aggregation cron job
2026-02-03 16:35:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 37
2026-02-03 16:40:00 [INFO]: Running report aggregation cron job
2026-02-03 16:40:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 38
2026-02-03 16:45:00 [INFO]: Running report aggregation cron job
2026-02-03 16:45:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 39
2026-02-03 16:50:00 [INFO]: Running report aggregation cron job
2026-02-03 16:50:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 40
2026-02-03 16:55:00 [INFO]: Running report aggregation cron job
2026-02-03 16:55:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 41
2026-02-03 16:55:40 [INFO]: Database pool created successfully
2026-02-03 16:55:40 [INFO]: Database connected successfully
2026-02-03 16:55:40 [INFO]: Redis connected
2026-02-03 16:55:40 [INFO]: Redis connected
2026-02-03 16:55:40 [INFO]: Redis connected successfully
2026-02-03 16:55:40 [INFO]: WebSocket initialized
2026-02-03 16:55:40 [INFO]: Initialized 6 queues
2026-02-03 16:55:40 [INFO]: Queues initialized
2026-02-03 16:55:40 [INFO]: Started 3 cron jobs
2026-02-03 16:55:40 [INFO]: Cron jobs initialized
2026-02-03 16:55:40 [INFO]: Server running on port 3000 in development mode
2026-02-03 16:55:43 [INFO]: Database pool created successfully
2026-02-03 16:55:43 [INFO]: Database connected successfully
2026-02-03 16:55:43 [INFO]: Redis connected
2026-02-03 16:55:43 [INFO]: Redis connected
2026-02-03 16:55:43 [INFO]: Redis connected successfully
2026-02-03 16:55:43 [INFO]: WebSocket initialized
2026-02-03 16:55:43 [INFO]: Initialized 6 queues
2026-02-03 16:55:43 [INFO]: Queues initialized
2026-02-03 16:55:43 [INFO]: Started 3 cron jobs
2026-02-03 16:55:43 [INFO]: Cron jobs initialized
2026-02-03 16:55:43 [INFO]: Server running on port 3000 in development mode
2026-02-03 16:55:45 [INFO]: Database pool created successfully
2026-02-03 16:55:45 [INFO]: Database connected successfully
2026-02-03 16:55:45 [INFO]: Redis connected
2026-02-03 16:55:45 [INFO]: Redis connected
2026-02-03 16:55:45 [INFO]: Redis connected successfully
2026-02-03 16:55:45 [INFO]: WebSocket initialized
2026-02-03 16:55:45 [INFO]: Initialized 6 queues
2026-02-03 16:55:45 [INFO]: Queues initialized
2026-02-03 16:55:45 [INFO]: Started 3 cron jobs
2026-02-03 16:55:45 [INFO]: Cron jobs initialized
2026-02-03 16:55:45 [INFO]: Server running on port 3000 in development mode
2026-02-03 17:00:00 [INFO]: Running report aggregation cron job
2026-02-03 17:00:00 [INFO]: Running inventory check cron job
2026-02-03 17:00:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 42
2026-02-03 17:00:00 [DEBUG]: Added job check-low-stock to queue inventory, jobId: 4
2026-02-03 17:05:00 [INFO]: Running report aggregation cron job
2026-02-03 17:05:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 43
2026-02-03 17:10:00 [INFO]: Running report aggregation cron job
2026-02-03 17:10:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 44
2026-02-03 17:15:00 [INFO]: Running report aggregation cron job
2026-02-03 17:15:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 45
2026-02-03 17:20:00 [INFO]: Running report aggregation cron job
2026-02-03 17:20:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 46
2026-02-03 17:22:11 [INFO]: Database pool created successfully
2026-02-03 17:22:11 [INFO]: Database connected successfully
2026-02-03 17:22:11 [INFO]: Redis connected
2026-02-03 17:22:11 [INFO]: Redis connected
2026-02-03 17:22:11 [INFO]: Redis connected successfully
2026-02-03 17:22:11 [INFO]: WebSocket initialized
2026-02-03 17:22:11 [INFO]: Initialized 6 queues
2026-02-03 17:22:11 [INFO]: Queues initialized
2026-02-03 17:22:11 [INFO]: Started 3 cron jobs
2026-02-03 17:22:11 [INFO]: Cron jobs initialized
2026-02-03 17:22:11 [INFO]: Server running on port 3000 in development mode
2026-02-03 17:25:00 [INFO]: Running report aggregation cron job
2026-02-03 17:25:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 47
2026-02-03 17:30:00 [INFO]: Running report aggregation cron job
2026-02-03 17:30:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 48
2026-02-03 17:30:06 [INFO]: Database pool created successfully
2026-02-03 17:30:06 [INFO]: Database connected successfully
2026-02-03 17:30:06 [INFO]: Redis connected
2026-02-03 17:30:06 [INFO]: Redis connected
2026-02-03 17:30:06 [INFO]: Redis connected successfully
2026-02-03 17:30:06 [INFO]: WebSocket initialized
2026-02-03 17:30:06 [INFO]: Initialized 6 queues
2026-02-03 17:30:06 [INFO]: Queues initialized
2026-02-03 17:30:06 [INFO]: Started 3 cron jobs
2026-02-03 17:30:06 [INFO]: Cron jobs initialized
2026-02-03 17:30:06 [INFO]: Server running on port 3000 in development mode
2026-02-03 17:33:52 [INFO]: Database pool created successfully
2026-02-03 17:33:52 [INFO]: Database connected successfully
2026-02-03 17:33:52 [INFO]: Redis connected
2026-02-03 17:33:52 [INFO]: Redis connected
2026-02-03 17:33:52 [INFO]: Redis connected successfully
2026-02-03 17:33:52 [INFO]: WebSocket initialized
2026-02-03 17:33:52 [INFO]: Initialized 6 queues
2026-02-03 17:33:52 [INFO]: Queues initialized
2026-02-03 17:33:52 [INFO]: Started 3 cron jobs
2026-02-03 17:33:52 [INFO]: Cron jobs initialized
2026-02-03 17:33:52 [INFO]: Server running on port 3000 in development mode
2026-02-03 17:34:49 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:04:49 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "axios/1.13.4"
2026-02-03 17:34:49 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:04:49 +0000] "GET /api/v1/outlets HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 17:34:49 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:04:49 +0000] "GET /api/v1/outlets/4/floors HTTP/1.1" 200 769 "-" "axios/1.13.4"
2026-02-03 17:34:49 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:04:49 +0000] "GET /api/v1/outlets/4/sections HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 17:34:49 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:04:49 +0000] "GET /api/v1/menu/categories?outletId=4 HTTP/1.1" 200 201 "-" "axios/1.13.4"
2026-02-03 17:34:49 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:04:49 +0000] "GET /api/v1/users/roles HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 17:35:00 [INFO]: Running report aggregation cron job
2026-02-03 17:35:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 49
2026-02-03 17:35:07 [INFO]: Database pool created successfully
2026-02-03 17:35:07 [INFO]: Database connected successfully
2026-02-03 17:35:07 [INFO]: Redis connected
2026-02-03 17:35:07 [INFO]: Redis connected
2026-02-03 17:35:07 [INFO]: Redis connected successfully
2026-02-03 17:35:07 [INFO]: WebSocket initialized
2026-02-03 17:35:07 [INFO]: Initialized 6 queues
2026-02-03 17:35:07 [INFO]: Queues initialized
2026-02-03 17:35:07 [INFO]: Started 3 cron jobs
2026-02-03 17:35:07 [INFO]: Cron jobs initialized
2026-02-03 17:35:07 [INFO]: Server running on port 3000 in development mode
2026-02-03 17:35:30 [INFO]: Database pool created successfully
2026-02-03 17:35:30 [INFO]: Database connected successfully
2026-02-03 17:35:30 [INFO]: Redis connected
2026-02-03 17:35:30 [INFO]: Redis connected
2026-02-03 17:35:30 [INFO]: Redis connected successfully
2026-02-03 17:35:30 [INFO]: WebSocket initialized
2026-02-03 17:35:30 [INFO]: Initialized 6 queues
2026-02-03 17:35:30 [INFO]: Queues initialized
2026-02-03 17:35:30 [INFO]: Started 3 cron jobs
2026-02-03 17:35:30 [INFO]: Cron jobs initialized
2026-02-03 17:35:30 [INFO]: Server running on port 3000 in development mode
2026-02-03 17:35:41 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:05:41 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "axios/1.13.4"
2026-02-03 17:35:41 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:05:41 +0000] "GET /api/v1/outlets HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 17:35:41 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:05:41 +0000] "GET /api/v1/outlets/4/floors HTTP/1.1" 200 769 "-" "axios/1.13.4"
2026-02-03 17:35:41 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:05:41 +0000] "GET /api/v1/outlets/4/sections HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 17:35:41 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:05:41 +0000] "GET /api/v1/menu/categories?outletId=4 HTTP/1.1" 200 201 "-" "axios/1.13.4"
2026-02-03 17:35:41 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:05:41 +0000] "GET /api/v1/users/roles HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 17:35:41 [INFO]: User created: 10 by 1
2026-02-03 17:35:41 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:05:41 +0000] "POST /api/v1/users HTTP/1.1" 201 508 "-" "axios/1.13.4"
2026-02-03 17:35:42 [INFO]: User created: 11 by 1
2026-02-03 17:35:42 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:05:42 +0000] "POST /api/v1/users HTTP/1.1" 201 507 "-" "axios/1.13.4"
2026-02-03 17:35:43 [INFO]: User created: 12 by 1
2026-02-03 17:35:43 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:05:43 +0000] "POST /api/v1/users HTTP/1.1" 201 507 "-" "axios/1.13.4"
2026-02-03 17:35:43 [INFO]: User updated: 10 by 1
2026-02-03 17:35:43 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:05:43 +0000] "PUT /api/v1/users/10 HTTP/1.1" 200 508 "-" "axios/1.13.4"
2026-02-03 17:35:44 [INFO]: User created: 13 by 1
2026-02-03 17:35:44 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:05:44 +0000] "POST /api/v1/users HTTP/1.1" 201 513 "-" "axios/1.13.4"
2026-02-03 17:35:45 [INFO]: User created: 14 by 1
2026-02-03 17:35:45 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:05:45 +0000] "POST /api/v1/users HTTP/1.1" 201 518 "-" "axios/1.13.4"
2026-02-03 17:35:45 [INFO]: User created: 15 by 1
2026-02-03 17:35:45 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:05:45 +0000] "POST /api/v1/users HTTP/1.1" 201 500 "-" "axios/1.13.4"
2026-02-03 17:35:46 [INFO]: User created: 16 by 1
2026-02-03 17:35:46 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:05:46 +0000] "POST /api/v1/users HTTP/1.1" 201 518 "-" "axios/1.13.4"
2026-02-03 17:35:47 [INFO]: User created: 17 by 1
2026-02-03 17:35:47 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:05:47 +0000] "POST /api/v1/users HTTP/1.1" 201 520 "-" "axios/1.13.4"
2026-02-03 17:35:56 [INFO]: Database pool created successfully
2026-02-03 17:35:56 [INFO]: Database connected successfully
2026-02-03 17:35:56 [INFO]: Redis connected
2026-02-03 17:35:56 [INFO]: Redis connected
2026-02-03 17:35:56 [INFO]: Redis connected successfully
2026-02-03 17:35:56 [INFO]: WebSocket initialized
2026-02-03 17:35:56 [INFO]: Initialized 6 queues
2026-02-03 17:35:56 [INFO]: Queues initialized
2026-02-03 17:35:56 [INFO]: Started 3 cron jobs
2026-02-03 17:35:56 [INFO]: Cron jobs initialized
2026-02-03 17:35:56 [INFO]: Server running on port 3000 in development mode
2026-02-03 17:36:06 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:06 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "axios/1.13.4"
2026-02-03 17:36:06 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:06 +0000] "GET /api/v1/outlets HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 17:36:06 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:06 +0000] "GET /api/v1/outlets/4/floors HTTP/1.1" 200 769 "-" "axios/1.13.4"
2026-02-03 17:36:06 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:06 +0000] "GET /api/v1/outlets/4/sections HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 17:36:06 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:06 +0000] "GET /api/v1/menu/categories?outletId=4 HTTP/1.1" 200 201 "-" "axios/1.13.4"
2026-02-03 17:36:06 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:06 +0000] "GET /api/v1/users/roles HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 17:36:06 [INFO]: User created: 18 by 1
2026-02-03 17:36:06 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:06 +0000] "POST /api/v1/users HTTP/1.1" 201 508 "-" "axios/1.13.4"
2026-02-03 17:36:07 [INFO]: User created: 19 by 1
2026-02-03 17:36:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:07 +0000] "POST /api/v1/users HTTP/1.1" 201 507 "-" "axios/1.13.4"
2026-02-03 17:36:08 [INFO]: User created: 20 by 1
2026-02-03 17:36:08 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:08 +0000] "POST /api/v1/users HTTP/1.1" 201 507 "-" "axios/1.13.4"
2026-02-03 17:36:08 [INFO]: User updated: 18 by 1
2026-02-03 17:36:08 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:08 +0000] "PUT /api/v1/users/18 HTTP/1.1" 200 508 "-" "axios/1.13.4"
2026-02-03 17:36:09 [INFO]: User created: 21 by 1
2026-02-03 17:36:09 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:09 +0000] "POST /api/v1/users HTTP/1.1" 201 513 "-" "axios/1.13.4"
2026-02-03 17:36:10 [INFO]: User created: 22 by 1
2026-02-03 17:36:10 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:10 +0000] "POST /api/v1/users HTTP/1.1" 201 518 "-" "axios/1.13.4"
2026-02-03 17:36:10 [INFO]: User created: 23 by 1
2026-02-03 17:36:10 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:10 +0000] "POST /api/v1/users HTTP/1.1" 201 500 "-" "axios/1.13.4"
2026-02-03 17:36:11 [INFO]: User created: 24 by 1
2026-02-03 17:36:11 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:11 +0000] "POST /api/v1/users HTTP/1.1" 201 518 "-" "axios/1.13.4"
2026-02-03 17:36:12 [INFO]: User created: 25 by 1
2026-02-03 17:36:12 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:12 +0000] "POST /api/v1/users HTTP/1.1" 201 520 "-" "axios/1.13.4"
2026-02-03 17:36:21 [INFO]: Database pool created successfully
2026-02-03 17:36:21 [INFO]: Database connected successfully
2026-02-03 17:36:21 [INFO]: Redis connected
2026-02-03 17:36:21 [INFO]: Redis connected
2026-02-03 17:36:21 [INFO]: Redis connected successfully
2026-02-03 17:36:21 [INFO]: WebSocket initialized
2026-02-03 17:36:21 [INFO]: Initialized 6 queues
2026-02-03 17:36:21 [INFO]: Queues initialized
2026-02-03 17:36:21 [INFO]: Started 3 cron jobs
2026-02-03 17:36:21 [INFO]: Cron jobs initialized
2026-02-03 17:36:21 [INFO]: Server running on port 3000 in development mode
2026-02-03 17:36:30 [INFO]: Database pool created successfully
2026-02-03 17:36:30 [INFO]: Database connected successfully
2026-02-03 17:36:30 [INFO]: Redis connected
2026-02-03 17:36:30 [INFO]: Redis connected
2026-02-03 17:36:30 [INFO]: Redis connected successfully
2026-02-03 17:36:30 [INFO]: WebSocket initialized
2026-02-03 17:36:30 [INFO]: Initialized 6 queues
2026-02-03 17:36:30 [INFO]: Queues initialized
2026-02-03 17:36:30 [INFO]: Started 3 cron jobs
2026-02-03 17:36:30 [INFO]: Cron jobs initialized
2026-02-03 17:36:30 [INFO]: Server running on port 3000 in development mode
2026-02-03 17:36:40 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:40 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "axios/1.13.4"
2026-02-03 17:36:40 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:40 +0000] "GET /api/v1/outlets HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 17:36:40 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:40 +0000] "GET /api/v1/outlets/4/floors HTTP/1.1" 200 769 "-" "axios/1.13.4"
2026-02-03 17:36:40 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:40 +0000] "GET /api/v1/outlets/4/sections HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 17:36:40 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:40 +0000] "GET /api/v1/menu/categories?outletId=4 HTTP/1.1" 200 201 "-" "axios/1.13.4"
2026-02-03 17:36:40 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:40 +0000] "GET /api/v1/users/roles HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 17:36:41 [INFO]: User created: 26 by 1
2026-02-03 17:36:41 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:41 +0000] "POST /api/v1/users HTTP/1.1" 201 508 "-" "axios/1.13.4"
2026-02-03 17:36:41 [INFO]: User created: 27 by 1
2026-02-03 17:36:41 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:41 +0000] "POST /api/v1/users HTTP/1.1" 201 507 "-" "axios/1.13.4"
2026-02-03 17:36:42 [INFO]: User created: 28 by 1
2026-02-03 17:36:42 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:42 +0000] "POST /api/v1/users HTTP/1.1" 201 507 "-" "axios/1.13.4"
2026-02-03 17:36:42 [INFO]: User updated: 26 by 1
2026-02-03 17:36:42 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:42 +0000] "PUT /api/v1/users/26 HTTP/1.1" 200 508 "-" "axios/1.13.4"
2026-02-03 17:36:43 [INFO]: User created: 29 by 1
2026-02-03 17:36:43 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:43 +0000] "POST /api/v1/users HTTP/1.1" 201 513 "-" "axios/1.13.4"
2026-02-03 17:36:43 [INFO]: User created: 30 by 1
2026-02-03 17:36:43 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:43 +0000] "POST /api/v1/users HTTP/1.1" 201 518 "-" "axios/1.13.4"
2026-02-03 17:36:44 [INFO]: User created: 31 by 1
2026-02-03 17:36:44 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:44 +0000] "POST /api/v1/users HTTP/1.1" 201 500 "-" "axios/1.13.4"
2026-02-03 17:36:45 [INFO]: User created: 32 by 1
2026-02-03 17:36:45 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:45 +0000] "POST /api/v1/users HTTP/1.1" 201 518 "-" "axios/1.13.4"
2026-02-03 17:36:45 [INFO]: User created: 33 by 1
2026-02-03 17:36:45 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:45 +0000] "POST /api/v1/users HTTP/1.1" 201 520 "-" "axios/1.13.4"
2026-02-03 17:36:46 [INFO]: User created: 34 by 1
2026-02-03 17:36:46 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:46 +0000] "POST /api/v1/users HTTP/1.1" 201 521 "-" "axios/1.13.4"
2026-02-03 17:36:46 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:46 +0000] "GET /api/v1/users/34 HTTP/1.1" 200 483 "-" "axios/1.13.4"
2026-02-03 17:36:46 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:06:46 +0000] "GET /api/v1/users/roles HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 17:37:45 [INFO]: Database pool created successfully
2026-02-03 17:37:45 [INFO]: Database connected successfully
2026-02-03 17:37:45 [INFO]: Redis connected
2026-02-03 17:37:45 [INFO]: Redis connected
2026-02-03 17:37:45 [INFO]: Redis connected successfully
2026-02-03 17:37:45 [INFO]: WebSocket initialized
2026-02-03 17:37:45 [INFO]: Initialized 6 queues
2026-02-03 17:37:45 [INFO]: Queues initialized
2026-02-03 17:37:45 [INFO]: Started 3 cron jobs
2026-02-03 17:37:45 [INFO]: Cron jobs initialized
2026-02-03 17:37:45 [INFO]: Server running on port 3000 in development mode
2026-02-03 17:39:05 [INFO]: ::1 - - [03/Feb/2026:12:09:05 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "PostmanRuntime/7.51.1"
2026-02-03 17:39:19 [INFO]: ::1 - - [03/Feb/2026:12:09:19 +0000] "GET /api/v1/auth/me HTTP/1.1" 200 557 "-" "PostmanRuntime/7.51.1"
2026-02-03 17:39:31 [INFO]: ::1 - - [03/Feb/2026:12:09:31 +0000] "GET /api/v1/users/roles HTTP/1.1" 200 - "-" "PostmanRuntime/7.51.1"
2026-02-03 17:39:45 [INFO]: ::1 - - [03/Feb/2026:12:09:45 +0000] "GET /api/v1/outlets HTTP/1.1" 200 - "-" "PostmanRuntime/7.51.1"
2026-02-03 17:40:00 [INFO]: Running report aggregation cron job
2026-02-03 17:40:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 50
2026-02-03 17:40:03 [INFO]: ::1 - - [03/Feb/2026:12:10:03 +0000] "GET /api/v1/outlets/4/floors HTTP/1.1" 200 769 "-" "PostmanRuntime/7.51.1"
2026-02-03 17:40:11 [INFO]: ::1 - - [03/Feb/2026:12:10:11 +0000] "GET /api/v1/outlets/4/sections HTTP/1.1" 200 - "-" "PostmanRuntime/7.51.1"
2026-02-03 17:40:51 [INFO]: User created: 35 by 1
2026-02-03 17:40:51 [INFO]: ::1 - - [03/Feb/2026:12:10:51 +0000] "POST /api/v1/users HTTP/1.1" 201 507 "-" "PostmanRuntime/7.51.1"
2026-02-03 17:41:26 [INFO]: User created: 36 by 1
2026-02-03 17:41:26 [INFO]: ::1 - - [03/Feb/2026:12:11:26 +0000] "POST /api/v1/users HTTP/1.1" 201 506 "-" "PostmanRuntime/7.51.1"
2026-02-03 17:41:54 [INFO]: User created: 37 by 1
2026-02-03 17:41:54 [INFO]: ::1 - - [03/Feb/2026:12:11:54 +0000] "POST /api/v1/users HTTP/1.1" 201 514 "-" "PostmanRuntime/7.51.1"
2026-02-03 17:45:00 [INFO]: Running report aggregation cron job
2026-02-03 17:45:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 51
2026-02-03 17:48:02 [INFO]: ::1 - - [03/Feb/2026:12:18:02 +0000] "GET /api/v1/users/37 HTTP/1.1" 200 476 "-" "PostmanRuntime/7.51.1"
2026-02-03 17:48:14 [INFO]: ::1 - - [03/Feb/2026:12:18:14 +0000] "GET /api/v1/users?roleId=4&outletId=4 HTTP/1.1" 200 - "-" "PostmanRuntime/7.51.1"
2026-02-03 17:48:28 [INFO]: ::1 - - [03/Feb/2026:12:18:28 +0000] "GET /api/v1/users?roleId=3&outletId=4 HTTP/1.1" 200 - "-" "PostmanRuntime/7.51.1"
2026-02-03 17:48:41 [INFO]: ::1 - - [03/Feb/2026:12:18:41 +0000] "GET /api/v1/users?isActive=true&limit=50 HTTP/1.1" 200 - "-" "PostmanRuntime/7.51.1"
2026-02-03 17:49:05 [INFO]: ::1 - - [03/Feb/2026:12:19:05 +0000] "DELETE /api/v1/users/37/roles HTTP/1.1" 404 55 "-" "PostmanRuntime/7.51.1"
2026-02-03 17:50:00 [INFO]: Running report aggregation cron job
2026-02-03 17:50:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 52
2026-02-03 17:52:15 [INFO]: Database pool created successfully
2026-02-03 17:52:15 [INFO]: Database connected successfully
2026-02-03 17:52:15 [INFO]: Redis connected
2026-02-03 17:52:15 [INFO]: Redis connected
2026-02-03 17:52:15 [INFO]: Redis connected successfully
2026-02-03 17:52:15 [INFO]: WebSocket initialized
2026-02-03 17:52:15 [INFO]: Initialized 6 queues
2026-02-03 17:52:15 [INFO]: Queues initialized
2026-02-03 17:52:15 [INFO]: Started 3 cron jobs
2026-02-03 17:52:15 [INFO]: Cron jobs initialized
2026-02-03 17:52:15 [INFO]: Server running on port 3000 in development mode
2026-02-03 17:54:29 [INFO]: Database pool created successfully
2026-02-03 17:54:29 [INFO]: Database connected successfully
2026-02-03 17:54:29 [INFO]: Redis connected
2026-02-03 17:54:29 [INFO]: Redis connected
2026-02-03 17:54:29 [INFO]: Redis connected successfully
2026-02-03 17:54:29 [INFO]: WebSocket initialized
2026-02-03 17:54:29 [INFO]: Initialized 6 queues
2026-02-03 17:54:29 [INFO]: Queues initialized
2026-02-03 17:54:29 [INFO]: Started 3 cron jobs
2026-02-03 17:54:29 [INFO]: Cron jobs initialized
2026-02-03 17:54:29 [INFO]: Server running on port 3000 in development mode
2026-02-03 17:54:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:24:37 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "axios/1.13.4"
2026-02-03 17:54:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:24:37 +0000] "GET /api/v1/outlets HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 17:54:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:24:37 +0000] "GET /api/v1/users/roles HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 17:54:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:24:37 +0000] "GET /api/v1/auth/me HTTP/1.1" 200 557 "-" "axios/1.13.4"
2026-02-03 17:54:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:24:37 +0000] "GET /api/v1/auth/sessions HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 17:54:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:24:37 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "axios/1.13.4"
2026-02-03 17:54:37 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:24:37 +0000] "POST /api/v1/auth/refresh HTTP/1.1" 200 587 "-" "axios/1.13.4"
2026-02-03 17:54:38 [INFO]: User created: 38 by 1
2026-02-03 17:54:38 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:24:38 +0000] "POST /api/v1/users HTTP/1.1" 201 505 "-" "axios/1.13.4"
2026-02-03 17:54:39 [INFO]: User created: 39 by 1
2026-02-03 17:54:39 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:24:39 +0000] "POST /api/v1/users HTTP/1.1" 201 497 "-" "axios/1.13.4"
2026-02-03 17:54:39 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:24:39 +0000] "GET /api/v1/users/38 HTTP/1.1" 200 467 "-" "axios/1.13.4"
2026-02-03 17:54:39 [INFO]: User updated: 38 by 1
2026-02-03 17:54:39 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:24:39 +0000] "PUT /api/v1/users/38 HTTP/1.1" 200 506 "-" "axios/1.13.4"
2026-02-03 17:54:39 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:24:39 +0000] "GET /api/v1/users?roleId=3&outletId=4 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 17:54:39 [INFO]: User created: 40 by 1
2026-02-03 17:54:39 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:24:39 +0000] "POST /api/v1/users HTTP/1.1" 201 493 "-" "axios/1.13.4"
2026-02-03 17:54:40 [INFO]: User created: 41 by 1
2026-02-03 17:54:40 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:24:40 +0000] "POST /api/v1/users HTTP/1.1" 201 507 "-" "axios/1.13.4"
2026-02-03 17:54:40 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:24:40 +0000] "GET /api/v1/users/40 HTTP/1.1" 200 455 "-" "axios/1.13.4"
2026-02-03 17:54:40 [INFO]: User updated: 40 by 1
2026-02-03 17:54:40 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:24:40 +0000] "PUT /api/v1/users/40 HTTP/1.1" 200 494 "-" "axios/1.13.4"
2026-02-03 17:54:40 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:24:40 +0000] "GET /api/v1/users?roleId=4&outletId=4 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 17:54:40 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:24:40 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 843 "-" "axios/1.13.4"
2026-02-03 17:54:40 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:24:40 +0000] "GET /api/v1/users HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 17:54:40 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:24:40 +0000] "GET /api/v1/users/40 HTTP/1.1" 200 456 "-" "axios/1.13.4"
2026-02-03 17:54:40 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:24:40 +0000] "GET /api/v1/users/roles HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 17:54:40 [WARN]: Access denied for user 38. Required: super_admin, admin, Has: manager
2026-02-03 17:54:40 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:24:40 +0000] "POST /api/v1/users HTTP/1.1" 403 99 "-" "axios/1.13.4"
2026-02-03 17:54:40 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:24:40 +0000] "GET /api/v1/users?search=captain HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 17:54:40 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:24:40 +0000] "GET /api/v1/users?isActive=true HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 17:54:40 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:24:40 +0000] "GET /api/v1/users?page=1&limit=5 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 17:54:40 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:24:40 +0000] "GET /api/v1/users?sortBy=name&sortOrder=ASC HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 17:55:00 [INFO]: Running report aggregation cron job
2026-02-03 17:55:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 53
2026-02-03 17:57:58 [INFO]: Database pool created successfully
2026-02-03 17:57:58 [INFO]: Database connected successfully
2026-02-03 17:57:58 [INFO]: Redis connected
2026-02-03 17:57:58 [INFO]: Redis connected
2026-02-03 17:57:58 [INFO]: Redis connected successfully
2026-02-03 17:57:58 [INFO]: WebSocket initialized
2026-02-03 17:57:58 [INFO]: Initialized 6 queues
2026-02-03 17:57:58 [INFO]: Queues initialized
2026-02-03 17:57:58 [INFO]: Started 3 cron jobs
2026-02-03 17:57:58 [INFO]: Cron jobs initialized
2026-02-03 17:57:58 [INFO]: Server running on port 3000 in development mode
2026-02-03 17:58:36 [INFO]: Database pool created successfully
2026-02-03 17:58:36 [INFO]: Database connected successfully
2026-02-03 17:58:36 [INFO]: Redis connected
2026-02-03 17:58:36 [INFO]: Redis connected
2026-02-03 17:58:36 [INFO]: Redis connected successfully
2026-02-03 17:58:36 [INFO]: WebSocket initialized
2026-02-03 17:58:36 [INFO]: Initialized 6 queues
2026-02-03 17:58:36 [INFO]: Queues initialized
2026-02-03 17:58:36 [INFO]: Started 3 cron jobs
2026-02-03 17:58:36 [INFO]: Cron jobs initialized
2026-02-03 17:58:36 [INFO]: Server running on port 3000 in development mode
2026-02-03 17:58:50 [INFO]: Database pool created successfully
2026-02-03 17:58:50 [INFO]: Database connected successfully
2026-02-03 17:58:50 [INFO]: Redis connected
2026-02-03 17:58:50 [INFO]: Redis connected
2026-02-03 17:58:50 [INFO]: Redis connected successfully
2026-02-03 17:58:50 [INFO]: WebSocket initialized
2026-02-03 17:58:50 [INFO]: Initialized 6 queues
2026-02-03 17:58:50 [INFO]: Queues initialized
2026-02-03 17:58:50 [INFO]: Started 3 cron jobs
2026-02-03 17:58:50 [INFO]: Cron jobs initialized
2026-02-03 17:58:50 [INFO]: Server running on port 3000 in development mode
2026-02-03 17:59:07 [INFO]: Database pool created successfully
2026-02-03 17:59:07 [INFO]: Database connected successfully
2026-02-03 17:59:07 [INFO]: Redis connected
2026-02-03 17:59:07 [INFO]: Redis connected
2026-02-03 17:59:07 [INFO]: Redis connected successfully
2026-02-03 17:59:07 [INFO]: WebSocket initialized
2026-02-03 17:59:07 [INFO]: Initialized 6 queues
2026-02-03 17:59:07 [INFO]: Queues initialized
2026-02-03 17:59:07 [INFO]: Started 3 cron jobs
2026-02-03 17:59:07 [INFO]: Cron jobs initialized
2026-02-03 17:59:07 [INFO]: Server running on port 3000 in development mode
2026-02-03 17:59:22 [INFO]: Database pool created successfully
2026-02-03 17:59:22 [INFO]: Database connected successfully
2026-02-03 17:59:22 [INFO]: Redis connected
2026-02-03 17:59:22 [INFO]: Redis connected
2026-02-03 17:59:22 [INFO]: Redis connected successfully
2026-02-03 17:59:22 [INFO]: WebSocket initialized
2026-02-03 17:59:22 [INFO]: Initialized 6 queues
2026-02-03 17:59:22 [INFO]: Queues initialized
2026-02-03 17:59:22 [INFO]: Started 3 cron jobs
2026-02-03 17:59:22 [INFO]: Cron jobs initialized
2026-02-03 17:59:22 [INFO]: Server running on port 3000 in development mode
2026-02-03 17:59:36 [INFO]: Database pool created successfully
2026-02-03 17:59:36 [INFO]: Database connected successfully
2026-02-03 17:59:36 [INFO]: Redis connected
2026-02-03 17:59:36 [INFO]: Redis connected
2026-02-03 17:59:36 [INFO]: Redis connected successfully
2026-02-03 17:59:36 [INFO]: WebSocket initialized
2026-02-03 17:59:36 [INFO]: Initialized 6 queues
2026-02-03 17:59:36 [INFO]: Queues initialized
2026-02-03 17:59:36 [INFO]: Started 3 cron jobs
2026-02-03 17:59:36 [INFO]: Cron jobs initialized
2026-02-03 17:59:36 [INFO]: Server running on port 3000 in development mode
2026-02-03 17:59:46 [INFO]: Database pool created successfully
2026-02-03 17:59:46 [INFO]: Database connected successfully
2026-02-03 17:59:46 [INFO]: Redis connected
2026-02-03 17:59:46 [INFO]: Redis connected
2026-02-03 17:59:46 [INFO]: Redis connected successfully
2026-02-03 17:59:46 [INFO]: WebSocket initialized
2026-02-03 17:59:46 [INFO]: Initialized 6 queues
2026-02-03 17:59:46 [INFO]: Queues initialized
2026-02-03 17:59:46 [INFO]: Started 3 cron jobs
2026-02-03 17:59:46 [INFO]: Cron jobs initialized
2026-02-03 17:59:46 [INFO]: Server running on port 3000 in development mode
2026-02-03 18:00:00 [INFO]: Running report aggregation cron job
2026-02-03 18:00:00 [INFO]: Running inventory check cron job
2026-02-03 18:00:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 54
2026-02-03 18:00:00 [DEBUG]: Added job check-low-stock to queue inventory, jobId: 5
2026-02-03 18:00:19 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:30:19 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "axios/1.13.4"
2026-02-03 18:00:19 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:30:19 +0000] "GET /api/v1/outlets HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:00:19 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:30:19 +0000] "GET /api/v1/users/roles HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:00:19 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:30:19 +0000] "GET /api/v1/auth/me HTTP/1.1" 200 557 "-" "axios/1.13.4"
2026-02-03 18:00:19 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:30:19 +0000] "GET /api/v1/auth/sessions HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:00:19 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:30:19 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "axios/1.13.4"
2026-02-03 18:00:19 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:30:19 +0000] "POST /api/v1/auth/refresh HTTP/1.1" 200 587 "-" "axios/1.13.4"
2026-02-03 18:00:20 [INFO]: User created: 42 by 1
2026-02-03 18:00:20 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:30:20 +0000] "POST /api/v1/users HTTP/1.1" 201 505 "-" "axios/1.13.4"
2026-02-03 18:00:21 [INFO]: User created: 43 by 1
2026-02-03 18:00:21 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:30:21 +0000] "POST /api/v1/users HTTP/1.1" 201 497 "-" "axios/1.13.4"
2026-02-03 18:00:21 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:30:21 +0000] "GET /api/v1/users/42 HTTP/1.1" 200 467 "-" "axios/1.13.4"
2026-02-03 18:00:21 [INFO]: User updated: 42 by 1
2026-02-03 18:00:21 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:30:21 +0000] "PUT /api/v1/users/42 HTTP/1.1" 200 506 "-" "axios/1.13.4"
2026-02-03 18:00:21 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:30:21 +0000] "GET /api/v1/users?roleId=3&outletId=4 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:00:21 [INFO]: User created: 44 by 1
2026-02-03 18:00:21 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:30:21 +0000] "POST /api/v1/users HTTP/1.1" 201 493 "-" "axios/1.13.4"
2026-02-03 18:00:22 [INFO]: User created: 45 by 1
2026-02-03 18:00:22 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:30:22 +0000] "POST /api/v1/users HTTP/1.1" 201 507 "-" "axios/1.13.4"
2026-02-03 18:00:22 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:30:22 +0000] "GET /api/v1/users/44 HTTP/1.1" 200 455 "-" "axios/1.13.4"
2026-02-03 18:00:22 [INFO]: User updated: 44 by 1
2026-02-03 18:00:22 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:30:22 +0000] "PUT /api/v1/users/44 HTTP/1.1" 200 494 "-" "axios/1.13.4"
2026-02-03 18:00:22 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:30:22 +0000] "GET /api/v1/users?roleId=4&outletId=4 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:00:22 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:30:22 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 843 "-" "axios/1.13.4"
2026-02-03 18:00:22 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:30:22 +0000] "GET /api/v1/users HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:00:22 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:30:22 +0000] "GET /api/v1/users/44 HTTP/1.1" 200 456 "-" "axios/1.13.4"
2026-02-03 18:00:22 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:30:22 +0000] "GET /api/v1/users/roles HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:00:23 [INFO]: User created: 46 by 42
2026-02-03 18:00:23 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:30:23 +0000] "POST /api/v1/users HTTP/1.1" 201 465 "-" "axios/1.13.4"
2026-02-03 18:00:23 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:30:23 +0000] "GET /api/v1/users?search=captain HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:00:23 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:30:23 +0000] "GET /api/v1/users?isActive=true HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:00:23 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:30:23 +0000] "GET /api/v1/users?page=1&limit=5 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:00:23 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:30:23 +0000] "GET /api/v1/users?sortBy=name&sortOrder=ASC HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:01:14 [INFO]: Database pool created successfully
2026-02-03 18:01:14 [INFO]: Database connected successfully
2026-02-03 18:01:14 [INFO]: Redis connected
2026-02-03 18:01:14 [INFO]: Redis connected
2026-02-03 18:01:14 [INFO]: Redis connected successfully
2026-02-03 18:01:14 [INFO]: WebSocket initialized
2026-02-03 18:01:14 [INFO]: Initialized 6 queues
2026-02-03 18:01:14 [INFO]: Queues initialized
2026-02-03 18:01:14 [INFO]: Started 3 cron jobs
2026-02-03 18:01:14 [INFO]: Cron jobs initialized
2026-02-03 18:01:14 [INFO]: Server running on port 3000 in development mode
2026-02-03 18:01:25 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:31:25 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "axios/1.13.4"
2026-02-03 18:01:25 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:31:25 +0000] "GET /api/v1/outlets HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:01:25 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:31:25 +0000] "GET /api/v1/users/roles HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:01:25 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:31:25 +0000] "GET /api/v1/auth/me HTTP/1.1" 200 557 "-" "axios/1.13.4"
2026-02-03 18:01:25 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:31:25 +0000] "GET /api/v1/auth/sessions HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:01:25 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:31:25 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "axios/1.13.4"
2026-02-03 18:01:25 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:31:25 +0000] "POST /api/v1/auth/refresh HTTP/1.1" 200 587 "-" "axios/1.13.4"
2026-02-03 18:01:26 [INFO]: User created: 47 by 1
2026-02-03 18:01:26 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:31:26 +0000] "POST /api/v1/users HTTP/1.1" 201 505 "-" "axios/1.13.4"
2026-02-03 18:01:27 [INFO]: User created: 48 by 1
2026-02-03 18:01:27 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:31:27 +0000] "POST /api/v1/users HTTP/1.1" 201 497 "-" "axios/1.13.4"
2026-02-03 18:01:27 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:31:27 +0000] "GET /api/v1/users/47 HTTP/1.1" 200 467 "-" "axios/1.13.4"
2026-02-03 18:01:27 [INFO]: User updated: 47 by 1
2026-02-03 18:01:27 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:31:27 +0000] "PUT /api/v1/users/47 HTTP/1.1" 200 506 "-" "axios/1.13.4"
2026-02-03 18:01:27 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:31:27 +0000] "GET /api/v1/users?roleId=3&outletId=4 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:01:28 [INFO]: User created: 49 by 1
2026-02-03 18:01:28 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:31:28 +0000] "POST /api/v1/users HTTP/1.1" 201 493 "-" "axios/1.13.4"
2026-02-03 18:01:28 [INFO]: User created: 50 by 1
2026-02-03 18:01:28 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:31:28 +0000] "POST /api/v1/users HTTP/1.1" 201 507 "-" "axios/1.13.4"
2026-02-03 18:01:28 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:31:28 +0000] "GET /api/v1/users/49 HTTP/1.1" 200 455 "-" "axios/1.13.4"
2026-02-03 18:01:28 [INFO]: User updated: 49 by 1
2026-02-03 18:01:28 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:31:28 +0000] "PUT /api/v1/users/49 HTTP/1.1" 200 494 "-" "axios/1.13.4"
2026-02-03 18:01:28 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:31:28 +0000] "GET /api/v1/users?roleId=4&outletId=4 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:01:28 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:31:28 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 843 "-" "axios/1.13.4"
2026-02-03 18:01:28 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:31:28 +0000] "GET /api/v1/users HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:01:28 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:31:28 +0000] "GET /api/v1/users/49 HTTP/1.1" 200 456 "-" "axios/1.13.4"
2026-02-03 18:01:28 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:31:28 +0000] "GET /api/v1/users/roles HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:01:29 [INFO]: User created: 51 by 47
2026-02-03 18:01:29 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:31:29 +0000] "POST /api/v1/users HTTP/1.1" 201 483 "-" "axios/1.13.4"
2026-02-03 18:01:29 [ERROR]: Create user failed: Managers can only create staff users (captain, waiter, bartender, kitchen, cashier)
Error: Managers can only create staff users (captain, waiter, bartender, kitchen, cashier)
    at UserService.createUser (E:\restro-backend\src\services\user.service.js:211:17)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async createUser (E:\restro-backend\src\controllers\user.controller.js:52:18)
2026-02-03 18:01:29 [ERROR]: Unhandled error: Managers can only create staff users (captain, waiter, bartender, kitchen, cashier)
Error: Managers can only create staff users (captain, waiter, bartender, kitchen, cashier)
    at UserService.createUser (E:\restro-backend\src\services\user.service.js:211:17)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async createUser (E:\restro-backend\src\controllers\user.controller.js:52:18)
2026-02-03 18:01:29 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:31:29 +0000] "POST /api/v1/users HTTP/1.1" 500 479 "-" "axios/1.13.4"
2026-02-03 18:01:29 [INFO]: User updated: 51 by 47
2026-02-03 18:01:29 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:31:29 +0000] "PUT /api/v1/users/51 HTTP/1.1" 200 471 "-" "axios/1.13.4"
2026-02-03 18:01:29 [ERROR]: Update user failed: Managers cannot update admin or manager users
Error: Managers cannot update admin or manager users
    at UserService.updateUser (E:\restro-backend\src\services\user.service.js:308:17)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async updateUser (E:\restro-backend\src\controllers\user.controller.js:77:18)
2026-02-03 18:01:29 [ERROR]: Unhandled error: Managers cannot update admin or manager users
Error: Managers cannot update admin or manager users
    at UserService.updateUser (E:\restro-backend\src\services\user.service.js:308:17)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async updateUser (E:\restro-backend\src\controllers\user.controller.js:77:18)
2026-02-03 18:01:29 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:31:29 +0000] "PUT /api/v1/users/47 HTTP/1.1" 500 403 "-" "axios/1.13.4"
2026-02-03 18:01:29 [INFO]: User deleted: 51 by 47
2026-02-03 18:01:29 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:31:29 +0000] "DELETE /api/v1/users/51 HTTP/1.1" 200 54 "-" "axios/1.13.4"
2026-02-03 18:01:29 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:31:29 +0000] "GET /api/v1/users?search=captain HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:01:29 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:31:29 +0000] "GET /api/v1/users?isActive=true HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:01:29 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:31:29 +0000] "GET /api/v1/users?page=1&limit=5 HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:01:29 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:31:29 +0000] "GET /api/v1/users?sortBy=name&sortOrder=ASC HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:01:49 [INFO]: Database pool created successfully
2026-02-03 18:01:49 [INFO]: Database connected successfully
2026-02-03 18:01:49 [INFO]: Redis connected
2026-02-03 18:01:49 [INFO]: Redis connected
2026-02-03 18:01:49 [INFO]: Redis connected successfully
2026-02-03 18:01:49 [INFO]: WebSocket initialized
2026-02-03 18:01:49 [INFO]: Initialized 6 queues
2026-02-03 18:01:49 [INFO]: Queues initialized
2026-02-03 18:01:49 [INFO]: Started 3 cron jobs
2026-02-03 18:01:49 [INFO]: Cron jobs initialized
2026-02-03 18:01:49 [INFO]: Server running on port 3000 in development mode
2026-02-03 18:02:26 [INFO]: Database pool created successfully
2026-02-03 18:02:26 [INFO]: Database connected successfully
2026-02-03 18:02:26 [INFO]: Redis connected
2026-02-03 18:02:26 [INFO]: Redis connected
2026-02-03 18:02:26 [INFO]: Redis connected successfully
2026-02-03 18:02:26 [INFO]: WebSocket initialized
2026-02-03 18:02:26 [INFO]: Initialized 6 queues
2026-02-03 18:02:26 [INFO]: Queues initialized
2026-02-03 18:02:26 [INFO]: Started 3 cron jobs
2026-02-03 18:02:26 [INFO]: Cron jobs initialized
2026-02-03 18:02:26 [INFO]: Server running on port 3000 in development mode
2026-02-03 18:03:20 [INFO]: ::1 - - [03/Feb/2026:12:33:20 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "PostmanRuntime/7.51.1"
2026-02-03 18:03:40 [WARN]: PIN login failed:
2026-02-03 18:03:40 [INFO]: ::1 - - [03/Feb/2026:12:33:40 +0000] "POST /api/v1/auth/login/pin HTTP/1.1" 401 58 "-" "PostmanRuntime/7.51.1"
2026-02-03 18:03:55 [INFO]: ::1 - - [03/Feb/2026:12:33:55 +0000] "GET /api/v1/auth/me HTTP/1.1" 200 557 "-" "PostmanRuntime/7.51.1"
2026-02-03 18:04:17 [INFO]: ::1 - - [03/Feb/2026:12:34:17 +0000] "GET /api/v1/users/roles HTTP/1.1" 200 - "-" "PostmanRuntime/7.51.1"
2026-02-03 18:04:51 [INFO]: ::1 - - [03/Feb/2026:12:34:51 +0000] "GET /api/v1/users/permissions HTTP/1.1" 200 - "-" "PostmanRuntime/7.51.1"
2026-02-03 18:05:00 [INFO]: Running report aggregation cron job
2026-02-03 18:05:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 55
2026-02-03 18:05:42 [INFO]: User created: 52 by 1
2026-02-03 18:05:42 [INFO]: ::1 - - [03/Feb/2026:12:35:42 +0000] "POST /api/v1/users HTTP/1.1" 201 513 "-" "PostmanRuntime/7.51.1"
2026-02-03 18:06:06 [INFO]: User created: 53 by 1
2026-02-03 18:06:06 [INFO]: ::1 - - [03/Feb/2026:12:36:06 +0000] "POST /api/v1/users HTTP/1.1" 201 505 "-" "PostmanRuntime/7.51.1"
2026-02-03 18:07:11 [WARN]: Login failed:
2026-02-03 18:07:11 [INFO]: ::1 - - [03/Feb/2026:12:37:11 +0000] "POST /api/v1/auth/login HTTP/1.1" 401 55 "-" "PostmanRuntime/7.51.1"
2026-02-03 18:07:16 [WARN]: Login failed:
2026-02-03 18:07:16 [INFO]: ::1 - - [03/Feb/2026:12:37:16 +0000] "POST /api/v1/auth/login HTTP/1.1" 401 55 "-" "PostmanRuntime/7.51.1"
2026-02-03 18:10:00 [INFO]: Running report aggregation cron job
2026-02-03 18:10:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 56
2026-02-03 18:15:00 [INFO]: Running report aggregation cron job
2026-02-03 18:15:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 57
2026-02-03 18:17:06 [INFO]: Database pool created successfully
2026-02-03 18:17:06 [INFO]: Database connected successfully
2026-02-03 18:17:06 [INFO]: Redis connected
2026-02-03 18:17:06 [INFO]: Redis connected
2026-02-03 18:17:06 [INFO]: Redis connected successfully
2026-02-03 18:17:06 [INFO]: WebSocket initialized
2026-02-03 18:17:06 [INFO]: Initialized 6 queues
2026-02-03 18:17:06 [INFO]: Queues initialized
2026-02-03 18:17:06 [INFO]: Started 3 cron jobs
2026-02-03 18:17:06 [INFO]: Cron jobs initialized
2026-02-03 18:17:06 [INFO]: Server running on port 3000 in development mode
2026-02-03 18:19:14 [INFO]: Database pool created successfully
2026-02-03 18:19:14 [INFO]: Database connected successfully
2026-02-03 18:19:14 [INFO]: Redis connected
2026-02-03 18:19:14 [INFO]: Redis connected
2026-02-03 18:19:14 [INFO]: Redis connected successfully
2026-02-03 18:19:14 [INFO]: WebSocket initialized
2026-02-03 18:19:14 [INFO]: Initialized 6 queues
2026-02-03 18:19:14 [INFO]: Queues initialized
2026-02-03 18:19:14 [INFO]: Started 3 cron jobs
2026-02-03 18:19:14 [INFO]: Cron jobs initialized
2026-02-03 18:19:14 [INFO]: Server running on port 3000 in development mode
2026-02-03 18:19:46 [INFO]: Database pool created successfully
2026-02-03 18:19:46 [INFO]: Database connected successfully
2026-02-03 18:19:46 [INFO]: Redis connected
2026-02-03 18:19:46 [INFO]: Redis connected
2026-02-03 18:19:46 [INFO]: Redis connected successfully
2026-02-03 18:19:46 [INFO]: WebSocket initialized
2026-02-03 18:19:46 [INFO]: Initialized 6 queues
2026-02-03 18:19:46 [INFO]: Queues initialized
2026-02-03 18:19:46 [INFO]: Started 3 cron jobs
2026-02-03 18:19:46 [INFO]: Cron jobs initialized
2026-02-03 18:19:46 [INFO]: Server running on port 3000 in development mode
2026-02-03 18:20:00 [INFO]: Running report aggregation cron job
2026-02-03 18:20:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 58
2026-02-03 18:20:35 [INFO]: Database pool created successfully
2026-02-03 18:20:35 [INFO]: Database connected successfully
2026-02-03 18:20:35 [INFO]: Redis connected
2026-02-03 18:20:35 [INFO]: Redis connected
2026-02-03 18:20:35 [INFO]: Redis connected successfully
2026-02-03 18:20:35 [INFO]: WebSocket initialized
2026-02-03 18:20:35 [INFO]: Initialized 6 queues
2026-02-03 18:20:35 [INFO]: Queues initialized
2026-02-03 18:20:35 [INFO]: Started 3 cron jobs
2026-02-03 18:20:35 [INFO]: Cron jobs initialized
2026-02-03 18:20:35 [INFO]: Server running on port 3000 in development mode
2026-02-03 18:20:49 [INFO]: Database pool created successfully
2026-02-03 18:20:49 [INFO]: Database connected successfully
2026-02-03 18:20:49 [INFO]: Redis connected
2026-02-03 18:20:49 [INFO]: Redis connected
2026-02-03 18:20:49 [INFO]: Redis connected successfully
2026-02-03 18:20:49 [INFO]: WebSocket initialized
2026-02-03 18:20:49 [INFO]: Initialized 6 queues
2026-02-03 18:20:49 [INFO]: Queues initialized
2026-02-03 18:20:49 [INFO]: Started 3 cron jobs
2026-02-03 18:20:49 [INFO]: Cron jobs initialized
2026-02-03 18:20:49 [INFO]: Server running on port 3000 in development mode
2026-02-03 18:21:03 [INFO]: Database pool created successfully
2026-02-03 18:21:03 [INFO]: Database connected successfully
2026-02-03 18:21:03 [INFO]: Redis connected
2026-02-03 18:21:03 [INFO]: Redis connected
2026-02-03 18:21:03 [INFO]: Redis connected successfully
2026-02-03 18:21:03 [INFO]: WebSocket initialized
2026-02-03 18:21:03 [INFO]: Initialized 6 queues
2026-02-03 18:21:03 [INFO]: Queues initialized
2026-02-03 18:21:03 [INFO]: Started 3 cron jobs
2026-02-03 18:21:03 [INFO]: Cron jobs initialized
2026-02-03 18:21:03 [INFO]: Server running on port 3000 in development mode
2026-02-03 18:21:20 [INFO]: Database pool created successfully
2026-02-03 18:21:20 [INFO]: Database connected successfully
2026-02-03 18:21:20 [INFO]: Redis connected
2026-02-03 18:21:20 [INFO]: Redis connected
2026-02-03 18:21:20 [INFO]: Redis connected successfully
2026-02-03 18:21:20 [INFO]: WebSocket initialized
2026-02-03 18:21:20 [INFO]: Initialized 6 queues
2026-02-03 18:21:20 [INFO]: Queues initialized
2026-02-03 18:21:20 [INFO]: Started 3 cron jobs
2026-02-03 18:21:20 [INFO]: Cron jobs initialized
2026-02-03 18:21:20 [INFO]: Server running on port 3000 in development mode
2026-02-03 18:21:39 [INFO]: Database pool created successfully
2026-02-03 18:21:39 [INFO]: Database connected successfully
2026-02-03 18:21:39 [INFO]: Redis connected
2026-02-03 18:21:39 [INFO]: Redis connected
2026-02-03 18:21:39 [INFO]: Redis connected successfully
2026-02-03 18:21:39 [INFO]: WebSocket initialized
2026-02-03 18:21:39 [INFO]: Initialized 6 queues
2026-02-03 18:21:39 [INFO]: Queues initialized
2026-02-03 18:21:39 [INFO]: Started 3 cron jobs
2026-02-03 18:21:39 [INFO]: Cron jobs initialized
2026-02-03 18:21:39 [INFO]: Server running on port 3000 in development mode
2026-02-03 18:22:59 [INFO]: Database pool created successfully
2026-02-03 18:22:59 [INFO]: Database connected successfully
2026-02-03 18:22:59 [INFO]: Redis connected
2026-02-03 18:22:59 [INFO]: Redis connected
2026-02-03 18:22:59 [INFO]: Redis connected successfully
2026-02-03 18:22:59 [INFO]: WebSocket initialized
2026-02-03 18:22:59 [INFO]: Initialized 6 queues
2026-02-03 18:22:59 [INFO]: Queues initialized
2026-02-03 18:22:59 [INFO]: Started 3 cron jobs
2026-02-03 18:22:59 [INFO]: Cron jobs initialized
2026-02-03 18:22:59 [INFO]: Server running on port 3000 in development mode
2026-02-03 18:23:55 [INFO]: Database pool created successfully
2026-02-03 18:23:55 [INFO]: Database connected successfully
2026-02-03 18:23:55 [INFO]: Redis connected
2026-02-03 18:23:55 [INFO]: Redis connected
2026-02-03 18:23:55 [INFO]: Redis connected successfully
2026-02-03 18:23:55 [INFO]: WebSocket initialized
2026-02-03 18:23:55 [INFO]: Initialized 6 queues
2026-02-03 18:23:55 [INFO]: Queues initialized
2026-02-03 18:23:55 [INFO]: Started 3 cron jobs
2026-02-03 18:23:55 [INFO]: Cron jobs initialized
2026-02-03 18:23:55 [INFO]: Server running on port 3000 in development mode
2026-02-03 18:25:00 [INFO]: Running report aggregation cron job
2026-02-03 18:25:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 59
2026-02-03 18:26:43 [INFO]: Database pool created successfully
2026-02-03 18:26:43 [INFO]: Database connected successfully
2026-02-03 18:26:43 [INFO]: Redis connected
2026-02-03 18:26:43 [INFO]: Redis connected
2026-02-03 18:26:43 [INFO]: Redis connected successfully
2026-02-03 18:26:43 [INFO]: WebSocket initialized
2026-02-03 18:26:43 [INFO]: Initialized 6 queues
2026-02-03 18:26:43 [INFO]: Queues initialized
2026-02-03 18:26:43 [INFO]: Started 3 cron jobs
2026-02-03 18:26:43 [INFO]: Cron jobs initialized
2026-02-03 18:26:43 [INFO]: Server running on port 3000 in development mode
2026-02-03 18:26:50 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:56:50 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "axios/1.13.4"
2026-02-03 18:26:50 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:56:50 +0000] "GET /api/v1/outlets HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:26:50 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:56:50 +0000] "GET /api/v1/users/roles HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:26:50 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:56:50 +0000] "GET /api/v1/permissions HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:26:50 [ERROR]: Get my permissions failed: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:90:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async getMyPermissions (E:\restro-backend\src\controllers\permission.controller.js:34:25)
2026-02-03 18:26:50 [ERROR]: Unhandled error: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:90:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async getMyPermissions (E:\restro-backend\src\controllers\permission.controller.js:34:25)
2026-02-03 18:26:50 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:56:50 +0000] "GET /api/v1/permissions/my HTTP/1.1" 500 406 "-" "axios/1.13.4"
2026-02-03 18:26:50 [ERROR]: Check permission failed: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:90:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async checkPermission (E:\restro-backend\src\controllers\permission.controller.js:288:25)
2026-02-03 18:26:50 [ERROR]: Unhandled error: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:90:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async checkPermission (E:\restro-backend\src\controllers\permission.controller.js:288:25)
2026-02-03 18:26:50 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:56:50 +0000] "POST /api/v1/permissions/check HTTP/1.1" 500 406 "-" "axios/1.13.4"
2026-02-03 18:26:50 [ERROR]: Get grantable permissions failed: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:90:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async PermissionService.getGrantablePermissions (E:\restro-backend\src\services\permission.service.js:566:26)
    at async getGrantablePermissions (E:\restro-backend\src\controllers\permission.controller.js:53:25)
2026-02-03 18:26:50 [ERROR]: Unhandled error: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:90:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async PermissionService.getGrantablePermissions (E:\restro-backend\src\services\permission.service.js:566:26)
    at async getGrantablePermissions (E:\restro-backend\src\controllers\permission.controller.js:53:25)
2026-02-03 18:26:50 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:56:50 +0000] "GET /api/v1/permissions/grantable HTTP/1.1" 500 535 "-" "axios/1.13.4"
2026-02-03 18:26:51 [INFO]: User created: 54 by 1
2026-02-03 18:26:51 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:56:51 +0000] "POST /api/v1/users HTTP/1.1" 201 500 "-" "axios/1.13.4"
2026-02-03 18:26:51 [ERROR]: Get user permissions failed: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:157:17)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async getUserPermissions (E:\restro-backend\src\controllers\permission.controller.js:74:25)
2026-02-03 18:26:51 [ERROR]: Unhandled error: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:157:17)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async getUserPermissions (E:\restro-backend\src\controllers\permission.controller.js:74:25)
2026-02-03 18:26:51 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:56:51 +0000] "GET /api/v1/users/54/permissions HTTP/1.1" 500 409 "-" "axios/1.13.4"
2026-02-03 18:26:51 [ERROR]: Grant permissions failed: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:90:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async PermissionService.grantPermissions (E:\restro-backend\src\services\permission.service.js:195:26)
    at async grantPermissions (E:\restro-backend\src\controllers\permission.controller.js:147:20)
2026-02-03 18:26:51 [ERROR]: Unhandled error: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:90:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async PermissionService.grantPermissions (E:\restro-backend\src\services\permission.service.js:195:26)
    at async grantPermissions (E:\restro-backend\src\controllers\permission.controller.js:147:20)
2026-02-03 18:26:51 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:56:51 +0000] "POST /api/v1/users/54/permissions/grant HTTP/1.1" 500 522 "-" "axios/1.13.4"
2026-02-03 18:26:51 [ERROR]: Get user permissions failed: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:157:17)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async getUserPermissions (E:\restro-backend\src\controllers\permission.controller.js:74:25)
2026-02-03 18:26:51 [ERROR]: Unhandled error: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:157:17)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async getUserPermissions (E:\restro-backend\src\controllers\permission.controller.js:74:25)
2026-02-03 18:26:51 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:56:51 +0000] "GET /api/v1/users/54/permissions HTTP/1.1" 500 409 "-" "axios/1.13.4"
2026-02-03 18:26:51 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:56:51 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 838 "-" "axios/1.13.4"
2026-02-03 18:26:51 [ERROR]: Get my permissions failed: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:157:17)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async getMyPermissions (E:\restro-backend\src\controllers\permission.controller.js:34:25)
2026-02-03 18:26:51 [ERROR]: Unhandled error: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:157:17)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async getMyPermissions (E:\restro-backend\src\controllers\permission.controller.js:34:25)
2026-02-03 18:26:51 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:56:51 +0000] "GET /api/v1/permissions/my HTTP/1.1" 500 407 "-" "axios/1.13.4"
2026-02-03 18:26:52 [INFO]: User created: 55 by 1
2026-02-03 18:26:52 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:56:52 +0000] "POST /api/v1/users HTTP/1.1" 201 478 "-" "axios/1.13.4"
2026-02-03 18:26:52 [ERROR]: Get user permissions failed: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:157:17)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async getUserPermissions (E:\restro-backend\src\controllers\permission.controller.js:74:25)
2026-02-03 18:26:52 [ERROR]: Unhandled error: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:157:17)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async getUserPermissions (E:\restro-backend\src\controllers\permission.controller.js:74:25)
2026-02-03 18:26:52 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:56:52 +0000] "GET /api/v1/users/55/permissions HTTP/1.1" 500 409 "-" "axios/1.13.4"
2026-02-03 18:26:52 [ERROR]: Grant permissions failed: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:90:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async PermissionService.grantPermissions (E:\restro-backend\src\services\permission.service.js:195:26)
    at async grantPermissions (E:\restro-backend\src\controllers\permission.controller.js:147:20)
2026-02-03 18:26:52 [ERROR]: Unhandled error: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:90:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async PermissionService.grantPermissions (E:\restro-backend\src\services\permission.service.js:195:26)
    at async grantPermissions (E:\restro-backend\src\controllers\permission.controller.js:147:20)
2026-02-03 18:26:52 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:56:52 +0000] "POST /api/v1/users/55/permissions/grant HTTP/1.1" 500 522 "-" "axios/1.13.4"
2026-02-03 18:26:52 [ERROR]: Revoke permissions failed: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:90:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async PermissionService.revokePermissions (E:\restro-backend\src\services\permission.service.js:289:26)
    at async revokePermissions (E:\restro-backend\src\controllers\permission.controller.js:192:20)
2026-02-03 18:26:52 [ERROR]: Unhandled error: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:90:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async PermissionService.revokePermissions (E:\restro-backend\src\services\permission.service.js:289:26)
    at async revokePermissions (E:\restro-backend\src\controllers\permission.controller.js:192:20)
2026-02-03 18:26:52 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:56:52 +0000] "POST /api/v1/users/55/permissions/revoke HTTP/1.1" 500 524 "-" "axios/1.13.4"
2026-02-03 18:26:52 [ERROR]: Get user permissions failed: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:157:17)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async getUserPermissions (E:\restro-backend\src\controllers\permission.controller.js:74:25)
2026-02-03 18:26:52 [ERROR]: Unhandled error: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:157:17)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async getUserPermissions (E:\restro-backend\src\controllers\permission.controller.js:74:25)
2026-02-03 18:26:52 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:56:52 +0000] "GET /api/v1/users/55/permissions HTTP/1.1" 500 409 "-" "axios/1.13.4"
2026-02-03 18:26:52 [INFO]: User created: 56 by 54
2026-02-03 18:26:52 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:56:52 +0000] "POST /api/v1/users HTTP/1.1" 201 476 "-" "axios/1.13.4"
2026-02-03 18:26:52 [ERROR]: Grant permissions failed: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:157:17)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async PermissionService.grantPermissions (E:\restro-backend\src\services\permission.service.js:195:26)
    at async grantPermissions (E:\restro-backend\src\controllers\permission.controller.js:147:20)
2026-02-03 18:26:52 [ERROR]: Unhandled error: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:157:17)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async PermissionService.grantPermissions (E:\restro-backend\src\services\permission.service.js:195:26)
    at async grantPermissions (E:\restro-backend\src\controllers\permission.controller.js:147:20)
2026-02-03 18:26:52 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:56:52 +0000] "POST /api/v1/users/56/permissions/grant HTTP/1.1" 500 523 "-" "axios/1.13.4"
2026-02-03 18:26:52 [ERROR]: Get grantable permissions failed: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:157:17)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async PermissionService.getGrantablePermissions (E:\restro-backend\src\services\permission.service.js:566:26)
    at async getGrantablePermissions (E:\restro-backend\src\controllers\permission.controller.js:53:25)
2026-02-03 18:26:52 [ERROR]: Unhandled error: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:157:17)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async PermissionService.getGrantablePermissions (E:\restro-backend\src\services\permission.service.js:566:26)
    at async getGrantablePermissions (E:\restro-backend\src\controllers\permission.controller.js:53:25)
2026-02-03 18:26:52 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:56:52 +0000] "GET /api/v1/permissions/grantable HTTP/1.1" 500 536 "-" "axios/1.13.4"
2026-02-03 18:26:52 [ERROR]: Grant permissions failed: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:157:17)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async PermissionService.grantPermissions (E:\restro-backend\src\services\permission.service.js:195:26)
    at async grantPermissions (E:\restro-backend\src\controllers\permission.controller.js:147:20)
2026-02-03 18:26:52 [ERROR]: Unhandled error: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:157:17)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async PermissionService.grantPermissions (E:\restro-backend\src\services\permission.service.js:195:26)
    at async grantPermissions (E:\restro-backend\src\controllers\permission.controller.js:147:20)
2026-02-03 18:26:52 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:56:52 +0000] "POST /api/v1/users/56/permissions/grant HTTP/1.1" 500 523 "-" "axios/1.13.4"
2026-02-03 18:26:52 [ERROR]: Grant permissions failed: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:157:17)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async PermissionService.grantPermissions (E:\restro-backend\src\services\permission.service.js:195:26)
    at async grantPermissions (E:\restro-backend\src\controllers\permission.controller.js:147:20)
2026-02-03 18:26:52 [ERROR]: Unhandled error: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:157:17)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async PermissionService.grantPermissions (E:\restro-backend\src\services\permission.service.js:195:26)
    at async grantPermissions (E:\restro-backend\src\controllers\permission.controller.js:147:20)
2026-02-03 18:26:52 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:56:52 +0000] "POST /api/v1/users/56/permissions/grant HTTP/1.1" 500 523 "-" "axios/1.13.4"
2026-02-03 18:26:52 [ERROR]: Grant permissions failed: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:157:17)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async PermissionService.grantPermissions (E:\restro-backend\src\services\permission.service.js:195:26)
    at async grantPermissions (E:\restro-backend\src\controllers\permission.controller.js:147:20)
2026-02-03 18:26:52 [ERROR]: Unhandled error: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:157:17)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async PermissionService.grantPermissions (E:\restro-backend\src\services\permission.service.js:195:26)
    at async grantPermissions (E:\restro-backend\src\controllers\permission.controller.js:147:20)
2026-02-03 18:26:52 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:56:52 +0000] "POST /api/v1/users/54/permissions/grant HTTP/1.1" 500 523 "-" "axios/1.13.4"
2026-02-03 18:26:52 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:56:52 +0000] "GET /api/v1/users/55/permissions/history HTTP/1.1" 200 26 "-" "axios/1.13.4"
2026-02-03 18:26:52 [ERROR]: Set user permissions failed: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:90:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async PermissionService.setUserPermissions (E:\restro-backend\src\services\permission.service.js:369:25)
    at async setUserPermissions (E:\restro-backend\src\controllers\permission.controller.js:102:20)
2026-02-03 18:26:52 [ERROR]: Unhandled error: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:90:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async PermissionService.setUserPermissions (E:\restro-backend\src\services\permission.service.js:369:25)
    at async setUserPermissions (E:\restro-backend\src\controllers\permission.controller.js:102:20)
2026-02-03 18:26:52 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:56:52 +0000] "PUT /api/v1/users/55/permissions HTTP/1.1" 500 526 "-" "axios/1.13.4"
2026-02-03 18:26:52 [ERROR]: Get user permissions failed: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:157:17)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async getUserPermissions (E:\restro-backend\src\controllers\permission.controller.js:74:25)
2026-02-03 18:26:52 [ERROR]: Unhandled error: cache.setex is not a function
TypeError: cache.setex is not a function
    at PermissionService.getUserPermissions (E:\restro-backend\src\services\permission.service.js:157:17)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async getUserPermissions (E:\restro-backend\src\controllers\permission.controller.js:74:25)
2026-02-03 18:26:52 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:56:52 +0000] "GET /api/v1/users/55/permissions HTTP/1.1" 500 409 "-" "axios/1.13.4"
2026-02-03 18:27:08 [INFO]: Database pool created successfully
2026-02-03 18:27:08 [INFO]: Database connected successfully
2026-02-03 18:27:08 [INFO]: Redis connected
2026-02-03 18:27:08 [INFO]: Redis connected
2026-02-03 18:27:08 [INFO]: Redis connected successfully
2026-02-03 18:27:08 [INFO]: WebSocket initialized
2026-02-03 18:27:08 [INFO]: Initialized 6 queues
2026-02-03 18:27:08 [INFO]: Queues initialized
2026-02-03 18:27:08 [INFO]: Started 3 cron jobs
2026-02-03 18:27:08 [INFO]: Cron jobs initialized
2026-02-03 18:27:08 [INFO]: Server running on port 3000 in development mode
2026-02-03 18:27:15 [INFO]: Database pool created successfully
2026-02-03 18:27:15 [INFO]: Database connected successfully
2026-02-03 18:27:15 [INFO]: Redis connected
2026-02-03 18:27:15 [INFO]: Redis connected
2026-02-03 18:27:15 [INFO]: Redis connected successfully
2026-02-03 18:27:15 [INFO]: WebSocket initialized
2026-02-03 18:27:15 [INFO]: Initialized 6 queues
2026-02-03 18:27:15 [INFO]: Queues initialized
2026-02-03 18:27:15 [INFO]: Started 3 cron jobs
2026-02-03 18:27:15 [INFO]: Cron jobs initialized
2026-02-03 18:27:15 [INFO]: Server running on port 3000 in development mode
2026-02-03 18:27:32 [INFO]: Database pool created successfully
2026-02-03 18:27:32 [INFO]: Database connected successfully
2026-02-03 18:27:32 [INFO]: Redis connected
2026-02-03 18:27:32 [INFO]: Redis connected
2026-02-03 18:27:32 [INFO]: Redis connected successfully
2026-02-03 18:27:32 [INFO]: WebSocket initialized
2026-02-03 18:27:32 [INFO]: Initialized 6 queues
2026-02-03 18:27:32 [INFO]: Queues initialized
2026-02-03 18:27:32 [INFO]: Started 3 cron jobs
2026-02-03 18:27:32 [INFO]: Cron jobs initialized
2026-02-03 18:27:32 [INFO]: Server running on port 3000 in development mode
2026-02-03 18:27:44 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:57:44 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "axios/1.13.4"
2026-02-03 18:27:44 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:57:44 +0000] "GET /api/v1/outlets HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:27:44 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:57:44 +0000] "GET /api/v1/users/roles HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:27:44 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:57:44 +0000] "GET /api/v1/permissions HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:27:44 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:57:44 +0000] "GET /api/v1/permissions/my HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:27:44 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:57:44 +0000] "POST /api/v1/permissions/check HTTP/1.1" 200 148 "-" "axios/1.13.4"
2026-02-03 18:27:44 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:57:44 +0000] "GET /api/v1/permissions/grantable HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:27:45 [INFO]: User created: 57 by 1
2026-02-03 18:27:45 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:57:45 +0000] "POST /api/v1/users HTTP/1.1" 201 500 "-" "axios/1.13.4"
2026-02-03 18:27:45 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:57:45 +0000] "GET /api/v1/users/57/permissions HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:27:45 [INFO]: Permission update event for user 57
2026-02-03 18:27:45 [INFO]: Permissions granted to user 57 by 1: OUTLET_CREATE, OUTLET_DELETE
2026-02-03 18:27:45 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:57:45 +0000] "POST /api/v1/users/57/permissions/grant HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:27:45 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:57:45 +0000] "GET /api/v1/users/57/permissions HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:27:45 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:57:45 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 838 "-" "axios/1.13.4"
2026-02-03 18:27:45 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:57:45 +0000] "GET /api/v1/permissions/my HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:27:45 [INFO]: User created: 58 by 1
2026-02-03 18:27:45 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:57:45 +0000] "POST /api/v1/users HTTP/1.1" 201 478 "-" "axios/1.13.4"
2026-02-03 18:27:45 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:57:45 +0000] "GET /api/v1/users/58/permissions HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:27:45 [INFO]: Permission update event for user 58
2026-02-03 18:27:45 [INFO]: Permissions granted to user 58 by 1: DISCOUNT_CUSTOM
2026-02-03 18:27:45 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:57:45 +0000] "POST /api/v1/users/58/permissions/grant HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:27:45 [INFO]: Permission update event for user 58
2026-02-03 18:27:45 [INFO]: Permissions revoked from user 58 by 1: KOT_MODIFY
2026-02-03 18:27:45 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:57:45 +0000] "POST /api/v1/users/58/permissions/revoke HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:27:45 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:57:45 +0000] "GET /api/v1/users/58/permissions HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:27:46 [INFO]: User created: 59 by 57
2026-02-03 18:27:46 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:57:46 +0000] "POST /api/v1/users HTTP/1.1" 201 476 "-" "axios/1.13.4"
2026-02-03 18:27:46 [INFO]: Permission update event for user 59
2026-02-03 18:27:46 [INFO]: Permissions granted to user 59 by 57: ORDER_CANCEL, BILL_CANCEL
2026-02-03 18:27:46 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:57:46 +0000] "POST /api/v1/users/59/permissions/grant HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:27:46 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:57:46 +0000] "GET /api/v1/permissions/grantable HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:27:46 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:57:46 +0000] "POST /api/v1/users/59/permissions/grant HTTP/1.1" 403 90 "-" "axios/1.13.4"
2026-02-03 18:27:46 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:57:46 +0000] "POST /api/v1/users/59/permissions/grant HTTP/1.1" 403 88 "-" "axios/1.13.4"
2026-02-03 18:27:46 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:57:46 +0000] "POST /api/v1/users/57/permissions/grant HTTP/1.1" 403 86 "-" "axios/1.13.4"
2026-02-03 18:27:46 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:57:46 +0000] "GET /api/v1/users/58/permissions/history HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:27:46 [INFO]: Permission update event for user 58
2026-02-03 18:27:46 [INFO]: Permissions set for user 58 by 1: 5 permissions
2026-02-03 18:27:46 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:57:46 +0000] "PUT /api/v1/users/58/permissions HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:27:46 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:57:46 +0000] "GET /api/v1/users/58/permissions HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:28:38 [INFO]: Database pool created successfully
2026-02-03 18:28:38 [INFO]: Database connected successfully
2026-02-03 18:28:38 [INFO]: Redis connected
2026-02-03 18:28:38 [INFO]: Redis connected
2026-02-03 18:28:38 [INFO]: Redis connected successfully
2026-02-03 18:28:38 [INFO]: WebSocket initialized
2026-02-03 18:28:38 [INFO]: Initialized 6 queues
2026-02-03 18:28:38 [INFO]: Queues initialized
2026-02-03 18:28:38 [INFO]: Started 3 cron jobs
2026-02-03 18:28:38 [INFO]: Cron jobs initialized
2026-02-03 18:28:39 [INFO]: Server running on port 3000 in development mode
2026-02-03 18:28:49 [INFO]: Database pool created successfully
2026-02-03 18:28:49 [INFO]: Database connected successfully
2026-02-03 18:28:49 [INFO]: Redis connected
2026-02-03 18:28:49 [INFO]: Redis connected
2026-02-03 18:28:49 [INFO]: Redis connected successfully
2026-02-03 18:28:49 [INFO]: WebSocket initialized
2026-02-03 18:28:49 [INFO]: Initialized 6 queues
2026-02-03 18:28:49 [INFO]: Queues initialized
2026-02-03 18:28:49 [INFO]: Started 3 cron jobs
2026-02-03 18:28:49 [INFO]: Cron jobs initialized
2026-02-03 18:28:49 [INFO]: Server running on port 3000 in development mode
2026-02-03 18:29:06 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:59:06 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "axios/1.13.4"
2026-02-03 18:29:06 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:59:06 +0000] "GET /api/v1/outlets HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:29:06 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:59:06 +0000] "GET /api/v1/users/roles HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:29:06 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:59:06 +0000] "GET /api/v1/permissions HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:29:06 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:59:06 +0000] "GET /api/v1/permissions/my HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:29:06 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:59:06 +0000] "POST /api/v1/permissions/check HTTP/1.1" 200 148 "-" "axios/1.13.4"
2026-02-03 18:29:06 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:59:06 +0000] "GET /api/v1/permissions/grantable HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:29:07 [INFO]: User created: 60 by 1
2026-02-03 18:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:59:07 +0000] "POST /api/v1/users HTTP/1.1" 201 500 "-" "axios/1.13.4"
2026-02-03 18:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:59:07 +0000] "GET /api/v1/users/60/permissions HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:29:07 [INFO]: Permission update event for user 60
2026-02-03 18:29:07 [INFO]: Permissions granted to user 60 by 1: OUTLET_CREATE, OUTLET_DELETE
2026-02-03 18:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:59:07 +0000] "POST /api/v1/users/60/permissions/grant HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:59:07 +0000] "GET /api/v1/users/60/permissions HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:59:07 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 838 "-" "axios/1.13.4"
2026-02-03 18:29:07 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:59:07 +0000] "GET /api/v1/permissions/my HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:29:08 [INFO]: User created: 61 by 1
2026-02-03 18:29:08 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:59:08 +0000] "POST /api/v1/users HTTP/1.1" 201 478 "-" "axios/1.13.4"
2026-02-03 18:29:08 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:59:08 +0000] "GET /api/v1/users/61/permissions HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:29:08 [INFO]: Permission update event for user 61
2026-02-03 18:29:08 [INFO]: Permissions granted to user 61 by 1: DISCOUNT_CUSTOM
2026-02-03 18:29:08 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:59:08 +0000] "POST /api/v1/users/61/permissions/grant HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:29:08 [INFO]: Permission update event for user 61
2026-02-03 18:29:08 [INFO]: Permissions revoked from user 61 by 1: KOT_MODIFY
2026-02-03 18:29:08 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:59:08 +0000] "POST /api/v1/users/61/permissions/revoke HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:29:08 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:59:08 +0000] "GET /api/v1/users/61/permissions HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:29:08 [INFO]: User created: 62 by 60
2026-02-03 18:29:08 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:59:08 +0000] "POST /api/v1/users HTTP/1.1" 201 476 "-" "axios/1.13.4"
2026-02-03 18:29:08 [INFO]: Permission update event for user 62
2026-02-03 18:29:08 [INFO]: Permissions granted to user 62 by 60: ORDER_CANCEL, BILL_CANCEL
2026-02-03 18:29:08 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:59:08 +0000] "POST /api/v1/users/62/permissions/grant HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:29:08 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:59:08 +0000] "GET /api/v1/permissions/grantable HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:29:08 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:59:08 +0000] "POST /api/v1/users/62/permissions/grant HTTP/1.1" 403 90 "-" "axios/1.13.4"
2026-02-03 18:29:08 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:59:08 +0000] "POST /api/v1/users/62/permissions/grant HTTP/1.1" 403 88 "-" "axios/1.13.4"
2026-02-03 18:29:08 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:59:08 +0000] "POST /api/v1/users/60/permissions/grant HTTP/1.1" 403 86 "-" "axios/1.13.4"
2026-02-03 18:29:08 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:59:08 +0000] "GET /api/v1/users/61/permissions/history HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:29:08 [INFO]: Permission update event for user 61
2026-02-03 18:29:08 [INFO]: Permissions set for user 61 by 1: 5 permissions
2026-02-03 18:29:08 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:59:08 +0000] "PUT /api/v1/users/61/permissions HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:29:08 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:12:59:08 +0000] "GET /api/v1/users/61/permissions HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:30:00 [INFO]: Running report aggregation cron job
2026-02-03 18:30:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 60
2026-02-03 18:32:07 [INFO]: Database pool created successfully
2026-02-03 18:32:07 [INFO]: Database connected successfully
2026-02-03 18:32:07 [INFO]: Redis connected
2026-02-03 18:32:07 [INFO]: Redis connected
2026-02-03 18:32:07 [INFO]: Redis connected successfully
2026-02-03 18:32:07 [INFO]: WebSocket initialized
2026-02-03 18:32:07 [INFO]: Initialized 6 queues
2026-02-03 18:32:07 [INFO]: Queues initialized
2026-02-03 18:32:07 [INFO]: Started 3 cron jobs
2026-02-03 18:32:07 [INFO]: Cron jobs initialized
2026-02-03 18:32:07 [INFO]: Server running on port 3000 in development mode
2026-02-03 18:33:49 [INFO]: ::1 - - [03/Feb/2026:13:03:49 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "PostmanRuntime/7.51.1"
2026-02-03 18:34:08 [INFO]: ::1 - - [03/Feb/2026:13:04:08 +0000] "GET /api/v1/permissions HTTP/1.1" 200 - "-" "PostmanRuntime/7.51.1"
2026-02-03 18:34:29 [INFO]: ::1 - - [03/Feb/2026:13:04:29 +0000] "GET /api/v1/permissions/my HTTP/1.1" 200 - "-" "PostmanRuntime/7.51.1"
2026-02-03 18:34:50 [INFO]: ::1 - - [03/Feb/2026:13:04:50 +0000] "GET /api/v1/permissions/grantable HTTP/1.1" 200 - "-" "PostmanRuntime/7.51.1"
2026-02-03 18:35:00 [INFO]: Running report aggregation cron job
2026-02-03 18:35:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 61
2026-02-03 18:35:06 [INFO]: ::1 - - [03/Feb/2026:13:05:06 +0000] "POST /api/v1/permissions/check HTTP/1.1" 200 148 "-" "PostmanRuntime/7.51.1"
2026-02-03 18:35:19 [INFO]: ::1 - - [03/Feb/2026:13:05:19 +0000] "GET /api/v1/permissions/roles/4 HTTP/1.1" 200 - "-" "PostmanRuntime/7.51.1"
2026-02-03 18:35:56 [INFO]: User created: 63 by 1
2026-02-03 18:35:56 [INFO]: ::1 - - [03/Feb/2026:13:05:56 +0000] "POST /api/v1/users HTTP/1.1" 201 507 "-" "PostmanRuntime/7.51.1"
2026-02-03 18:36:16 [INFO]: ::1 - - [03/Feb/2026:13:06:16 +0000] "GET /api/v1/users/63/permissions HTTP/1.1" 200 - "-" "PostmanRuntime/7.51.1"
2026-02-03 18:36:54 [INFO]: Permission update event for user 63
2026-02-03 18:36:54 [INFO]: Permissions granted to user 63 by 1: OUTLET_CREATE, OUTLET_EDIT
2026-02-03 18:36:54 [INFO]: ::1 - - [03/Feb/2026:13:06:54 +0000] "POST /api/v1/users/63/permissions/grant HTTP/1.1" 200 - "-" "PostmanRuntime/7.51.1"
2026-02-03 18:37:07 [INFO]: Permission update event for user 63
2026-02-03 18:37:07 [INFO]: Permissions revoked from user 63 by 1: INVENTORY_TRANSFER
2026-02-03 18:37:07 [INFO]: ::1 - - [03/Feb/2026:13:07:07 +0000] "POST /api/v1/users/63/permissions/revoke HTTP/1.1" 200 - "-" "PostmanRuntime/7.51.1"
2026-02-03 18:37:25 [INFO]: ::1 - - [03/Feb/2026:13:07:25 +0000] "GET /api/v1/users//permissions HTTP/1.1" 200 - "-" "PostmanRuntime/7.51.1"
2026-02-03 18:37:45 [INFO]: ::1 - - [03/Feb/2026:13:07:45 +0000] "POST /api/v1/users//permissions/grant HTTP/1.1" 404 48 "-" "PostmanRuntime/7.51.1"
2026-02-03 18:37:59 [INFO]: User created: 64 by 1
2026-02-03 18:37:59 [INFO]: ::1 - - [03/Feb/2026:13:07:59 +0000] "POST /api/v1/users HTTP/1.1" 201 477 "-" "PostmanRuntime/7.51.1"
2026-02-03 18:38:13 [INFO]: Permission update event for user 64
2026-02-03 18:38:13 [INFO]: Permissions granted to user 64 by 1: DISCOUNT_CUSTOM
2026-02-03 18:38:13 [INFO]: ::1 - - [03/Feb/2026:13:08:13 +0000] "POST /api/v1/users/64/permissions/grant HTTP/1.1" 200 - "-" "PostmanRuntime/7.51.1"
2026-02-03 18:38:37 [WARN]: Login failed:
2026-02-03 18:38:37 [INFO]: ::1 - - [03/Feb/2026:13:08:37 +0000] "POST /api/v1/auth/login HTTP/1.1" 401 55 "-" "PostmanRuntime/7.51.1"
2026-02-03 18:40:00 [INFO]: Running report aggregation cron job
2026-02-03 18:40:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 62
2026-02-03 18:45:00 [INFO]: Running report aggregation cron job
2026-02-03 18:45:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 63
2026-02-03 18:45:44 [INFO]: Database pool created successfully
2026-02-03 18:45:44 [INFO]: Database connected successfully
2026-02-03 18:45:44 [INFO]: Redis connected
2026-02-03 18:45:44 [INFO]: Redis connected
2026-02-03 18:45:44 [INFO]: Redis connected successfully
2026-02-03 18:45:44 [INFO]: WebSocket initialized
2026-02-03 18:45:44 [INFO]: Initialized 6 queues
2026-02-03 18:45:44 [INFO]: Queues initialized
2026-02-03 18:45:44 [INFO]: Started 3 cron jobs
2026-02-03 18:45:44 [INFO]: Cron jobs initialized
2026-02-03 18:45:44 [INFO]: Server running on port 3000 in development mode
2026-02-03 18:46:12 [INFO]: Database pool created successfully
2026-02-03 18:46:12 [INFO]: Database connected successfully
2026-02-03 18:46:12 [INFO]: Redis connected
2026-02-03 18:46:12 [INFO]: Redis connected
2026-02-03 18:46:12 [INFO]: Redis connected successfully
2026-02-03 18:46:12 [INFO]: WebSocket initialized
2026-02-03 18:46:12 [INFO]: Initialized 6 queues
2026-02-03 18:46:12 [INFO]: Queues initialized
2026-02-03 18:46:12 [INFO]: Started 3 cron jobs
2026-02-03 18:46:12 [INFO]: Cron jobs initialized
2026-02-03 18:46:12 [INFO]: Server running on port 3000 in development mode
2026-02-03 18:47:38 [INFO]: Database pool created successfully
2026-02-03 18:47:38 [INFO]: Database connected successfully
2026-02-03 18:47:38 [INFO]: Redis connected
2026-02-03 18:47:38 [INFO]: Redis connected
2026-02-03 18:47:38 [INFO]: Redis connected successfully
2026-02-03 18:47:38 [INFO]: WebSocket initialized
2026-02-03 18:47:38 [INFO]: Initialized 6 queues
2026-02-03 18:47:38 [INFO]: Queues initialized
2026-02-03 18:47:38 [INFO]: Started 3 cron jobs
2026-02-03 18:47:38 [INFO]: Cron jobs initialized
2026-02-03 18:47:38 [INFO]: Server running on port 3000 in development mode
2026-02-03 18:47:57 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:13:17:57 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "axios/1.13.4"
2026-02-03 18:47:57 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:13:17:57 +0000] "GET /api/v1/outlets HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:47:57 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:13:17:57 +0000] "GET /api/v1/users/roles HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:47:57 [INFO]: User created: 65 by 1
2026-02-03 18:47:57 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:13:17:57 +0000] "POST /api/v1/users HTTP/1.1" 201 - "-" "axios/1.13.4"
2026-02-03 18:47:58 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:13:17:58 +0000] "POST /api/v1/auth/login/pin HTTP/1.1" 200 839 "-" "axios/1.13.4"
2026-02-03 18:47:58 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:13:17:58 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 860 "-" "axios/1.13.4"
2026-02-03 18:47:58 [INFO]: User created: 66 by 1
2026-02-03 18:47:58 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:13:17:58 +0000] "POST /api/v1/users HTTP/1.1" 201 819 "-" "axios/1.13.4"
2026-02-03 18:47:59 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:13:17:59 +0000] "POST /api/v1/auth/login/pin HTTP/1.1" 200 774 "-" "axios/1.13.4"
2026-02-03 18:47:59 [INFO]: User created: 67 by 65
2026-02-03 18:47:59 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:13:17:59 +0000] "POST /api/v1/users HTTP/1.1" 201 821 "-" "axios/1.13.4"
2026-02-03 18:48:00 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:13:18:00 +0000] "POST /api/v1/auth/login/pin HTTP/1.1" 200 776 "-" "axios/1.13.4"
2026-02-03 18:48:00 [INFO]: User deleted: 67 by 1
2026-02-03 18:48:00 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:13:18:00 +0000] "DELETE /api/v1/users/67 HTTP/1.1" 200 54 "-" "axios/1.13.4"
2026-02-03 18:48:00 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:13:18:00 +0000] "GET /api/v1/auth/me HTTP/1.1" 200 557 "-" "axios/1.13.4"
2026-02-03 18:48:00 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:13:18:00 +0000] "GET /api/v1/auth/me HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:48:00 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:13:18:00 +0000] "GET /api/v1/auth/me HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:48:00 [ERROR]: Unhandled error: Validation failed {"statusCode":422,"isOperational":true,"status":"fail","errors":[{"field":"pin","message":"PIN is required for all staff"}]}
Error: Validation failed
    at E:\restro-backend\src\middlewares\validate.js:24:19
    at Layer.handle [as handle_request] (E:\restro-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (E:\restro-backend\node_modules\express\lib\router\route.js:149:13)
    at E:\restro-backend\src\middlewares\auth.middleware.js:119:14
    at Layer.handle [as handle_request] (E:\restro-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (E:\restro-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (E:\restro-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (E:\restro-backend\node_modules\express\lib\router\layer.js:95:5)
    at E:\restro-backend\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (E:\restro-backend\node_modules\express\lib\router\index.js:346:12)
2026-02-03 18:48:00 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:13:18:00 +0000] "POST /api/v1/users HTTP/1.1" 500 1128 "-" "axios/1.13.4"
2026-02-03 18:48:00 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:13:18:00 +0000] "GET /api/v1/permissions/my HTTP/1.1" 200 - "-" "axios/1.13.4"
2026-02-03 18:48:00 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:13:18:00 +0000] "POST /api/v1/users/66/permissions/grant HTTP/1.1" 403 90 "-" "axios/1.13.4"
2026-02-03 18:48:00 [INFO]: User deleted: 66 by 1
2026-02-03 18:48:00 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:13:18:00 +0000] "DELETE /api/v1/users/66 HTTP/1.1" 200 54 "-" "axios/1.13.4"
2026-02-03 18:48:00 [INFO]: User deleted: 65 by 1
2026-02-03 18:48:00 [INFO]: ::ffff:127.0.0.1 - - [03/Feb/2026:13:18:00 +0000] "DELETE /api/v1/users/65 HTTP/1.1" 200 54 "-" "axios/1.13.4"
2026-02-03 18:49:50 [INFO]: Database pool created successfully
2026-02-03 18:49:50 [INFO]: Database connected successfully
2026-02-03 18:49:50 [INFO]: Redis connected
2026-02-03 18:49:50 [INFO]: Redis connected
2026-02-03 18:49:50 [INFO]: Redis connected successfully
2026-02-03 18:49:50 [INFO]: WebSocket initialized
2026-02-03 18:49:50 [INFO]: Initialized 6 queues
2026-02-03 18:49:50 [INFO]: Queues initialized
2026-02-03 18:49:50 [INFO]: Started 3 cron jobs
2026-02-03 18:49:50 [INFO]: Cron jobs initialized
2026-02-03 18:49:50 [INFO]: Server running on port 3000 in development mode
2026-02-03 18:50:00 [INFO]: Running report aggregation cron job
2026-02-03 18:50:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 64
2026-02-03 18:52:16 [INFO]: ::1 - - [03/Feb/2026:13:22:16 +0000] "POST /api/v1/auth/login HTTP/1.1" 200 837 "-" "PostmanRuntime/7.51.1"
2026-02-03 18:52:32 [WARN]: PIN login failed:
2026-02-03 18:52:32 [INFO]: ::1 - - [03/Feb/2026:13:22:32 +0000] "POST /api/v1/auth/login/pin HTTP/1.1" 401 58 "-" "PostmanRuntime/7.51.1"
2026-02-03 18:52:57 [INFO]: ::1 - - [03/Feb/2026:13:22:57 +0000] "POST /api/v1/users HTTP/1.1" 409 58 "-" "PostmanRuntime/7.51.1"
2026-02-03 18:53:04 [INFO]: ::1 - - [03/Feb/2026:13:23:04 +0000] "POST /api/v1/users HTTP/1.1" 409 58 "-" "PostmanRuntime/7.51.1"
2026-02-03 18:53:11 [INFO]: User created: 68 by 1
2026-02-03 18:53:11 [INFO]: ::1 - - [03/Feb/2026:13:23:11 +0000] "POST /api/v1/users HTTP/1.1" 201 - "-" "PostmanRuntime/7.51.1"
2026-02-03 18:53:35 [INFO]: ::1 - - [03/Feb/2026:13:23:35 +0000] "GET /api/v1/users/68 HTTP/1.1" 200 - "-" "PostmanRuntime/7.51.1"
2026-02-03 18:53:49 [WARN]: PIN login failed:
2026-02-03 18:53:49 [INFO]: ::1 - - [03/Feb/2026:13:23:49 +0000] "POST /api/v1/auth/login/pin HTTP/1.1" 401 58 "-" "PostmanRuntime/7.51.1"
2026-02-03 18:53:57 [INFO]: ::1 - - [03/Feb/2026:13:23:57 +0000] "POST /api/v1/auth/login/pin HTTP/1.1" 200 826 "-" "PostmanRuntime/7.51.1"
2026-02-03 18:55:00 [INFO]: Running report aggregation cron job
2026-02-03 18:55:00 [DEBUG]: Added job aggregate-reports to queue report, jobId: 65
